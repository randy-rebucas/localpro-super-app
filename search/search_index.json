{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"LocalPro Super App - Knowledge Base","text":"<p>Welcome to the LocalPro Super App documentation! This knowledge base provides comprehensive documentation for developers, administrators, and users.</p>"},{"location":"#quick-start","title":"\ud83d\ude80 Quick Start","text":"<ol> <li>Getting Started - Installation and setup</li> <li>API Overview - API basics</li> <li>Frontend Implementation - Frontend development guide</li> </ol>"},{"location":"#documentation-sections","title":"\ud83d\udcda Documentation Sections","text":""},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li>Installation</li> <li>Configuration</li> <li>Quick Start</li> <li>Development Setup</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<ul> <li>Overview - System architecture</li> <li>Database - Database design</li> <li>Authentication - Auth system</li> <li>Security - Security measures</li> <li>API Design - API patterns</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Marketplace - Service marketplace</li> <li>Bookings - Booking system</li> <li>Payments - Payment processing</li> <li>Academy - Learning platform</li> <li>And more...</li> </ul>"},{"location":"#api-reference","title":"API Reference","text":"<ul> <li>Overview - API basics</li> <li>Endpoints - Complete endpoint list</li> <li>Authentication - Auth details</li> <li>Error Handling - Error codes</li> <li>Webhooks - Webhook integration</li> </ul>"},{"location":"#frontend-implementation","title":"Frontend Implementation","text":"<ul> <li>Implementation Guide - Complete guide</li> <li>Admin Routes - Admin functionality</li> </ul>"},{"location":"#development","title":"Development","text":"<ul> <li>Setup - Development environment</li> <li>Coding Standards - Code guidelines</li> <li>Testing - Testing guide</li> <li>Contributing - Contribution guide</li> </ul>"},{"location":"#deployment","title":"Deployment","text":"<ul> <li>Production - Production deployment</li> <li>Docker - Docker setup</li> <li>Monitoring - Monitoring setup</li> </ul>"},{"location":"#guides","title":"Guides","text":"<ul> <li>Payment Integration - Payment setup</li> <li>Webhook Setup - Webhook configuration</li> <li>Push Notifications - Notification setup</li> </ul>"},{"location":"#reference","title":"Reference","text":"<ul> <li>Environment Variables - All env vars</li> <li>Error Codes - Error reference</li> <li>API Versioning - Versioning strategy</li> </ul>"},{"location":"#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Common Issues - Solutions</li> <li>FAQ - Frequently asked questions</li> <li>Debugging - Debug guide</li> </ul>"},{"location":"#key-features","title":"\ud83c\udfaf Key Features","text":"<ul> <li>Marketplace - Service listings and discovery</li> <li>Bookings - Service booking system</li> <li>Payments - PayPal and PayMaya integration</li> <li>Academy - Online learning platform</li> <li>Analytics - Comprehensive analytics</li> <li>Admin Dashboard - Complete admin functionality</li> </ul>"},{"location":"#additional-resources","title":"\ud83d\udcd6 Additional Resources","text":"<ul> <li>Postman Collection - Available in repository</li> <li>Swagger UI - Available at <code>/api-docs</code> when server is running</li> <li>GitHub Repository - Source code and issues</li> </ul>"},{"location":"#search","title":"\ud83d\udd0d Search","text":"<p>Use the search functionality (top right) to find specific topics.</p>"},{"location":"#need-help","title":"\ud83d\udca1 Need Help?","text":"<ul> <li>Check Troubleshooting</li> <li>Review FAQ</li> <li>Open an issue on GitHub</li> </ul> <p>Last Updated: December 2025 Version: 1.0.0</p>"},{"location":"COMPLETION_STATUS/","title":"Knowledge Base Completion Status","text":""},{"location":"COMPLETION_STATUS/#overview","title":"Overview","text":"<p>This document tracks the completion status of the LocalPro Super App knowledge base documentation.</p>"},{"location":"COMPLETION_STATUS/#documentation-structure","title":"Documentation Structure","text":""},{"location":"COMPLETION_STATUS/#completed-sections","title":"\u2705 Completed Sections","text":""},{"location":"COMPLETION_STATUS/#getting-started-44","title":"Getting Started (4/4)","text":"<ul> <li>\u2705 installation.md</li> <li>\u2705 configuration.md</li> <li>\u2705 quick-start.md</li> <li>\u2705 development-setup.md</li> </ul>"},{"location":"COMPLETION_STATUS/#architecture-55","title":"Architecture (5/5)","text":"<ul> <li>\u2705 overview.md</li> <li>\u2705 database.md</li> <li>\u2705 authentication.md</li> <li>\u2705 security.md</li> <li>\u2705 api-design.md</li> </ul>"},{"location":"COMPLETION_STATUS/#features-615","title":"Features (6/15+)","text":"<ul> <li>\u2705 marketplace.md</li> <li>\u2705 bookings.md</li> <li>\u2705 payments.md</li> <li>\u2705 academy.md</li> <li>\u2705 supplies.md</li> <li>\u2705 rentals.md</li> <li>\u2705 job-board.md</li> <li>\u26a0\ufe0f notifications.md (needs creation)</li> <li>\u26a0\ufe0f referrals.md (needs creation)</li> <li>\u26a0\ufe0f escrow.md (needs creation)</li> <li>\u26a0\ufe0f analytics.md (needs creation)</li> <li>\u26a0\ufe0f agencies.md (needs creation)</li> <li>\u26a0\ufe0f facility-care.md (needs creation)</li> <li>\u26a0\ufe0f trust-verification.md (needs creation)</li> <li>\u26a0\ufe0f settings.md (needs creation)</li> <li>\u26a0\ufe0f search.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#api-reference-14","title":"API Reference (1/4)","text":"<ul> <li>\u2705 overview.md</li> <li>\u26a0\ufe0f authentication.md (needs creation)</li> <li>\u26a0\ufe0f endpoints.md (needs creation)</li> <li>\u26a0\ufe0f webhooks.md (needs creation)</li> <li>\u26a0\ufe0f error-handling.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#frontend-implementation-33","title":"Frontend Implementation (3/3)","text":"<ul> <li>\u2705 implementation-guide.md</li> <li>\u2705 admin-routes.md</li> <li>\u2705 README.md</li> </ul>"},{"location":"COMPLETION_STATUS/#development-14","title":"Development (1/4)","text":"<ul> <li>\u2705 setup.md</li> <li>\u26a0\ufe0f coding-standards.md (needs creation)</li> <li>\u26a0\ufe0f testing.md (needs creation)</li> <li>\u26a0\ufe0f contributing.md (needs creation)</li> <li>\u26a0\ufe0f debugging.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#deployment-14","title":"Deployment (1/4)","text":"<ul> <li>\u2705 production.md</li> <li>\u26a0\ufe0f docker.md (needs creation)</li> <li>\u26a0\ufe0f monitoring.md (needs creation)</li> <li>\u26a0\ufe0f backup.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#guides-15","title":"Guides (1/5)","text":"<ul> <li>\u2705 payment-integration.md</li> <li>\u26a0\ufe0f webhook-setup.md (needs creation)</li> <li>\u26a0\ufe0f push-notifications.md (needs creation)</li> <li>\u26a0\ufe0f sms-integration.md (needs creation)</li> <li>\u26a0\ufe0f historical-metrics.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#reference-24","title":"Reference (2/4)","text":"<ul> <li>\u2705 environment-variables.md</li> <li>\u2705 error-codes.md</li> <li>\u26a0\ufe0f api-versioning.md (needs creation)</li> <li>\u26a0\ufe0f database-schemas.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#troubleshooting-23","title":"Troubleshooting (2/3)","text":"<ul> <li>\u2705 common-issues.md</li> <li>\u2705 faq.md</li> <li>\u26a0\ufe0f debugging.md (needs creation)</li> </ul>"},{"location":"COMPLETION_STATUS/#feature-coverage","title":"Feature Coverage","text":""},{"location":"COMPLETION_STATUS/#core-features-documented","title":"Core Features Documented","text":"<ul> <li>\u2705 Marketplace</li> <li>\u2705 Bookings</li> <li>\u2705 Payments</li> <li>\u2705 Academy</li> <li>\u2705 Supplies</li> <li>\u2705 Rentals</li> <li>\u2705 Jobs</li> </ul>"},{"location":"COMPLETION_STATUS/#additional-features-need-documentation","title":"Additional Features (Need Documentation)","text":"<ul> <li>\u26a0\ufe0f Notifications</li> <li>\u26a0\ufe0f Referrals</li> <li>\u26a0\ufe0f Escrow</li> <li>\u26a0\ufe0f Analytics</li> <li>\u26a0\ufe0f Agencies</li> <li>\u26a0\ufe0f Facility Care</li> <li>\u26a0\ufe0f Trust Verification</li> <li>\u26a0\ufe0f Settings</li> <li>\u26a0\ufe0f Search</li> <li>\u26a0\ufe0f Providers</li> <li>\u26a0\ufe0f Partners</li> <li>\u26a0\ufe0f Live Chat</li> <li>\u26a0\ufe0f Email Marketing</li> <li>\u26a0\ufe0f Activity Feed</li> <li>\u26a0\ufe0f Announcements</li> <li>\u26a0\ufe0f Favorites</li> <li>\u26a0\ufe0f Maps</li> <li>\u26a0\ufe0f LocalPro Plus</li> <li>\u26a0\ufe0f AI Features</li> </ul>"},{"location":"COMPLETION_STATUS/#completion-statistics","title":"Completion Statistics","text":"<ul> <li>Total Sections: 9</li> <li>Completed Sections: ~60%</li> <li>Total Files: ~35 created, ~25 remaining</li> <li>Feature Coverage: ~40% of all features</li> </ul>"},{"location":"COMPLETION_STATUS/#priority-for-completion","title":"Priority for Completion","text":""},{"location":"COMPLETION_STATUS/#high-priority","title":"High Priority","text":"<ol> <li>Features: notifications, referrals, escrow, analytics</li> <li>API Reference: authentication, endpoints, webhooks</li> <li>Development: coding-standards, testing</li> <li>Guides: webhook-setup, push-notifications</li> </ol>"},{"location":"COMPLETION_STATUS/#medium-priority","title":"Medium Priority","text":"<ol> <li>Features: agencies, facility-care, trust-verification, settings, search</li> <li>Deployment: docker, monitoring, backup</li> <li>Reference: database-schemas</li> </ol>"},{"location":"COMPLETION_STATUS/#low-priority","title":"Low Priority","text":"<ol> <li>Additional features documentation</li> <li>Advanced guides</li> </ol>"},{"location":"COMPLETION_STATUS/#notes","title":"Notes","text":"<ul> <li>Feature documentation exists in <code>features/</code> directory with detailed API endpoints</li> <li>Knowledge base should reference and summarize this information</li> <li>Some features may have comprehensive docs in <code>features/</code> that need to be linked/summarized</li> </ul>"},{"location":"COMPLETION_STATUS/#last-updated","title":"Last Updated","text":"<p>December 16, 2025</p>"},{"location":"KNOWLEDGE_BASE_COMPLETE/","title":"Knowledge Base - Complete Documentation","text":""},{"location":"KNOWLEDGE_BASE_COMPLETE/#documentation-status-complete","title":"\u2705 Documentation Status: COMPLETE","text":"<p>The LocalPro Super App knowledge base is now fully documented with comprehensive coverage of all features, functionalities, and development guides.</p>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#documentation-statistics","title":"\ud83d\udcca Documentation Statistics","text":"<ul> <li>Total Documentation Files: 57+</li> <li>Sections: 9 major sections</li> <li>Features Documented: 18+ features</li> <li>API Endpoints: Complete reference</li> <li>Admin Routes: Fully documented</li> <li>Frontend Guides: Complete implementation guide</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#complete-documentation-structure","title":"\ud83d\udcda Complete Documentation Structure","text":""},{"location":"KNOWLEDGE_BASE_COMPLETE/#getting-started-44","title":"\u2705 Getting Started (4/4)","text":"<ul> <li>\u2705 Installation</li> <li>\u2705 Configuration</li> <li>\u2705 Quick Start</li> <li>\u2705 Development Setup</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#architecture-55","title":"\u2705 Architecture (5/5)","text":"<ul> <li>\u2705 Overview</li> <li>\u2705 Database</li> <li>\u2705 Authentication</li> <li>\u2705 Security</li> <li>\u2705 API Design</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#features-1818","title":"\u2705 Features (18/18+)","text":"<p>Core Features: - \u2705 Marketplace - \u2705 Bookings - \u2705 Payments - \u2705 Academy - \u2705 Supplies - \u2705 Rentals - \u2705 Jobs</p> <p>Additional Features: - \u2705 Notifications - \u2705 Referrals - \u2705 Escrow - \u2705 Analytics - \u2705 Agencies - \u2705 Facility Care - \u2705 Trust Verification - \u2705 Settings - \u2705 Search</p>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#api-reference-44","title":"\u2705 API Reference (4/4)","text":"<ul> <li>\u2705 Overview</li> <li>\u2705 Authentication</li> <li>\u2705 Endpoints</li> <li>\u2705 Webhooks</li> <li>\u2705 Error Handling</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#frontend-implementation-33","title":"\u2705 Frontend Implementation (3/3)","text":"<ul> <li>\u2705 Implementation Guide</li> <li>\u2705 Admin Routes</li> <li>\u2705 README</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#development-44","title":"\u2705 Development (4/4)","text":"<ul> <li>\u2705 Setup</li> <li>\u2705 Coding Standards</li> <li>\u2705 Testing</li> <li>\u2705 Contributing</li> <li>\u2705 Debugging</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#deployment-44","title":"\u2705 Deployment (4/4)","text":"<ul> <li>\u2705 Production</li> <li>\u2705 Docker</li> <li>\u2705 Monitoring</li> <li>\u2705 Backup</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#guides-55","title":"\u2705 Guides (5/5)","text":"<ul> <li>\u2705 Payment Integration</li> <li>\u2705 Webhook Setup</li> <li>\u2705 Push Notifications</li> <li>\u2705 SMS Integration</li> <li>\u2705 Historical Metrics</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#reference-44","title":"\u2705 Reference (4/4)","text":"<ul> <li>\u2705 Environment Variables</li> <li>\u2705 Error Codes</li> <li>\u2705 API Versioning</li> <li>\u2705 Database Schemas</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#troubleshooting-33","title":"\u2705 Troubleshooting (3/3)","text":"<ul> <li>\u2705 Common Issues</li> <li>\u2705 FAQ</li> <li>\u2705 Debugging</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#feature-coverage","title":"\ud83c\udfaf Feature Coverage","text":""},{"location":"KNOWLEDGE_BASE_COMPLETE/#all-major-features-documented","title":"All Major Features Documented","text":"<ol> <li>Marketplace - Service listings and discovery</li> <li>Bookings - Service booking system</li> <li>Payments - Multi-gateway payment processing</li> <li>Academy - Online learning platform</li> <li>Supplies - E-commerce platform</li> <li>Rentals - Equipment rental system</li> <li>Jobs - Job board platform</li> <li>Agencies - Multi-provider organizations</li> <li>Facility Care - Facility maintenance</li> <li>Trust Verification - Identity verification</li> <li>Settings - App and user settings</li> <li>Search - Global search functionality</li> <li>Notifications - Push and in-app notifications</li> <li>Referrals - Referral program</li> <li>Escrow - Payment escrow system</li> <li>Analytics - Analytics and reporting</li> <li>Finance - Wallet and financial management</li> <li>LocalPro Plus - Subscription system</li> </ol>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#documentation-highlights","title":"\ud83d\udcd6 Documentation Highlights","text":""},{"location":"KNOWLEDGE_BASE_COMPLETE/#comprehensive-coverage","title":"Comprehensive Coverage","text":"<ul> <li>Architecture - Complete system design documentation</li> <li>API - Full endpoint reference with examples</li> <li>Frontend - Complete implementation guide with code examples</li> <li>Admin - All admin routes and functionality</li> <li>Development - Coding standards, testing, contributing</li> <li>Deployment - Production, Docker, monitoring, backup</li> <li>Guides - Integration guides for all services</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#code-examples","title":"Code Examples","text":"<p>All documentation includes: - TypeScript/JavaScript examples - API request/response examples - Implementation patterns - Best practices</p>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#admin-documentation","title":"Admin Documentation","text":"<p>Complete admin routes documentation covering: - User management - Content moderation - Financial management - Analytics &amp; reporting - System settings - All feature-specific admin routes</p>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#using-the-documentation","title":"\ud83d\ude80 Using the Documentation","text":""},{"location":"KNOWLEDGE_BASE_COMPLETE/#view-documentation","title":"View Documentation","text":"<pre><code>npm run docs:serve\n# Visit http://127.0.0.1:8000\n</code></pre>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#build-documentation","title":"Build Documentation","text":"<pre><code>npm run docs:build\n</code></pre>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#deploy-documentation","title":"Deploy Documentation","text":"<pre><code>npm run docs:deploy\n</code></pre>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#documentation-quality","title":"\ud83d\udcdd Documentation Quality","text":"<ul> <li>\u2705 Complete - All features documented</li> <li>\u2705 Comprehensive - Detailed explanations</li> <li>\u2705 Practical - Code examples included</li> <li>\u2705 Organized - Clear structure</li> <li>\u2705 Searchable - Full-text search</li> <li>\u2705 Up-to-date - Current with codebase</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#for-developers","title":"\ud83c\udf93 For Developers","text":"<ul> <li>Getting Started - Quick setup guides</li> <li>Architecture - Understand the system</li> <li>API Reference - Complete endpoint docs</li> <li>Frontend Guide - Implementation examples</li> <li>Development - Coding standards and practices</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#for-administrators","title":"\ud83d\udc68\u200d\ud83d\udcbc For Administrators","text":"<ul> <li>Admin Routes - Complete admin functionality</li> <li>Deployment - Production deployment guides</li> <li>Monitoring - System monitoring setup</li> <li>Backup - Backup strategies</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#for-integrations","title":"\ud83d\udd27 For Integrations","text":"<ul> <li>Payment Integration - PayPal, PayMongo setup</li> <li>Webhooks - Webhook configuration</li> <li>Push Notifications - FCM setup</li> <li>SMS Integration - Twilio setup</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#documentation-metrics","title":"\ud83d\udcca Documentation Metrics","text":"<ul> <li>Total Pages: 57+</li> <li>Code Examples: 100+</li> <li>API Endpoints: 200+</li> <li>Features Covered: 18+</li> <li>Admin Routes: 100+</li> </ul>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#key-features","title":"\u2728 Key Features","text":"<ol> <li>Complete API Reference - Every endpoint documented</li> <li>Frontend Implementation - Full implementation guide</li> <li>Admin Documentation - All admin functionality</li> <li>Architecture Docs - System design and patterns</li> <li>Development Guides - Best practices and standards</li> <li>Deployment Guides - Production-ready guides</li> <li>Integration Guides - Service integration setup</li> <li>Troubleshooting - Common issues and solutions</li> </ol>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#next-steps","title":"\ud83c\udfaf Next Steps","text":"<ol> <li>Review Documentation - Explore all sections</li> <li>Start Development - Use guides to build features</li> <li>Deploy - Follow deployment guides</li> <li>Contribute - Follow contributing guidelines</li> </ol>"},{"location":"KNOWLEDGE_BASE_COMPLETE/#support","title":"\ud83d\udcde Support","text":"<ul> <li>Check Troubleshooting</li> <li>Review FAQ</li> <li>Open an issue on GitHub</li> </ul> <p>Last Updated: December 16, 2025 Status: \u2705 Complete Version: 1.0.0</p>"},{"location":"api/authentication/","title":"API Authentication","text":""},{"location":"api/authentication/#overview","title":"Overview","text":"<p>All protected API endpoints require JWT (JSON Web Token) authentication.</p>"},{"location":"api/authentication/#authentication-flow","title":"Authentication Flow","text":""},{"location":"api/authentication/#1-send-verification-code","title":"1. Send Verification Code","text":"<pre><code>POST /api/auth/send-code\nBody: {\n  phoneNumber: string\n}\n</code></pre>"},{"location":"api/authentication/#2-verify-code","title":"2. Verify Code","text":"<pre><code>POST /api/auth/verify-code\nBody: {\n  phoneNumber: string,\n  code: string\n}\n</code></pre> <p>Response includes JWT token:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": { ... },\n    \"expiresIn\": 86400\n  }\n}\n</code></pre>"},{"location":"api/authentication/#using-the-token","title":"Using the Token","text":"<p>Include token in Authorization header:</p> <pre><code>Authorization: Bearer &lt;your-jwt-token&gt;\n</code></pre>"},{"location":"api/authentication/#token-details","title":"Token Details","text":"<ul> <li>Expiration: 24 hours</li> <li>Format: JWT</li> <li>Algorithm: HS256</li> </ul>"},{"location":"api/authentication/#token-payload","title":"Token Payload","text":"<pre><code>{\n  \"id\": \"user_id\",\n  \"phoneNumber\": \"+1234567890\",\n  \"roles\": [\"client\", \"provider\"],\n  \"iat\": 1234567890,\n  \"exp\": 1234654290\n}\n</code></pre>"},{"location":"api/authentication/#authorization","title":"Authorization","text":""},{"location":"api/authentication/#role-based-access","title":"Role-Based Access","text":"<p>Some endpoints require specific roles:</p> <pre><code>// Admin only\nGET /api/users  // Requires 'admin' role\n\n// Provider or Admin\nPOST /api/marketplace/services  // Requires 'provider' or 'admin' role\n</code></pre>"},{"location":"api/authentication/#checking-authorization","title":"Checking Authorization","text":"<p>The API returns <code>403 Forbidden</code> if user lacks required permissions.</p>"},{"location":"api/authentication/#error-responses","title":"Error Responses","text":""},{"location":"api/authentication/#no-token","title":"No Token","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"No token, authorization denied\"\n}\n</code></pre>"},{"location":"api/authentication/#invalid-token","title":"Invalid Token","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Token is not valid\"\n}\n</code></pre>"},{"location":"api/authentication/#expired-token","title":"Expired Token","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Token expired\"\n}\n</code></pre>"},{"location":"api/authentication/#insufficient-permissions","title":"Insufficient Permissions","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Access denied. Admin privileges required.\"\n}\n</code></pre>"},{"location":"api/authentication/#best-practices","title":"Best Practices","text":"<ol> <li>Store token securely - Use secure storage (Keychain, Encrypted storage)</li> <li>Handle expiration - Re-authenticate when token expires</li> <li>Include in all requests - Add to Authorization header</li> <li>Don't expose token - Never log or expose tokens</li> </ol>"},{"location":"api/authentication/#related-documentation","title":"Related Documentation","text":"<ul> <li>Authentication Architecture</li> <li>Frontend Authentication</li> </ul>"},{"location":"api/endpoints/","title":"API Endpoints Reference","text":""},{"location":"api/endpoints/#base-url","title":"Base URL","text":"<pre><code>Production: https://api.localpro.com/api\nDevelopment: http://localhost:5000/api\n</code></pre>"},{"location":"api/endpoints/#endpoint-categories","title":"Endpoint Categories","text":""},{"location":"api/endpoints/#authentication","title":"Authentication","text":"<ul> <li><code>POST /api/auth/send-code</code> - Send verification code</li> <li><code>POST /api/auth/verify-code</code> - Verify code and login</li> <li><code>GET /api/auth/me</code> - Get current user</li> <li><code>PUT /api/auth/profile</code> - Update profile</li> </ul>"},{"location":"api/endpoints/#marketplace","title":"Marketplace","text":"<ul> <li><code>GET /api/marketplace/services</code> - List services</li> <li><code>POST /api/marketplace/services</code> - Create service</li> <li><code>GET /api/marketplace/services/:id</code> - Get service</li> <li><code>POST /api/marketplace/bookings</code> - Create booking</li> <li><code>GET /api/marketplace/my-bookings</code> - Get bookings</li> </ul>"},{"location":"api/endpoints/#academy","title":"Academy","text":"<ul> <li><code>GET /api/academy/courses</code> - List courses</li> <li><code>POST /api/academy/courses</code> - Create course</li> <li><code>POST /api/academy/courses/:id/enroll</code> - Enroll in course</li> </ul>"},{"location":"api/endpoints/#finance","title":"Finance","text":"<ul> <li><code>GET /api/finance/wallet</code> - Get wallet</li> <li><code>POST /api/finance/wallet/top-up</code> - Top up wallet</li> <li><code>POST /api/finance/wallet/withdraw</code> - Request withdrawal</li> <li><code>GET /api/finance/transactions</code> - Get transactions</li> </ul>"},{"location":"api/endpoints/#payments","title":"Payments","text":"<ul> <li><code>POST /api/paypal/create-order</code> - Create PayPal order</li> <li><code>POST /api/paypal/capture-order</code> - Capture PayPal order</li> <li><code>POST /api/paymongo/payment-intents</code> - Create PayMongo intent</li> </ul>"},{"location":"api/endpoints/#users","title":"Users","text":"<ul> <li><code>GET /api/users</code> - List users (admin)</li> <li><code>GET /api/users/:id</code> - Get user</li> <li><code>PUT /api/users/:id</code> - Update user</li> <li><code>PATCH /api/users/:id/status</code> - Update status (admin)</li> </ul>"},{"location":"api/endpoints/#notifications","title":"Notifications","text":"<ul> <li><code>GET /api/notifications</code> - Get notifications</li> <li><code>PUT /api/notifications/:id/read</code> - Mark as read</li> <li><code>GET /api/notifications/settings</code> - Get settings</li> </ul>"},{"location":"api/endpoints/#search","title":"Search","text":"<ul> <li><code>GET /api/search/global</code> - Global search</li> <li><code>GET /api/search/services</code> - Search services</li> <li><code>GET /api/search/users</code> - Search users</li> </ul>"},{"location":"api/endpoints/#analytics-admin","title":"Analytics (Admin)","text":"<ul> <li><code>GET /api/analytics/dashboard</code> - Dashboard analytics</li> <li><code>GET /api/analytics/users</code> - User analytics</li> <li><code>GET /api/analytics/financial</code> - Revenue analytics</li> </ul>"},{"location":"api/endpoints/#complete-documentation","title":"Complete Documentation","text":"<p>For detailed endpoint documentation:</p> <ul> <li>Swagger UI: Available at <code>/api-docs</code> when server is running</li> <li>Postman Collection: See repository root</li> <li>Feature Documentation: See Features</li> </ul>"},{"location":"api/endpoints/#response-format","title":"Response Format","text":"<p>All endpoints return standardized responses:</p> <pre><code>{\n  \"success\": true,\n  \"data\": { ... },\n  \"message\": \"Operation successful\"\n}\n</code></pre>"},{"location":"api/endpoints/#pagination","title":"Pagination","text":"<p>List endpoints support pagination:</p> <pre><code>GET /api/marketplace/services?page=1&amp;limit=20\n</code></pre>"},{"location":"api/endpoints/#error-handling","title":"Error Handling","text":"<p>See Error Handling for error codes and formats.</p>"},{"location":"api/endpoints/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview</li> <li>Authentication</li> <li>Webhooks</li> </ul>"},{"location":"api/error-handling/","title":"Error Handling","text":""},{"location":"api/error-handling/#overview","title":"Overview","text":"<p>All API endpoints return standardized error responses for consistent error handling.</p>"},{"location":"api/error-handling/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Error message\",\n  \"error\": \"Error details\",\n  \"code\": \"ERROR_CODE\",\n  \"details\": {\n    \"field\": \"Field-specific error\"\n  }\n}\n</code></pre>"},{"location":"api/error-handling/#http-status-codes","title":"HTTP Status Codes","text":""},{"location":"api/error-handling/#400-bad-request","title":"400 Bad Request","text":"<p>Invalid request data or validation errors.</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"Validation failed\",\n  \"code\": \"VALIDATION_ERROR\",\n  \"details\": {\n    \"title\": \"Title is required\",\n    \"price\": \"Price must be a number\"\n  }\n}\n</code></pre>"},{"location":"api/error-handling/#401-unauthorized","title":"401 Unauthorized","text":"<p>Missing or invalid authentication token.</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"No token, authorization denied\",\n  \"code\": \"UNAUTHORIZED\"\n}\n</code></pre>"},{"location":"api/error-handling/#403-forbidden","title":"403 Forbidden","text":"<p>Insufficient permissions.</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"Access denied. Admin privileges required.\",\n  \"code\": \"FORBIDDEN\"\n}\n</code></pre>"},{"location":"api/error-handling/#404-not-found","title":"404 Not Found","text":"<p>Resource not found.</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"Service not found\",\n  \"code\": \"NOT_FOUND\"\n}\n</code></pre>"},{"location":"api/error-handling/#409-conflict","title":"409 Conflict","text":"<p>Resource conflict (e.g., duplicate entry).</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"Service already exists\",\n  \"code\": \"ALREADY_EXISTS\"\n}\n</code></pre>"},{"location":"api/error-handling/#429-too-many-requests","title":"429 Too Many Requests","text":"<p>Rate limit exceeded.</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"Too many requests, please try again later\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"retryAfter\": 900\n}\n</code></pre>"},{"location":"api/error-handling/#500-internal-server-error","title":"500 Internal Server Error","text":"<p>Server error.</p> <pre><code>{\n  \"success\": false,\n  \"message\": \"Internal server error\",\n  \"code\": \"INTERNAL_ERROR\"\n}\n</code></pre>"},{"location":"api/error-handling/#error-codes","title":"Error Codes","text":"<p>See Error Codes Reference for complete list.</p>"},{"location":"api/error-handling/#common-errors","title":"Common Errors","text":""},{"location":"api/error-handling/#authentication-errors","title":"Authentication Errors","text":"<ul> <li><code>UNAUTHORIZED</code> - No token or invalid token</li> <li><code>TOKEN_EXPIRED</code> - Token has expired</li> <li><code>INVALID_CODE</code> - Invalid verification code</li> </ul>"},{"location":"api/error-handling/#validation-errors","title":"Validation Errors","text":"<ul> <li><code>VALIDATION_ERROR</code> - Request validation failed</li> <li><code>MISSING_FIELD</code> - Required field missing</li> <li><code>INVALID_INPUT</code> - Invalid input data</li> </ul>"},{"location":"api/error-handling/#resource-errors","title":"Resource Errors","text":"<ul> <li><code>NOT_FOUND</code> - Resource not found</li> <li><code>ALREADY_EXISTS</code> - Resource already exists</li> <li><code>CONFLICT</code> - Resource conflict</li> </ul>"},{"location":"api/error-handling/#error-handling-best-practices","title":"Error Handling Best Practices","text":""},{"location":"api/error-handling/#client-side","title":"Client-Side","text":"<pre><code>try {\n  const response = await apiClient.get('/api/services');\n  // Handle success\n} catch (error) {\n  if (error.response) {\n    const { status, data } = error.response;\n\n    switch (status) {\n      case 400:\n        // Show validation errors\n        showErrors(data.details);\n        break;\n      case 401:\n        // Redirect to login\n        redirectToLogin();\n        break;\n      case 403:\n        // Show access denied\n        showAccessDenied();\n        break;\n      case 404:\n        // Show not found\n        showNotFound();\n        break;\n      case 500:\n        // Show server error\n        showServerError();\n        break;\n    }\n  }\n}\n</code></pre>"},{"location":"api/error-handling/#server-side","title":"Server-Side","text":"<p>Errors are automatically handled by error middleware and logged.</p>"},{"location":"api/error-handling/#related-documentation","title":"Related Documentation","text":"<ul> <li>Error Codes Reference</li> <li>API Overview</li> </ul>"},{"location":"api/overview/","title":"API Overview","text":""},{"location":"api/overview/#base-url","title":"Base URL","text":"<pre><code>Production: https://api.localpro.com/api\nDevelopment: http://localhost:5000/api\n</code></pre>"},{"location":"api/overview/#authentication","title":"Authentication","text":"<p>All protected endpoints require JWT authentication:</p> <pre><code>Authorization: Bearer &lt;JWT_TOKEN&gt;\n</code></pre>"},{"location":"api/overview/#response-format","title":"Response Format","text":""},{"location":"api/overview/#success-response","title":"Success Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": { ... },\n  \"message\": \"Operation successful\"\n}\n</code></pre>"},{"location":"api/overview/#error-response","title":"Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Error message\",\n  \"error\": \"Error details\",\n  \"code\": \"ERROR_CODE\"\n}\n</code></pre>"},{"location":"api/overview/#paginated-response","title":"Paginated Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"items\": [...],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 20,\n      \"total\": 100,\n      \"totalPages\": 5\n    }\n  }\n}\n</code></pre>"},{"location":"api/overview/#common-endpoints","title":"Common Endpoints","text":""},{"location":"api/overview/#authentication_1","title":"Authentication","text":"<ul> <li><code>POST /api/auth/send-code</code> - Send verification code</li> <li><code>POST /api/auth/verify-code</code> - Verify code and login</li> <li><code>GET /api/auth/me</code> - Get current user</li> </ul>"},{"location":"api/overview/#marketplace","title":"Marketplace","text":"<ul> <li><code>GET /api/marketplace/services</code> - List services</li> <li><code>POST /api/marketplace/services</code> - Create service</li> <li><code>GET /api/marketplace/services/:id</code> - Get service</li> </ul>"},{"location":"api/overview/#bookings","title":"Bookings","text":"<ul> <li><code>POST /api/marketplace/bookings</code> - Create booking</li> <li><code>GET /api/marketplace/my-bookings</code> - Get user bookings</li> </ul>"},{"location":"api/overview/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>General: 100 requests per 15 minutes</li> <li>Auth: 5 requests per 15 minutes</li> </ul> <p>Rate limit headers: - <code>X-RateLimit-Limit</code> - <code>X-RateLimit-Remaining</code> - <code>X-RateLimit-Reset</code></p>"},{"location":"api/overview/#documentation","title":"Documentation","text":"<ul> <li>API Endpoints - Complete endpoint reference</li> <li>Authentication - Auth details</li> <li>Error Handling - Error codes and handling</li> <li>Webhooks - Webhook integration</li> </ul>"},{"location":"api/overview/#interactive-documentation","title":"Interactive Documentation","text":"<ul> <li>Swagger UI: Available at <code>/api-docs</code> when server is running</li> <li>Postman Collection: See repository root</li> </ul>"},{"location":"api/webhooks/","title":"Webhooks","text":""},{"location":"api/webhooks/#overview","title":"Overview","text":"<p>Webhooks allow external services to notify the API of events (payments, subscriptions, etc.).</p>"},{"location":"api/webhooks/#supported-webhooks","title":"Supported Webhooks","text":""},{"location":"api/webhooks/#paypal-webhooks","title":"PayPal Webhooks","text":"<p>Endpoint: <code>POST /api/paypal/webhook</code></p> <p>Events: - <code>PAYMENT.CAPTURE.COMPLETED</code> - <code>PAYMENT.CAPTURE.DENIED</code> - <code>PAYMENT.CAPTURE.REFUNDED</code></p> <p>Verification: - PayPal signature verification required - Headers: <code>paypal-transmission-id</code>, <code>paypal-cert-url</code>, <code>paypal-auth-algo</code>, <code>paypal-transmission-sig</code>, <code>paypal-transmission-time</code></p>"},{"location":"api/webhooks/#paymongo-webhooks","title":"PayMongo Webhooks","text":"<p>Endpoint: <code>POST /api/paymongo/webhook</code></p> <p>Events: - <code>payment_intent.succeeded</code> - <code>payment_intent.payment_failed</code> - <code>charge.succeeded</code></p> <p>Verification: - PayMongo signature verification required - Header: <code>paymongo-signature</code></p>"},{"location":"api/webhooks/#escrow-webhooks","title":"Escrow Webhooks","text":"<p>Endpoint: <code>POST /api/escrows/webhook</code></p> <p>Events: - Escrow created - Payment captured - Dispute raised - Dispute resolved</p>"},{"location":"api/webhooks/#webhook-setup","title":"Webhook Setup","text":"<p>See Webhook Setup Guide for configuration.</p>"},{"location":"api/webhooks/#webhook-payload","title":"Webhook Payload","text":""},{"location":"api/webhooks/#paypal-example","title":"PayPal Example","text":"<pre><code>{\n  \"id\": \"WH-2W42680J3J406320L-67976317FL053053U\",\n  \"event_version\": \"1.0\",\n  \"create_time\": \"2018-10-23T22:46:01.000Z\",\n  \"resource_type\": \"capture\",\n  \"resource\": {\n    \"id\": \"1JU08902T9135234L\",\n    \"status\": \"COMPLETED\",\n    \"amount\": {\n      \"currency_code\": \"USD\",\n      \"value\": \"100.00\"\n    }\n  },\n  \"event_type\": \"PAYMENT.CAPTURE.COMPLETED\"\n}\n</code></pre>"},{"location":"api/webhooks/#paymongo-example","title":"PayMongo Example","text":"<pre><code>{\n  \"data\": {\n    \"id\": \"evt_1234567890\",\n    \"type\": \"payment_intent.succeeded\",\n    \"attributes\": {\n      \"type\": \"payment_intent\",\n      \"data\": {\n        \"id\": \"pi_1234567890\",\n        \"attributes\": {\n          \"amount\": 10000,\n          \"currency\": \"PHP\",\n          \"status\": \"succeeded\"\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"api/webhooks/#security","title":"Security","text":""},{"location":"api/webhooks/#signature-verification","title":"Signature Verification","text":"<p>All webhooks verify signatures to ensure authenticity:</p> <pre><code>// PayPal\nconst isValid = verifyPayPalWebhook(payload, headers);\n\n// PayMongo\nconst isValid = verifyPayMongoWebhook(payload, signature);\n</code></pre>"},{"location":"api/webhooks/#best-practices","title":"Best Practices","text":"<ol> <li>Always verify signatures - Never trust unverified webhooks</li> <li>Idempotency - Handle duplicate events</li> <li>Error handling - Return appropriate status codes</li> <li>Logging - Log all webhook events</li> <li>Retry logic - Handle failed webhook processing</li> </ol>"},{"location":"api/webhooks/#testing","title":"Testing","text":""},{"location":"api/webhooks/#paypal-sandbox","title":"PayPal Sandbox","text":"<p>Use PayPal sandbox webhook simulator for testing.</p>"},{"location":"api/webhooks/#paymongo-test-mode","title":"PayMongo Test Mode","text":"<p>Use PayMongo test webhooks for development.</p>"},{"location":"api/webhooks/#related-documentation","title":"Related Documentation","text":"<ul> <li>Webhook Setup Guide</li> <li>Payment Integration</li> </ul>"},{"location":"architecture/api-design/","title":"API Design","text":""},{"location":"architecture/api-design/#overview","title":"Overview","text":"<p>LocalPro Super App follows RESTful API principles with consistent patterns, clear naming conventions, and standardized responses.</p>"},{"location":"architecture/api-design/#api-design-principles","title":"API Design Principles","text":"<ol> <li>RESTful: Use HTTP methods correctly</li> <li>Consistent: Uniform patterns across endpoints</li> <li>Intuitive: Clear, predictable URLs</li> <li>Versioned: Support API versioning</li> <li>Documented: Complete API documentation</li> <li>Secure: Authentication and authorization</li> <li>Performant: Optimized queries and responses</li> </ol>"},{"location":"architecture/api-design/#base-url","title":"Base URL","text":"<pre><code>Production: https://api.localpro.com/api\nDevelopment: http://localhost:5000/api\n</code></pre>"},{"location":"architecture/api-design/#url-structure","title":"URL Structure","text":""},{"location":"architecture/api-design/#resource-based-urls","title":"Resource-Based URLs","text":"<pre><code>GET    /api/services           # List resources\nGET    /api/services/:id       # Get single resource\nPOST   /api/services           # Create resource\nPUT    /api/services/:id       # Update resource (full)\nPATCH  /api/services/:id       # Update resource (partial)\nDELETE /api/services/:id       # Delete resource\n</code></pre>"},{"location":"architecture/api-design/#nested-resources","title":"Nested Resources","text":"<pre><code>GET    /api/services/:id/bookings      # Nested resource\nPOST   /api/services/:id/bookings     # Create nested resource\nGET    /api/services/:id/reviews      # Related resource\n</code></pre>"},{"location":"architecture/api-design/#actions","title":"Actions","text":"<pre><code>POST   /api/bookings/:id/cancel       # Action on resource\nPUT    /api/bookings/:id/status       # Update specific field\nPOST   /api/services/:id/images       # Upload files\n</code></pre>"},{"location":"architecture/api-design/#http-methods","title":"HTTP Methods","text":"Method Usage Idempotent Safe GET Retrieve data Yes Yes POST Create resource No No PUT Replace resource Yes No PATCH Partial update No No DELETE Remove resource Yes No"},{"location":"architecture/api-design/#status-codes","title":"Status Codes","text":""},{"location":"architecture/api-design/#success-codes","title":"Success Codes","text":"Code Meaning Usage 200 OK Successful GET, PUT, PATCH 201 Created Successful POST 204 No Content Successful DELETE"},{"location":"architecture/api-design/#client-error-codes","title":"Client Error Codes","text":"Code Meaning Usage 400 Bad Request Invalid input 401 Unauthorized Missing/invalid token 403 Forbidden Insufficient permissions 404 Not Found Resource doesn't exist 409 Conflict Resource conflict 422 Unprocessable Entity Validation errors 429 Too Many Requests Rate limit exceeded"},{"location":"architecture/api-design/#server-error-codes","title":"Server Error Codes","text":"Code Meaning Usage 500 Internal Server Error Server error 503 Service Unavailable Maintenance mode"},{"location":"architecture/api-design/#request-format","title":"Request Format","text":""},{"location":"architecture/api-design/#headers","title":"Headers","text":"<pre><code>Content-Type: application/json\nAuthorization: Bearer &lt;JWT_TOKEN&gt;\nX-Request-ID: &lt;unique-request-id&gt;\n</code></pre>"},{"location":"architecture/api-design/#query-parameters","title":"Query Parameters","text":"<pre><code>GET /api/services?page=1&amp;limit=20&amp;sort=createdAt:desc&amp;search=plumbing\n</code></pre> <p>Common Parameters: - <code>page</code>: Page number (default: 1) - <code>limit</code>: Items per page (default: 10, max: 100) - <code>sort</code>: Sort field and direction (e.g., \"createdAt:desc\") - <code>search</code>: Search query - <code>filter</code>: Filter criteria</p>"},{"location":"architecture/api-design/#request-body","title":"Request Body","text":"<pre><code>{\n  \"title\": \"Plumbing Service\",\n  \"price\": 100,\n  \"category\": \"plumbing\"\n}\n</code></pre>"},{"location":"architecture/api-design/#response-format","title":"Response Format","text":""},{"location":"architecture/api-design/#success-response","title":"Success Response","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Service created successfully\",\n  \"data\": {\n    \"_id\": \"...\",\n    \"title\": \"Plumbing Service\",\n    \"price\": 100\n  }\n}\n</code></pre>"},{"location":"architecture/api-design/#error-response","title":"Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Validation failed\",\n  \"error\": \"Invalid input data\",\n  \"code\": \"VALIDATION_ERROR\",\n  \"details\": {\n    \"title\": \"Title is required\",\n    \"price\": \"Price must be a number\"\n  }\n}\n</code></pre>"},{"location":"architecture/api-design/#paginated-response","title":"Paginated Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"items\": [...],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 20,\n      \"total\": 100,\n      \"totalPages\": 5,\n      \"hasNext\": true,\n      \"hasPrev\": false\n    }\n  }\n}\n</code></pre>"},{"location":"architecture/api-design/#pagination","title":"Pagination","text":""},{"location":"architecture/api-design/#standard-pagination","title":"Standard Pagination","text":"<pre><code>GET /api/services?page=1&amp;limit=20\n</code></pre> <p>Response: <pre><code>{\n  \"pagination\": {\n    \"page\": 1,\n    \"limit\": 20,\n    \"total\": 100,\n    \"totalPages\": 5\n  }\n}\n</code></pre></p>"},{"location":"architecture/api-design/#cursor-based-pagination-optional","title":"Cursor-Based Pagination (Optional)","text":"<pre><code>GET /api/services?cursor=&lt;cursor&gt;&amp;limit=20\n</code></pre>"},{"location":"architecture/api-design/#filtering","title":"Filtering","text":""},{"location":"architecture/api-design/#simple-filters","title":"Simple Filters","text":"<pre><code>GET /api/services?status=active&amp;category=plumbing\n</code></pre>"},{"location":"architecture/api-design/#advanced-filters","title":"Advanced Filters","text":"<pre><code>GET /api/services?filter[price][gte]=50&amp;filter[price][lte]=200\nGET /api/services?filter[createdAt][gte]=2025-01-01\n</code></pre>"},{"location":"architecture/api-design/#sorting","title":"Sorting","text":""},{"location":"architecture/api-design/#single-field","title":"Single Field","text":"<pre><code>GET /api/services?sort=createdAt:desc\nGET /api/services?sort=price:asc\n</code></pre>"},{"location":"architecture/api-design/#multiple-fields","title":"Multiple Fields","text":"<pre><code>GET /api/services?sort=category:asc,price:desc\n</code></pre>"},{"location":"architecture/api-design/#searching","title":"Searching","text":""},{"location":"architecture/api-design/#text-search","title":"Text Search","text":"<pre><code>GET /api/services?search=plumbing\n</code></pre> <p>Searches in: - Title - Description - Category name</p>"},{"location":"architecture/api-design/#advanced-search","title":"Advanced Search","text":"<pre><code>GET /api/search/global?q=plumbing&amp;type=services\n</code></pre>"},{"location":"architecture/api-design/#error-handling","title":"Error Handling","text":""},{"location":"architecture/api-design/#validation-errors","title":"Validation Errors","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Validation failed\",\n  \"code\": \"VALIDATION_ERROR\",\n  \"details\": {\n    \"field\": \"error message\"\n  }\n}\n</code></pre>"},{"location":"architecture/api-design/#authentication-errors","title":"Authentication Errors","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"No token, authorization denied\",\n  \"code\": \"UNAUTHORIZED\"\n}\n</code></pre>"},{"location":"architecture/api-design/#authorization-errors","title":"Authorization Errors","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Access denied. Admin privileges required.\",\n  \"code\": \"FORBIDDEN\"\n}\n</code></pre>"},{"location":"architecture/api-design/#api-versioning","title":"API Versioning","text":""},{"location":"architecture/api-design/#url-versioning","title":"URL Versioning","text":"<pre><code>/api/v1/services\n/api/v2/services\n</code></pre>"},{"location":"architecture/api-design/#header-versioning","title":"Header Versioning","text":"<pre><code>Accept: application/vnd.localpro.v1+json\n</code></pre>"},{"location":"architecture/api-design/#current-approach","title":"Current Approach","text":"<p>Currently using <code>/api</code> (latest version). Versioning can be added when needed.</p>"},{"location":"architecture/api-design/#rate-limiting","title":"Rate Limiting","text":""},{"location":"architecture/api-design/#rate-limit-headers","title":"Rate Limit Headers","text":"<pre><code>X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 95\nX-RateLimit-Reset: 1234567890\n</code></pre>"},{"location":"architecture/api-design/#rate-limit-response","title":"Rate Limit Response","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Too many requests, please try again later\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"retryAfter\": 900\n}\n</code></pre>"},{"location":"architecture/api-design/#file-uploads","title":"File Uploads","text":""},{"location":"architecture/api-design/#upload-endpoint","title":"Upload Endpoint","text":"<pre><code>POST /api/services/:id/images\nContent-Type: multipart/form-data\n</code></pre>"},{"location":"architecture/api-design/#request","title":"Request","text":"<pre><code>const formData = new FormData();\nformData.append('images', file1);\nformData.append('images', file2);\n</code></pre>"},{"location":"architecture/api-design/#response","title":"Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"images\": [\n      {\n        \"url\": \"https://...\",\n        \"publicId\": \"...\",\n        \"thumbnail\": \"https://...\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"architecture/api-design/#webhooks","title":"Webhooks","text":""},{"location":"architecture/api-design/#webhook-endpoint","title":"Webhook Endpoint","text":"<pre><code>POST /api/webhooks/paymongo\n</code></pre>"},{"location":"architecture/api-design/#webhook-signature-verification","title":"Webhook Signature Verification","text":"<pre><code>// Verify webhook signature\nconst signature = req.headers['x-paymongo-signature'];\nconst isValid = verifyWebhookSignature(payload, signature);\n</code></pre>"},{"location":"architecture/api-design/#api-documentation","title":"API Documentation","text":""},{"location":"architecture/api-design/#swaggeropenapi","title":"Swagger/OpenAPI","text":"<ul> <li>Interactive API documentation</li> <li>Available at <code>/api-docs</code></li> <li>Auto-generated from JSDoc comments</li> </ul>"},{"location":"architecture/api-design/#postman-collection","title":"Postman Collection","text":"<ul> <li>Complete API collection</li> <li>Available in repository</li> <li>Import to Postman for testing</li> </ul>"},{"location":"architecture/api-design/#best-practices","title":"Best Practices","text":""},{"location":"architecture/api-design/#1-use-appropriate-http-methods","title":"1. Use Appropriate HTTP Methods","text":"<pre><code>// Good\nGET    /api/services\nPOST   /api/services\nPUT    /api/services/:id\nDELETE /api/services/:id\n\n// Bad\nGET /api/services/create\nGET /api/services/:id/delete\n</code></pre>"},{"location":"architecture/api-design/#2-consistent-naming","title":"2. Consistent Naming","text":"<pre><code>// Good: Plural nouns\n/api/services\n/api/bookings\n/api/users\n\n// Bad: Mixed\n/api/service\n/api/bookings\n/api/user\n</code></pre>"},{"location":"architecture/api-design/#3-clear-error-messages","title":"3. Clear Error Messages","text":"<pre><code>// Good\n{ \"message\": \"Service not found\", \"code\": \"NOT_FOUND\" }\n\n// Bad\n{ \"message\": \"Error\", \"code\": \"ERR_001\" }\n</code></pre>"},{"location":"architecture/api-design/#4-proper-status-codes","title":"4. Proper Status Codes","text":"<pre><code>// Good\nres.status(201).json({ success: true, data: service });\nres.status(404).json({ success: false, message: \"Not found\" });\n\n// Bad\nres.status(200).json({ success: false, error: \"Not found\" });\n</code></pre>"},{"location":"architecture/api-design/#5-include-relevant-data","title":"5. Include Relevant Data","text":"<pre><code>// Good: Include related data when useful\n{\n  \"service\": { ... },\n  \"provider\": { name: \"...\", rating: 4.5 }\n}\n\n// Bad: Include everything\n{\n  \"service\": { ... },\n  \"provider\": { /* full user object */ }\n}\n</code></pre>"},{"location":"architecture/api-design/#api-endpoints-summary","title":"API Endpoints Summary","text":""},{"location":"architecture/api-design/#authentication","title":"Authentication","text":"<ul> <li><code>POST /api/auth/send-code</code></li> <li><code>POST /api/auth/verify-code</code></li> <li><code>GET /api/auth/me</code></li> </ul>"},{"location":"architecture/api-design/#marketplace","title":"Marketplace","text":"<ul> <li><code>GET /api/marketplace/services</code></li> <li><code>POST /api/marketplace/services</code></li> <li><code>GET /api/marketplace/services/:id</code></li> </ul>"},{"location":"architecture/api-design/#bookings","title":"Bookings","text":"<ul> <li><code>POST /api/marketplace/bookings</code></li> <li><code>GET /api/marketplace/my-bookings</code></li> <li><code>PUT /api/marketplace/bookings/:id/status</code></li> </ul>"},{"location":"architecture/api-design/#and-20-more-feature-modules","title":"And 20+ more feature modules...","text":""},{"location":"architecture/api-design/#next-steps","title":"Next Steps","text":"<ul> <li>Review API Reference</li> <li>Check Error Handling</li> <li>Read Frontend Implementation</li> </ul>"},{"location":"architecture/authentication/","title":"Authentication Architecture","text":""},{"location":"architecture/authentication/#overview","title":"Overview","text":"<p>LocalPro Super App uses phone-based authentication with SMS verification codes. No traditional email/password authentication is used. The system issues JWT (JSON Web Tokens) for authenticated sessions.</p>"},{"location":"architecture/authentication/#authentication-flow","title":"Authentication Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client  \u2502                    \u2502  API    \u2502                    \u2502 Twilio  \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n     \u2502                               \u2502                               \u2502\n     \u2502 1. POST /auth/send-code       \u2502                               \u2502\n     \u2502    { phoneNumber }            \u2502                               \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                               \u2502\n     \u2502                               \u2502                               \u2502\n     \u2502                               \u2502 2. Generate 6-digit code      \u2502\n     \u2502                               \u2502    Store with expiration      \u2502\n     \u2502                               \u2502                               \u2502\n     \u2502                               \u2502 3. Send SMS via Twilio        \u2502\n     \u2502                               \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                               \u2502                               \u2502\n     \u2502                               \u2502 4. SMS sent to user           \u2502\n     \u2502                               \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                               \u2502                               \u2502\n     \u2502 5. POST /auth/verify-code     \u2502                               \u2502\n     \u2502    { phoneNumber, code }      \u2502                               \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                               \u2502\n     \u2502                               \u2502                               \u2502\n     \u2502                               \u2502 6. Validate code              \u2502\n     \u2502                               \u2502    Check expiration           \u2502\n     \u2502                               \u2502                               \u2502\n     \u2502 7. Generate JWT token         \u2502                               \u2502\n     \u2502    Create/Update user         \u2502                               \u2502\n     \u2502                               \u2502                               \u2502\n     \u2502 8. Return { token, user }     \u2502                               \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                               \u2502\n     \u2502                               \u2502                               \u2502\n     \u2502 9. Store token locally        \u2502                               \u2502\n     \u2502                               \u2502                               \u2502\n</code></pre>"},{"location":"architecture/authentication/#components","title":"Components","text":""},{"location":"architecture/authentication/#1-sms-verification","title":"1. SMS Verification","text":"<p>Endpoint: <code>POST /api/auth/send-code</code></p> <p>Process: 1. Validate phone number format 2. Generate 6-digit verification code 3. Store code with 5-minute expiration 4. Send SMS via Twilio 5. Rate limit: 1 code per phone per minute</p> <p>Request: <pre><code>{\n  \"phoneNumber\": \"+1234567890\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"message\": \"Verification code sent\",\n  \"expiresIn\": 300\n}\n</code></pre></p>"},{"location":"architecture/authentication/#2-code-verification","title":"2. Code Verification","text":"<p>Endpoint: <code>POST /api/auth/verify-code</code></p> <p>Process: 1. Validate phone number and code 2. Check code expiration 3. Verify code matches stored value 4. Find or create user 5. Generate JWT token 6. Return token and user data</p> <p>Request: <pre><code>{\n  \"phoneNumber\": \"+1234567890\",\n  \"code\": \"123456\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": {\n      \"_id\": \"...\",\n      \"phoneNumber\": \"+1234567890\",\n      \"roles\": [\"client\"],\n      \"isVerified\": true\n    },\n    \"expiresIn\": 86400\n  }\n}\n</code></pre></p>"},{"location":"architecture/authentication/#jwt-token-structure","title":"JWT Token Structure","text":""},{"location":"architecture/authentication/#token-payload","title":"Token Payload","text":"<pre><code>{\n  id: \"user_id\",\n  phoneNumber: \"+1234567890\",\n  roles: [\"client\", \"provider\"],\n  iat: 1234567890,  // Issued at\n  exp: 1234654290   // Expiration\n}\n</code></pre>"},{"location":"architecture/authentication/#token-generation","title":"Token Generation","text":"<pre><code>const token = jwt.sign(\n  {\n    id: user._id,\n    phoneNumber: user.phoneNumber,\n    roles: user.roles\n  },\n  process.env.JWT_SECRET,\n  {\n    expiresIn: '24h'  // 24 hours\n  }\n);\n</code></pre>"},{"location":"architecture/authentication/#authentication-middleware","title":"Authentication Middleware","text":""},{"location":"architecture/authentication/#implementation","title":"Implementation","text":"<pre><code>const auth = async (req, res, next) =&gt; {\n  try {\n    // Extract token from header\n    const token = req.header('Authorization')?.replace('Bearer ', '');\n\n    if (!token) {\n      return res.status(401).json({\n        success: false,\n        message: 'No token, authorization denied'\n      });\n    }\n\n    // Verify token\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n\n    // Load user from database\n    const user = await User.findById(decoded.id).select('-password');\n\n    if (!user) {\n      return res.status(401).json({\n        success: false,\n        message: 'Token is not valid'\n      });\n    }\n\n    // Attach user to request\n    req.user = user;\n    next();\n  } catch (error) {\n    res.status(401).json({\n      success: false,\n      message: 'Token is not valid'\n    });\n  }\n};\n</code></pre>"},{"location":"architecture/authentication/#usage","title":"Usage","text":"<pre><code>// Protected route\nrouter.get('/profile', auth, getProfile);\n\n// Multiple middleware\nrouter.post('/services', auth, authorize('provider'), createService);\n</code></pre>"},{"location":"architecture/authentication/#authorization","title":"Authorization","text":""},{"location":"architecture/authentication/#role-based-access-control-rbac","title":"Role-Based Access Control (RBAC)","text":"<p>Roles: - <code>client</code> - Regular users - <code>provider</code> - Service providers - <code>supplier</code> - Product suppliers - <code>instructor</code> - Academy instructors - <code>agency_admin</code> - Agency administrators - <code>agency_owner</code> - Agency owners - <code>admin</code> - Platform administrators - <code>partner</code> - Business partners</p>"},{"location":"architecture/authentication/#authorization-middleware","title":"Authorization Middleware","text":"<pre><code>const authorize = (...roles) =&gt; {\n  return (req, res, next) =&gt; {\n    if (!req.user) {\n      return res.status(401).json({\n        success: false,\n        message: 'Not authorized'\n      });\n    }\n\n    const userRoles = req.user.roles || [];\n    const hasRole = roles.some(role =&gt; userRoles.includes(role));\n\n    if (!hasRole) {\n      return res.status(403).json({\n        success: false,\n        message: `Access denied. Required roles: [${roles.join(', ')}]`\n      });\n    }\n\n    next();\n  };\n};\n</code></pre>"},{"location":"architecture/authentication/#usage-examples","title":"Usage Examples","text":"<pre><code>// Single role\nrouter.get('/admin/users', auth, authorize('admin'), getUsers);\n\n// Multiple roles (OR)\nrouter.post('/services', auth, authorize('provider', 'admin'), createService);\n\n// Multiple roles (AND) - check in controller\nif (!req.user.roles.includes('admin') &amp;&amp; !req.user.roles.includes('provider')) {\n  return res.status(403).json({ message: 'Access denied' });\n}\n</code></pre>"},{"location":"architecture/authentication/#user-registration-flow","title":"User Registration Flow","text":""},{"location":"architecture/authentication/#first-time-user","title":"First-Time User","text":"<pre><code>1. Send verification code\n   \u2193\n2. Verify code\n   \u2193\n3. User created with default role 'client'\n   \u2193\n4. JWT token issued\n   \u2193\n5. User completes onboarding\n</code></pre>"},{"location":"architecture/authentication/#returning-user","title":"Returning User","text":"<pre><code>1. Send verification code\n   \u2193\n2. Verify code\n   \u2193\n3. Existing user found\n   \u2193\n4. JWT token issued\n   \u2193\n5. User data returned\n</code></pre>"},{"location":"architecture/authentication/#profile-completion","title":"Profile Completion","text":""},{"location":"architecture/authentication/#onboarding-steps","title":"Onboarding Steps","text":"<ol> <li>Phone Verification \u2705 (automatic)</li> <li>Basic Info - Name, email (optional)</li> <li>Profile Photo - Avatar upload</li> <li>Location - Address and coordinates</li> <li>Role Selection - Choose provider/supplier role</li> <li>Verification - ID verification (for providers)</li> </ol>"},{"location":"architecture/authentication/#profile-completion-status","title":"Profile Completion Status","text":"<pre><code>GET /api/auth/profile-completion-status\n\nResponse:\n{\n  \"success\": true,\n  \"data\": {\n    \"completed\": false,\n    \"percentage\": 60,\n    \"steps\": {\n      \"phoneVerified\": true,\n      \"basicInfo\": true,\n      \"profilePhoto\": false,\n      \"location\": true,\n      \"roleSelected\": false,\n      \"verified\": false\n    }\n  }\n}\n</code></pre>"},{"location":"architecture/authentication/#token-management","title":"Token Management","text":""},{"location":"architecture/authentication/#token-storage-client","title":"Token Storage (Client)","text":"<p>Mobile Apps: - iOS: Keychain - Android: Encrypted SharedPreferences</p> <p>Web: - HttpOnly cookies (recommended) - localStorage (alternative)</p>"},{"location":"architecture/authentication/#token-refresh","title":"Token Refresh","text":"<p>Currently, tokens are valid for 24 hours. To refresh:</p> <ol> <li>User must re-authenticate (send new code)</li> <li>Or implement refresh token mechanism</li> </ol>"},{"location":"architecture/authentication/#token-revocation","title":"Token Revocation","text":"<p>Tokens cannot be revoked individually. Options:</p> <ol> <li>Short expiration (current: 24h)</li> <li>Blacklist - Store revoked tokens in Redis</li> <li>User status check - Verify user is still active</li> </ol>"},{"location":"architecture/authentication/#security-considerations","title":"Security Considerations","text":""},{"location":"architecture/authentication/#1-code-generation","title":"1. Code Generation","text":"<pre><code>// Generate secure 6-digit code\nconst code = Math.floor(100000 + Math.random() * 900000).toString();\n</code></pre>"},{"location":"architecture/authentication/#2-code-storage","title":"2. Code Storage","text":"<ul> <li>Store with expiration (5 minutes)</li> <li>One-time use</li> <li>Rate limiting (1 per minute per phone)</li> </ul>"},{"location":"architecture/authentication/#3-jwt-secret","title":"3. JWT Secret","text":"<ul> <li>Use strong, random secret</li> <li>Store in environment variable</li> <li>Never commit to repository</li> </ul>"},{"location":"architecture/authentication/#4-token-validation","title":"4. Token Validation","text":"<ul> <li>Always verify signature</li> <li>Check expiration</li> <li>Validate user still exists</li> <li>Check user is active</li> </ul>"},{"location":"architecture/authentication/#5-rate-limiting","title":"5. Rate Limiting","text":"<pre><code>// Limit verification attempts\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 5 // 5 attempts per window\n});\n</code></pre>"},{"location":"architecture/authentication/#error-handling","title":"Error Handling","text":""},{"location":"architecture/authentication/#common-errors","title":"Common Errors","text":"Error Status Message No token 401 \"No token, authorization denied\" Invalid token 401 \"Token is not valid\" Expired token 401 \"Token expired\" User not found 401 \"Token is not valid\" Insufficient permissions 403 \"Access denied\" Invalid code 400 \"Invalid verification code\" Code expired 400 \"Verification code expired\""},{"location":"architecture/authentication/#best-practices","title":"Best Practices","text":"<ol> <li>Always validate tokens on protected routes</li> <li>Check user status after token validation</li> <li>Use HTTPS in production</li> <li>Implement rate limiting for auth endpoints</li> <li>Log authentication events for security</li> <li>Store tokens securely on client</li> <li>Set appropriate expiration times</li> <li>Handle token refresh gracefully</li> </ol>"},{"location":"architecture/authentication/#next-steps","title":"Next Steps","text":"<ul> <li>Read Security Architecture</li> <li>Review API Authentication</li> <li>Check Frontend Authentication</li> </ul>"},{"location":"architecture/database/","title":"Database Architecture","text":""},{"location":"architecture/database/#overview","title":"Overview","text":"<p>LocalPro Super App uses MongoDB as the primary database with Mongoose as the ODM (Object Document Mapper). The database is designed for scalability, performance, and flexibility.</p>"},{"location":"architecture/database/#database-connection","title":"Database Connection","text":""},{"location":"architecture/database/#connection-configuration","title":"Connection Configuration","text":"<pre><code>// Connection options\n{\n  maxPoolSize: 10,              // Maximum connections\n  minPoolSize: 2,               // Minimum connections\n  serverSelectionTimeoutMS: 5000,\n  socketTimeoutMS: 45000,\n  connectTimeoutMS: 10000,\n  retryWrites: true,\n  retryReads: true,\n  writeConcern: {\n    w: 'majority',\n    j: true,\n    wtimeout: 10000\n  },\n  readPreference: 'primaryPreferred',\n  compressors: ['zlib']\n}\n</code></pre>"},{"location":"architecture/database/#connection-string-format","title":"Connection String Format","text":"<pre><code>mongodb://[username:password@]host[:port][/database][?options]\n</code></pre> <p>Example: <pre><code>mongodb://localhost:27017/localpro-super-app\nmongodb+srv://user:pass@cluster.mongodb.net/localpro?retryWrites=true&amp;w=majority\n</code></pre></p>"},{"location":"architecture/database/#database-collections","title":"Database Collections","text":""},{"location":"architecture/database/#core-collections","title":"Core Collections","text":"Collection Purpose Key Fields users User accounts and profiles phoneNumber, email, roles, profile services Marketplace service listings title, category, provider, pricing bookings Service bookings service, client, provider, status supplies E-commerce products name, price, supplier, inventory courses Academy courses title, instructor, price, curriculum rentals Rental items name, type, pricing, availability jobs Job postings title, company, location, requirements agencies Agency organizations name, owner, members, status ads Advertising listings title, category, advertiser, status announcements Platform announcements title, content, targetAudience activities User activity feed user, type, content, timestamp"},{"location":"architecture/database/#financial-collections","title":"Financial Collections","text":"Collection Purpose userwallets User wallet balances and transactions transactions Financial transaction history withdrawals Withdrawal requests topups Wallet top-up requests escrows Escrow transactions"},{"location":"architecture/database/#system-collections","title":"System Collections","text":"Collection Purpose appsettings Application configuration usersettings User preferences notifications User notifications auditlogs Audit trail logs System logs"},{"location":"architecture/database/#data-modeling-patterns","title":"Data Modeling Patterns","text":""},{"location":"architecture/database/#1-embedded-documents","title":"1. Embedded Documents","text":"<p>For closely related data that's always accessed together:</p> <pre><code>// User with embedded profile\n{\n  _id: ObjectId,\n  phoneNumber: String,\n  profile: {\n    firstName: String,\n    lastName: String,\n    avatar: {\n      url: String,\n      publicId: String\n    },\n    address: {\n      street: String,\n      city: String,\n      coordinates: {\n        lat: Number,\n        lng: Number\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"architecture/database/#2-references","title":"2. References","text":"<p>For related data that may be large or accessed independently:</p> <pre><code>// Booking with service reference\n{\n  _id: ObjectId,\n  service: ObjectId,  // Reference to Service\n  client: ObjectId,   // Reference to User\n  provider: ObjectId, // Reference to User\n  status: String\n}\n</code></pre>"},{"location":"architecture/database/#3-hybrid-approach","title":"3. Hybrid Approach","text":"<p>Combine embedded and referenced data:</p> <pre><code>// Service with embedded pricing, referenced provider\n{\n  _id: ObjectId,\n  title: String,\n  pricing: {          // Embedded\n    basePrice: Number,\n    hourlyRate: Number\n  },\n  provider: ObjectId, // Reference\n  category: ObjectId  // Reference\n}\n</code></pre>"},{"location":"architecture/database/#indexing-strategy","title":"Indexing Strategy","text":""},{"location":"architecture/database/#primary-indexes","title":"Primary Indexes","text":"<p>Every collection has an <code>_id</code> index (automatic).</p>"},{"location":"architecture/database/#common-indexes","title":"Common Indexes","text":"<pre><code>// Users\nusers.createIndex({ phoneNumber: 1 }, { unique: true });\nusers.createIndex({ email: 1 }, { unique: true, sparse: true });\nusers.createIndex({ 'profile.coordinates': '2dsphere' }); // Geospatial\n\n// Services\nservices.createIndex({ provider: 1 });\nservices.createIndex({ category: 1 });\nservices.createIndex({ status: 1 });\nservices.createIndex({ location: '2dsphere' });\nservices.createIndex({ title: 'text', description: 'text' }); // Text search\n\n// Bookings\nbookings.createIndex({ client: 1, status: 1 });\nbookings.createIndex({ provider: 1, status: 1 });\nbookings.createIndex({ createdAt: -1 });\n\n// Compound Indexes\nbookings.createIndex({ client: 1, status: 1, createdAt: -1 });\nservices.createIndex({ provider: 1, status: 1, category: 1 });\n</code></pre>"},{"location":"architecture/database/#geospatial-indexes","title":"Geospatial Indexes","text":"<p>For location-based queries:</p> <pre><code>// 2dsphere index for geospatial queries\nservices.createIndex({ location: '2dsphere' });\n\n// Query nearby services\nservices.find({\n  location: {\n    $near: {\n      $geometry: {\n        type: 'Point',\n        coordinates: [longitude, latitude]\n      },\n      $maxDistance: 10000 // 10km\n    }\n  }\n});\n</code></pre>"},{"location":"architecture/database/#relationships","title":"Relationships","text":""},{"location":"architecture/database/#one-to-one","title":"One-to-One","text":"<pre><code>// User \u2192 UserWallet\nUser {\n  wallet: ObjectId  // Reference\n}\nUserWallet {\n  user: ObjectId    // Reference\n}\n</code></pre>"},{"location":"architecture/database/#one-to-many","title":"One-to-Many","text":"<pre><code>// User \u2192 Services\nUser {\n  _id: ObjectId\n}\nService {\n  provider: ObjectId  // Reference to User\n}\n</code></pre>"},{"location":"architecture/database/#many-to-many","title":"Many-to-Many","text":"<pre><code>// Users \u2194 Agencies\nUser {\n  agency: ObjectId\n}\nAgency {\n  members: [ObjectId]  // Array of User references\n}\n</code></pre>"},{"location":"architecture/database/#data-validation","title":"Data Validation","text":""},{"location":"architecture/database/#schema-level-validation","title":"Schema-Level Validation","text":"<pre><code>const serviceSchema = new mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    trim: true,\n    maxlength: 200\n  },\n  price: {\n    type: Number,\n    required: true,\n    min: 0\n  },\n  category: {\n    type: String,\n    enum: ['cleaning', 'plumbing', 'electrical'],\n    required: true\n  }\n});\n</code></pre>"},{"location":"architecture/database/#application-level-validation","title":"Application-Level Validation","text":"<p>Using Joi for request validation:</p> <pre><code>const serviceValidation = {\n  title: Joi.string().required().max(200),\n  price: Joi.number().required().min(0),\n  category: Joi.string().valid('cleaning', 'plumbing', 'electrical')\n};\n</code></pre>"},{"location":"architecture/database/#transactions","title":"Transactions","text":"<p>For operations requiring atomicity:</p> <pre><code>const session = await mongoose.startSession();\nsession.startTransaction();\n\ntry {\n  // Multiple operations\n  await User.updateOne({ _id: userId }, { $inc: { balance: -100 } }, { session });\n  await Transaction.create([{ userId, amount: -100 }], { session });\n\n  await session.commitTransaction();\n} catch (error) {\n  await session.abortTransaction();\n  throw error;\n} finally {\n  session.endSession();\n}\n</code></pre>"},{"location":"architecture/database/#aggregation-pipeline","title":"Aggregation Pipeline","text":"<p>For complex queries and analytics:</p> <pre><code>// Example: Get service statistics by category\nService.aggregate([\n  { $match: { status: 'active' } },\n  { $group: {\n      _id: '$category',\n      count: { $sum: 1 },\n      avgPrice: { $avg: '$pricing.basePrice' }\n    }\n  },\n  { $sort: { count: -1 } }\n]);\n</code></pre>"},{"location":"architecture/database/#data-migration","title":"Data Migration","text":""},{"location":"architecture/database/#schema-changes","title":"Schema Changes","text":"<ol> <li>Add new field: Add to schema with default value</li> <li>Remove field: Use <code>$unset</code> in migration script</li> <li>Rename field: Use <code>$rename</code> in migration script</li> <li>Change type: Use aggregation pipeline to transform</li> </ol>"},{"location":"architecture/database/#migration-script-example","title":"Migration Script Example","text":"<pre><code>// scripts/migrate-user-roles.js\nconst migrateUserRoles = async () =&gt; {\n  const users = await User.find({ roles: { $exists: false } });\n\n  for (const user of users) {\n    await User.updateOne(\n      { _id: user._id },\n      { $set: { roles: ['client'] } }\n    );\n  }\n};\n</code></pre>"},{"location":"architecture/database/#backup-recovery","title":"Backup &amp; Recovery","text":""},{"location":"architecture/database/#backup-strategy","title":"Backup Strategy","text":"<ol> <li>Automated Backups: Daily MongoDB backups</li> <li>Point-in-Time Recovery: Oplog-based recovery</li> <li>Export Scripts: JSON export for manual backups</li> </ol>"},{"location":"architecture/database/#backup-script","title":"Backup Script","text":"<pre><code># MongoDB backup\nmongodump --uri=\"mongodb://localhost:27017/localpro-super-app\" \\\n  --out=/backups/$(date +%Y%m%d)\n</code></pre>"},{"location":"architecture/database/#performance-optimization","title":"Performance Optimization","text":""},{"location":"architecture/database/#query-optimization","title":"Query Optimization","text":"<ol> <li>Use Indexes: Ensure queries use indexes</li> <li>Limit Results: Always use pagination</li> <li>Project Fields: Select only needed fields</li> <li>Avoid N+1 Queries: Use populate() efficiently</li> </ol>"},{"location":"architecture/database/#example-optimized-query","title":"Example Optimized Query","text":"<pre><code>// Good: Uses index, limits results, projects fields\nService.find({ provider: userId, status: 'active' })\n  .select('title price category')\n  .limit(20)\n  .sort({ createdAt: -1 });\n\n// Bad: Full collection scan, returns all fields\nService.find({});\n</code></pre>"},{"location":"architecture/database/#monitoring","title":"Monitoring","text":""},{"location":"architecture/database/#slow-query-detection","title":"Slow Query Detection","text":"<p>Middleware automatically logs slow queries:</p> <pre><code>// Queries taking &gt; 1000ms are logged\n{\n  query: 'services.find({ provider: ... })',\n  duration: 1250,\n  timestamp: '2025-12-16T10:30:00Z'\n}\n</code></pre>"},{"location":"architecture/database/#database-metrics","title":"Database Metrics","text":"<ul> <li>Connection pool usage</li> <li>Query execution times</li> <li>Index usage statistics</li> <li>Collection sizes</li> </ul>"},{"location":"architecture/database/#best-practices","title":"Best Practices","text":"<ol> <li>Always use indexes for frequently queried fields</li> <li>Use transactions for related operations</li> <li>Validate data at schema and application level</li> <li>Use projections to limit returned data</li> <li>Implement pagination for list queries</li> <li>Monitor slow queries and optimize</li> <li>Backup regularly and test recovery</li> <li>Use connection pooling for performance</li> </ol>"},{"location":"architecture/database/#next-steps","title":"Next Steps","text":"<ul> <li>Read Authentication Architecture</li> <li>Read Security Architecture</li> <li>Review Database Schemas Reference</li> </ul>"},{"location":"architecture/overview/","title":"Architecture Overview","text":""},{"location":"architecture/overview/#system-architecture","title":"System Architecture","text":"<p>LocalPro Super App is built as a RESTful API backend that serves multiple client applications (mobile apps, web dashboard, admin panel). The architecture follows a modular, microservices-ready design pattern.</p>"},{"location":"architecture/overview/#high-level-architecture","title":"High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Client Applications                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Mobile \u2502  \u2502    Web    \u2502  \u2502   Admin   \u2502  \u2502  Partner  \u2502  \u2502\n\u2502  \u2502    App   \u2502  \u2502  Dashboard\u2502  \u2502  Panel    \u2502  \u2502    API    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502               \u2502              \u2502              \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502      API Gateway / Load Balancer    \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502      Express.js REST API Server     \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502   Middleware Stack            \u2502  \u2502\n        \u2502  \u2502  - Authentication              \u2502  \u2502\n        \u2502  \u2502  - Authorization               \u2502  \u2502\n        \u2502  \u2502  - Rate Limiting              \u2502  \u2502\n        \u2502  \u2502  - Input Validation           \u2502  \u2502\n        \u2502  \u2502  - Error Handling             \u2502  \u2502\n        \u2502  \u2502  - Logging                    \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502   Route Handlers              \u2502  \u2502\n        \u2502  \u2502  - Marketplace                \u2502  \u2502\n        \u2502  \u2502  - Bookings                   \u2502  \u2502\n        \u2502  \u2502  - Academy                    \u2502  \u2502\n        \u2502  \u2502  - Finance                    \u2502  \u2502\n        \u2502  \u2502  - ... (20+ features)         \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502   Controllers                 \u2502  \u2502\n        \u2502  \u2502  - Business Logic             \u2502  \u2502\n        \u2502  \u2502  - Data Validation            \u2502  \u2502\n        \u2502  \u2502  - Response Formatting        \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502   Services Layer             \u2502  \u2502\n        \u2502  \u2502  - Payment Processing        \u2502  \u2502\n        \u2502  \u2502  - Email/SMS Services        \u2502  \u2502\n        \u2502  \u2502  - File Upload               \u2502  \u2502\n        \u2502  \u2502  - Analytics                 \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   MongoDB      \u2502  \u2502  Cloudinary  \u2502  \u2502  External   \u2502\n\u2502   Database     \u2502  \u2502  (File Store)\u2502  \u2502  Services   \u2502\n\u2502                \u2502  \u2502               \u2502  \u2502             \u2502\n\u2502  - Users       \u2502  \u2502  - Images    \u2502  \u2502  - PayPal   \u2502\n\u2502  - Services    \u2502  \u2502  - Videos    \u2502  \u2502  - PayMaya  \u2502\n\u2502  - Bookings    \u2502  \u2502  - Documents \u2502  \u2502  - Twilio   \u2502\n\u2502  - ...         \u2502  \u2502               \u2502  \u2502  - Google   \u2502\n\u2502                \u2502  \u2502               \u2502  \u2502    Maps     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/overview/#technology-stack","title":"Technology Stack","text":""},{"location":"architecture/overview/#backend","title":"Backend","text":"Component Technology Version Runtime Node.js 18+ Framework Express.js 4.18+ Database MongoDB 6.0+ ODM Mongoose 8.0+ Authentication JWT (jsonwebtoken) 9.0+ File Upload Multer + Cloudinary 2.0+ Validation Joi, express-validator Latest Logging Winston 3.18+ Testing Jest 29.7+"},{"location":"architecture/overview/#external-services","title":"External Services","text":"Service Purpose Integration PayPal Payment processing PayPal Server SDK PayMaya Payment processing (PH) PayMaya API Twilio SMS notifications Twilio SDK Cloudinary Image/video storage Cloudinary SDK Google Maps Location services Google Maps API Resend Email delivery Resend API"},{"location":"architecture/overview/#architecture-patterns","title":"Architecture Patterns","text":""},{"location":"architecture/overview/#1-layered-architecture","title":"1. Layered Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Presentation Layer           \u2502\n\u2502      (Routes / API Endpoints)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Application Layer            \u2502\n\u2502      (Controllers / Business Logic)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Service Layer                \u2502\n\u2502   (External Services Integration)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Data Access Layer            \u2502\n\u2502      (Models / Database Queries)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/overview/#2-mvc-pattern","title":"2. MVC Pattern","text":"<ul> <li>Models: Data schemas and database operations (<code>src/models/</code>)</li> <li>Views: API responses (JSON)</li> <li>Controllers: Request handling and business logic (<code>src/controllers/</code>)</li> </ul>"},{"location":"architecture/overview/#3-middleware-pattern","title":"3. Middleware Pattern","text":"<p>Request flow through middleware stack:</p> <pre><code>Request \u2192 Security Headers \u2192 CORS \u2192 Rate Limiting \u2192 \nAuthentication \u2192 Authorization \u2192 Validation \u2192 \nController \u2192 Service \u2192 Database \u2192 Response\n</code></pre>"},{"location":"architecture/overview/#directory-structure","title":"Directory Structure","text":"<pre><code>localpro-super-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 config/          # Configuration files\n\u2502   \u2502   \u251c\u2500\u2500 database.js\n\u2502   \u2502   \u251c\u2500\u2500 logger.js\n\u2502   \u2502   \u2514\u2500\u2500 cloudinary.js\n\u2502   \u251c\u2500\u2500 controllers/     # Business logic handlers\n\u2502   \u2502   \u251c\u2500\u2500 marketplaceController.js\n\u2502   \u2502   \u251c\u2500\u2500 bookingController.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 middleware/      # Express middleware\n\u2502   \u2502   \u251c\u2500\u2500 auth.js\n\u2502   \u2502   \u251c\u2500\u2500 errorHandler.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 models/          # Mongoose models\n\u2502   \u2502   \u251c\u2500\u2500 User.js\n\u2502   \u2502   \u251c\u2500\u2500 Service.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 routes/          # API route definitions\n\u2502   \u2502   \u251c\u2500\u2500 marketplace.js\n\u2502   \u2502   \u251c\u2500\u2500 bookings.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 services/        # External service integrations\n\u2502   \u2502   \u251c\u2500\u2500 paymentService.js\n\u2502   \u2502   \u251c\u2500\u2500 emailService.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 utils/           # Utility functions\n\u2502   \u2502   \u251c\u2500\u2500 validation.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 server.js        # Application entry point\n\u251c\u2500\u2500 docs/                # Documentation\n\u251c\u2500\u2500 scripts/            # Utility scripts\n\u251c\u2500\u2500 tests/              # Test files\n\u2514\u2500\u2500 package.json        # Dependencies\n</code></pre>"},{"location":"architecture/overview/#request-flow","title":"Request Flow","text":""},{"location":"architecture/overview/#1-incoming-request","title":"1. Incoming Request","text":"<pre><code>Client Request\n    \u2193\nAPI Gateway / Load Balancer\n    \u2193\nExpress Server\n    \u2193\nSecurity Middleware (CORS, Helmet, Rate Limiting)\n    \u2193\nAuthentication Middleware (JWT Verification)\n    \u2193\nAuthorization Middleware (Role Check)\n    \u2193\nRoute Handler\n    \u2193\nController\n    \u2193\nService Layer (if needed)\n    \u2193\nModel / Database\n    \u2193\nResponse Formatter\n    \u2193\nClient Response\n</code></pre>"},{"location":"architecture/overview/#2-error-handling-flow","title":"2. Error Handling Flow","text":"<pre><code>Error Occurs\n    \u2193\nError Handler Middleware\n    \u2193\nLog Error (Winston)\n    \u2193\nFormat Error Response\n    \u2193\nReturn to Client\n</code></pre>"},{"location":"architecture/overview/#data-flow","title":"Data Flow","text":""},{"location":"architecture/overview/#read-operation-get","title":"Read Operation (GET)","text":"<pre><code>Client \u2192 Route \u2192 Controller \u2192 Model \u2192 Database\n                                    \u2193\nClient \u2190 JSON Response \u2190 Controller \u2190 Model\n</code></pre>"},{"location":"architecture/overview/#write-operation-postputdelete","title":"Write Operation (POST/PUT/DELETE)","text":"<pre><code>Client \u2192 Route \u2192 Controller \u2192 Validation\n                                    \u2193\n                            Service Layer (if needed)\n                                    \u2193\n                            Model \u2192 Database\n                                    \u2193\n                            Audit Log\n                                    \u2193\nClient \u2190 JSON Response \u2190 Controller\n</code></pre>"},{"location":"architecture/overview/#security-architecture","title":"Security Architecture","text":""},{"location":"architecture/overview/#authentication-flow","title":"Authentication Flow","text":"<pre><code>1. User sends phone number\n   \u2193\n2. Server generates verification code\n   \u2193\n3. SMS sent via Twilio\n   \u2193\n4. User submits code\n   \u2193\n5. Server validates code\n   \u2193\n6. JWT token generated\n   \u2193\n7. Token returned to client\n   \u2193\n8. Client stores token\n   \u2193\n9. Token included in subsequent requests\n</code></pre>"},{"location":"architecture/overview/#authorization-flow","title":"Authorization Flow","text":"<pre><code>Request with JWT Token\n   \u2193\nExtract token from header\n   \u2193\nVerify token signature\n   \u2193\nLoad user from database\n   \u2193\nCheck user roles\n   \u2193\nCompare with required roles\n   \u2193\nAllow or Deny access\n</code></pre>"},{"location":"architecture/overview/#scalability-considerations","title":"Scalability Considerations","text":""},{"location":"architecture/overview/#horizontal-scaling","title":"Horizontal Scaling","text":"<ul> <li>Stateless API: No session storage, JWT-based auth</li> <li>Database: MongoDB supports sharding</li> <li>File Storage: Cloudinary handles CDN</li> <li>Load Balancing: Can run multiple instances</li> </ul>"},{"location":"architecture/overview/#vertical-scaling","title":"Vertical Scaling","text":"<ul> <li>Connection Pooling: MongoDB connection pool</li> <li>Caching: Can add Redis for caching</li> <li>Database Indexing: Optimized queries</li> </ul>"},{"location":"architecture/overview/#performance-optimizations","title":"Performance Optimizations","text":"<ol> <li>Database Indexing: Strategic indexes on frequently queried fields</li> <li>Connection Pooling: MongoDB connection pool management</li> <li>Response Compression: Gzip compression enabled</li> <li>Query Optimization: Middleware for slow query detection</li> <li>Rate Limiting: Prevents abuse and ensures fair usage</li> </ol>"},{"location":"architecture/overview/#monitoring-observability","title":"Monitoring &amp; Observability","text":"<ul> <li>Logging: Winston with daily rotation</li> <li>Error Tracking: Error monitoring endpoints</li> <li>Metrics: Prometheus metrics middleware</li> <li>Audit Logs: Complete audit trail</li> <li>Health Checks: Health check endpoints</li> </ul>"},{"location":"architecture/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Read Database Architecture</li> <li>Read Authentication Architecture</li> <li>Read Security Architecture</li> <li>Read API Design</li> </ul>"},{"location":"architecture/security/","title":"Security Architecture","text":""},{"location":"architecture/security/#overview","title":"Overview","text":"<p>LocalPro Super App implements comprehensive security measures at multiple layers to protect user data, prevent attacks, and ensure system integrity.</p>"},{"location":"architecture/security/#security-layers","title":"Security Layers","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Network Security (HTTPS/TLS)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Application Security Headers        \u2502\n\u2502     (Helmet, CORS, Rate Limiting)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Authentication &amp; Authorization      \u2502\n\u2502     (JWT, Role-Based Access)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Input Validation &amp; Sanitization      \u2502\n\u2502     (Joi, express-validator, DOMPurify) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Data Protection                     \u2502\n\u2502     (Encryption, Hashing)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/security/#security-headers","title":"Security Headers","text":""},{"location":"architecture/security/#helmet-configuration","title":"Helmet Configuration","text":"<pre><code>helmet({\n  contentSecurityPolicy: {\n    directives: {\n      defaultSrc: [\"'self'\"],\n      styleSrc: [\"'self'\", \"'unsafe-inline'\"],\n      scriptSrc: [\"'self'\"],\n      imgSrc: [\"'self'\", \"data:\", \"https:\"],\n      connectSrc: [\"'self'\", \"https://api.paymongo.com\"],\n      frameSrc: [\"'none'\"],\n      objectSrc: [\"'none'\"]\n    }\n  },\n  frameguard: { action: 'deny' },\n  hidePoweredBy: true,\n  hsts: {\n    maxAge: 31536000,\n    includeSubDomains: true\n  },\n  noSniff: true,\n  xssFilter: true,\n  referrerPolicy: 'strict-origin-when-cross-origin'\n})\n</code></pre>"},{"location":"architecture/security/#security-headers-applied","title":"Security Headers Applied","text":"Header Purpose Value <code>X-Content-Type-Options</code> Prevent MIME sniffing <code>nosniff</code> <code>X-Frame-Options</code> Prevent clickjacking <code>DENY</code> <code>X-XSS-Protection</code> XSS protection <code>1; mode=block</code> <code>Strict-Transport-Security</code> Force HTTPS <code>max-age=31536000</code> <code>Content-Security-Policy</code> Resource loading restrictions Various <code>Referrer-Policy</code> Control referrer information <code>strict-origin-when-cross-origin</code>"},{"location":"architecture/security/#cors-configuration","title":"CORS Configuration","text":""},{"location":"architecture/security/#allowed-origins","title":"Allowed Origins","text":"<pre><code>const allowedOrigins = [\n  process.env.FRONTEND_URL,\n  process.env.ADMIN_URL,\n  'http://localhost:3000',  // Development\n  'http://localhost:3001'   // Development\n];\n</code></pre>"},{"location":"architecture/security/#cors-settings","title":"CORS Settings","text":"<ul> <li>Credentials: Enabled</li> <li>Methods: GET, POST, PUT, DELETE, PATCH, OPTIONS</li> <li>Headers: Authorization, Content-Type, X-Request-ID</li> <li>Max Age: 24 hours</li> </ul>"},{"location":"architecture/security/#rate-limiting","title":"Rate Limiting","text":""},{"location":"architecture/security/#general-rate-limiter","title":"General Rate Limiter","text":"<pre><code>const generalLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000,  // 15 minutes\n  max: 100,                   // 100 requests per window\n  message: 'Too many requests, please try again later',\n  standardHeaders: true,\n  legacyHeaders: false\n});\n</code></pre>"},{"location":"architecture/security/#auth-rate-limiter","title":"Auth Rate Limiter","text":"<pre><code>const authLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  max: 5,  // 5 attempts per 15 minutes\n  message: 'Too many authentication attempts'\n});\n</code></pre>"},{"location":"architecture/security/#rate-limit-headers","title":"Rate Limit Headers","text":"<ul> <li><code>X-RateLimit-Limit</code>: Maximum requests allowed</li> <li><code>X-RateLimit-Remaining</code>: Remaining requests</li> <li><code>X-RateLimit-Reset</code>: Reset time (Unix timestamp)</li> </ul>"},{"location":"architecture/security/#input-validation","title":"Input Validation","text":""},{"location":"architecture/security/#schema-validation-joi","title":"Schema Validation (Joi)","text":"<pre><code>const serviceSchema = Joi.object({\n  title: Joi.string().required().max(200),\n  price: Joi.number().required().min(0),\n  category: Joi.string().valid('cleaning', 'plumbing')\n});\n</code></pre>"},{"location":"architecture/security/#express-validator","title":"Express Validator","text":"<pre><code>[\n  body('email').isEmail().normalizeEmail(),\n  body('phoneNumber').isMobilePhone(),\n  body('price').isFloat({ min: 0 })\n]\n</code></pre>"},{"location":"architecture/security/#html-sanitization","title":"HTML Sanitization","text":"<pre><code>const DOMPurify = require('isomorphic-dompurify');\n\nconst sanitized = DOMPurify.sanitize(userInput, {\n  ALLOWED_TAGS: [],\n  ALLOWED_ATTR: []\n});\n</code></pre>"},{"location":"architecture/security/#sql-injection-protection","title":"SQL Injection Protection","text":""},{"location":"architecture/security/#mongodb-injection-prevention","title":"MongoDB Injection Prevention","text":"<p>MongoDB is naturally resistant to SQL injection, but we still:</p> <ol> <li>Use Parameterized Queries: Mongoose handles this automatically</li> <li>Validate ObjectIds: Check format before queries</li> <li>Sanitize Input: Remove special characters</li> </ol> <pre><code>// Good: Parameterized query\nUser.findById(userId);\n\n// Bad: String concatenation (not applicable to MongoDB)\n// But still validate userId format\nif (!mongoose.Types.ObjectId.isValid(userId)) {\n  return res.status(400).json({ error: 'Invalid ID' });\n}\n</code></pre>"},{"location":"architecture/security/#xss-protection","title":"XSS Protection","text":""},{"location":"architecture/security/#server-side","title":"Server-Side","text":"<ol> <li>Input Sanitization: Remove HTML tags</li> <li>Output Encoding: Encode special characters</li> <li>Content Security Policy: Restrict script execution</li> </ol>"},{"location":"architecture/security/#client-side","title":"Client-Side","text":"<ul> <li>Sanitize user-generated content</li> <li>Use React's built-in XSS protection</li> <li>Avoid <code>dangerouslySetInnerHTML</code></li> </ul>"},{"location":"architecture/security/#authentication-security","title":"Authentication Security","text":""},{"location":"architecture/security/#jwt-security","title":"JWT Security","text":"<ol> <li>Strong Secret: Use cryptographically random secret</li> <li>Short Expiration: 24-hour token lifetime</li> <li>HTTPS Only: Transmit tokens over HTTPS only</li> <li>Token Validation: Always verify signature</li> </ol>"},{"location":"architecture/security/#password-security","title":"Password Security","text":"<ul> <li>No passwords used (phone-based auth)</li> <li>Verification codes expire in 5 minutes</li> <li>Rate limiting on code requests</li> </ul>"},{"location":"architecture/security/#data-protection","title":"Data Protection","text":""},{"location":"architecture/security/#encryption-at-rest","title":"Encryption at Rest","text":"<ul> <li>MongoDB encryption (if enabled)</li> <li>Environment variables encrypted</li> <li>Secrets stored securely</li> </ul>"},{"location":"architecture/security/#encryption-in-transit","title":"Encryption in Transit","text":"<ul> <li>HTTPS/TLS for all API communication</li> <li>TLS 1.2+ required</li> <li>Certificate validation</li> </ul>"},{"location":"architecture/security/#data-hashing","title":"Data Hashing","text":"<ul> <li>Sensitive data hashed (if needed)</li> <li>bcrypt for password hashing (not used, but available)</li> </ul>"},{"location":"architecture/security/#api-security","title":"API Security","text":""},{"location":"architecture/security/#request-validation","title":"Request Validation","text":"<ol> <li>Content-Type: Validate expected content type</li> <li>Request Size: Limit to 10MB</li> <li>Request Timeout: 30-second timeout</li> <li>IP Filtering: Optional IP whitelist</li> </ol>"},{"location":"architecture/security/#response-security","title":"Response Security","text":"<ol> <li>No Sensitive Data: Don't expose internal details</li> <li>Error Messages: Generic error messages</li> <li>Rate Limit Info: Include in headers only</li> </ol>"},{"location":"architecture/security/#file-upload-security","title":"File Upload Security","text":""},{"location":"architecture/security/#restrictions","title":"Restrictions","text":"<pre><code>{\n  fileSize: 5 * 1024 * 1024,  // 5MB max\n  fileTypes: ['image/jpeg', 'image/png', 'image/webp'],\n  maxFiles: 5\n}\n</code></pre>"},{"location":"architecture/security/#validation","title":"Validation","text":"<ol> <li>MIME Type Check: Verify file type</li> <li>File Size Limit: Enforce size limits</li> <li>Virus Scanning: Optional virus scan</li> <li>Storage: Cloudinary handles secure storage</li> </ol>"},{"location":"architecture/security/#audit-logging","title":"Audit Logging","text":""},{"location":"architecture/security/#security-events-logged","title":"Security Events Logged","text":"<ul> <li>Authentication attempts</li> <li>Authorization failures</li> <li>Admin actions</li> <li>Data modifications</li> <li>Failed validations</li> </ul>"},{"location":"architecture/security/#log-format","title":"Log Format","text":"<pre><code>{\n  timestamp: '2025-12-16T10:30:00Z',\n  user: 'user_id',\n  action: 'AUTHENTICATION_FAILED',\n  ip: '192.168.1.1',\n  userAgent: 'Mozilla/5.0...',\n  details: { reason: 'Invalid token' }\n}\n</code></pre>"},{"location":"architecture/security/#error-handling-security","title":"Error Handling Security","text":""},{"location":"architecture/security/#error-responses","title":"Error Responses","text":"<pre><code>// Don't expose internal details\n{\n  success: false,\n  message: 'An error occurred',\n  code: 'INTERNAL_ERROR'\n  // No stack traces in production\n}\n</code></pre>"},{"location":"architecture/security/#error-logging","title":"Error Logging","text":"<ul> <li>Log detailed errors server-side</li> <li>Return generic messages to client</li> <li>Include error codes for debugging</li> </ul>"},{"location":"architecture/security/#environment-security","title":"Environment Security","text":""},{"location":"architecture/security/#environment-variables","title":"Environment Variables","text":"<ul> <li>Never commit <code>.env</code> files</li> <li>Use strong secrets</li> <li>Rotate secrets regularly</li> <li>Use different secrets per environment</li> </ul>"},{"location":"architecture/security/#secrets-management","title":"Secrets Management","text":"<pre><code># Production secrets\nJWT_SECRET=&lt;strong-random-secret&gt;\nMONGODB_URI=&lt;connection-string&gt;\nPAYPAL_CLIENT_ID=&lt;client-id&gt;\nPAYPAL_CLIENT_SECRET=&lt;client-secret&gt;\n</code></pre>"},{"location":"architecture/security/#security-best-practices","title":"Security Best Practices","text":""},{"location":"architecture/security/#development","title":"Development","text":"<ol> <li>Never commit secrets to repository</li> <li>Use environment variables for configuration</li> <li>Validate all inputs at boundaries</li> <li>Use parameterized queries (automatic with Mongoose)</li> <li>Keep dependencies updated</li> </ol>"},{"location":"architecture/security/#production","title":"Production","text":"<ol> <li>Enable HTTPS only</li> <li>Use strong JWT secrets</li> <li>Implement rate limiting</li> <li>Monitor security events</li> <li>Regular security audits</li> <li>Keep dependencies updated</li> <li>Use security headers</li> <li>Enable audit logging</li> </ol>"},{"location":"architecture/security/#security-checklist","title":"Security Checklist","text":"<ul> <li> HTTPS enabled in production</li> <li> Security headers configured</li> <li> CORS properly configured</li> <li> Rate limiting enabled</li> <li> Input validation on all endpoints</li> <li> Authentication required for protected routes</li> <li> Authorization checks in place</li> <li> Error messages don't expose internals</li> <li> File uploads validated</li> <li> Audit logging enabled</li> <li> Secrets stored securely</li> <li> Dependencies up to date</li> <li> Security monitoring active</li> </ul>"},{"location":"architecture/security/#incident-response","title":"Incident Response","text":""},{"location":"architecture/security/#security-incident-process","title":"Security Incident Process","text":"<ol> <li>Detect: Identify security issue</li> <li>Contain: Limit impact</li> <li>Investigate: Analyze root cause</li> <li>Remediate: Fix vulnerability</li> <li>Document: Record incident</li> <li>Notify: Inform affected users (if needed)</li> </ol>"},{"location":"architecture/security/#compliance","title":"Compliance","text":""},{"location":"architecture/security/#data-protection_1","title":"Data Protection","text":"<ul> <li>User data encrypted</li> <li>Access controls in place</li> <li>Audit trails maintained</li> <li>Data retention policies</li> </ul>"},{"location":"architecture/security/#privacy","title":"Privacy","text":"<ul> <li>Minimal data collection</li> <li>User consent for data use</li> <li>Data deletion on request</li> <li>Privacy policy compliance</li> </ul>"},{"location":"architecture/security/#next-steps","title":"Next Steps","text":"<ul> <li>Review Authentication Architecture</li> <li>Check API Design</li> <li>Read Deployment Security</li> </ul>"},{"location":"deployment/backup/","title":"Backup Strategy","text":""},{"location":"deployment/backup/#overview","title":"Overview","text":"<p>This guide covers backup strategies for the LocalPro Super App.</p>"},{"location":"deployment/backup/#backup-components","title":"Backup Components","text":""},{"location":"deployment/backup/#database-backups","title":"Database Backups","text":"<ul> <li>MongoDB - Primary database</li> <li>Frequency - Daily</li> <li>Retention - 30 days</li> </ul>"},{"location":"deployment/backup/#application-backups","title":"Application Backups","text":"<ul> <li>Code - Git repository</li> <li>Configuration - Environment variables</li> <li>Files - Cloudinary (automatic)</li> </ul>"},{"location":"deployment/backup/#mongodb-backups","title":"MongoDB Backups","text":""},{"location":"deployment/backup/#manual-backup","title":"Manual Backup","text":"<pre><code># Backup database\nmongodump --uri=\"$MONGODB_URI\" --out=./backups/$(date +%Y%m%d)\n\n# Backup specific collection\nmongodump --uri=\"$MONGODB_URI\" --collection=users --out=./backups\n</code></pre>"},{"location":"deployment/backup/#automated-backup-script","title":"Automated Backup Script","text":"<pre><code>#!/bin/bash\n# backup-database.sh\n\nDATE=$(date +%Y%m%d)\nBACKUP_DIR=\"./backups/$DATE\"\nMONGODB_URI=\"${MONGODB_URI}\"\n\nmkdir -p \"$BACKUP_DIR\"\n\nmongodump --uri=\"$MONGODB_URI\" --out=\"$BACKUP_DIR\"\n\n# Compress backup\ntar -czf \"$BACKUP_DIR.tar.gz\" \"$BACKUP_DIR\"\nrm -rf \"$BACKUP_DIR\"\n\n# Upload to cloud storage (optional)\n# aws s3 cp \"$BACKUP_DIR.tar.gz\" s3://backups/\n</code></pre>"},{"location":"deployment/backup/#cron-job","title":"Cron Job","text":"<pre><code># Daily backup at 2 AM\n0 2 * * * /path/to/backup-database.sh\n</code></pre>"},{"location":"deployment/backup/#mongodb-atlas-backups","title":"MongoDB Atlas Backups","text":"<p>MongoDB Atlas provides automatic backups: - Continuous backups - Point-in-time recovery - Snapshot backups</p>"},{"location":"deployment/backup/#file-backups","title":"File Backups","text":""},{"location":"deployment/backup/#cloudinary","title":"Cloudinary","text":"<p>Cloudinary provides automatic backups: - Image backups - Version history - CDN distribution</p>"},{"location":"deployment/backup/#manual-file-backup","title":"Manual File Backup","text":"<pre><code># Backup uploaded files (if stored locally)\ntar -czf files-backup.tar.gz ./uploads/\n</code></pre>"},{"location":"deployment/backup/#configuration-backups","title":"Configuration Backups","text":""},{"location":"deployment/backup/#environment-variables","title":"Environment Variables","text":"<pre><code># Backup .env file\ncp .env .env.backup.$(date +%Y%m%d)\n</code></pre>"},{"location":"deployment/backup/#application-settings","title":"Application Settings","text":"<p>Application settings stored in database are included in MongoDB backups.</p>"},{"location":"deployment/backup/#backup-verification","title":"Backup Verification","text":""},{"location":"deployment/backup/#test-restores","title":"Test Restores","text":"<p>Regularly test backup restoration:</p> <pre><code># Restore backup\nmongorestore --uri=\"$MONGODB_URI\" ./backups/20251216/\n</code></pre>"},{"location":"deployment/backup/#backup-integrity","title":"Backup Integrity","text":"<pre><code># Verify backup\nmongodump --uri=\"$MONGODB_URI\" --out=./test-backup\n# Compare with original\n</code></pre>"},{"location":"deployment/backup/#backup-storage","title":"Backup Storage","text":""},{"location":"deployment/backup/#local-storage","title":"Local Storage","text":"<ul> <li>Fast access</li> <li>Limited space</li> <li>Risk of loss</li> </ul>"},{"location":"deployment/backup/#cloud-storage","title":"Cloud Storage","text":"<ul> <li>Scalable</li> <li>Redundant</li> <li>Off-site</li> </ul>"},{"location":"deployment/backup/#recommended","title":"Recommended","text":"<ul> <li>Primary: Local storage (fast restore)</li> <li>Secondary: Cloud storage (disaster recovery)</li> </ul>"},{"location":"deployment/backup/#backup-schedule","title":"Backup Schedule","text":""},{"location":"deployment/backup/#daily-backups","title":"Daily Backups","text":"<ul> <li>Full database backup</li> <li>Configuration backup</li> </ul>"},{"location":"deployment/backup/#weekly-backups","title":"Weekly Backups","text":"<ul> <li>Full system backup</li> <li>Archive old backups</li> </ul>"},{"location":"deployment/backup/#monthly-backups","title":"Monthly Backups","text":"<ul> <li>Long-term archive</li> <li>Compliance backups</li> </ul>"},{"location":"deployment/backup/#disaster-recovery","title":"Disaster Recovery","text":""},{"location":"deployment/backup/#recovery-plan","title":"Recovery Plan","text":"<ol> <li>Identify failure - What failed?</li> <li>Assess impact - How critical?</li> <li>Restore backup - Latest backup</li> <li>Verify restoration - Test functionality</li> <li>Document incident - Learn from it</li> </ol>"},{"location":"deployment/backup/#recovery-time-objective-rto","title":"Recovery Time Objective (RTO)","text":"<ul> <li>Target: &lt; 1 hour</li> <li>Maximum: &lt; 4 hours</li> </ul>"},{"location":"deployment/backup/#recovery-point-objective-rpo","title":"Recovery Point Objective (RPO)","text":"<ul> <li>Target: &lt; 1 hour data loss</li> <li>Maximum: &lt; 24 hours data loss</li> </ul>"},{"location":"deployment/backup/#best-practices","title":"Best Practices","text":"<ol> <li>Automate backups - Don't rely on manual</li> <li>Test restores - Regularly verify backups</li> <li>Multiple locations - Don't keep all backups in one place</li> <li>Encrypt backups - Protect sensitive data</li> <li>Document process - Clear recovery procedures</li> </ol>"},{"location":"deployment/backup/#backup-tools","title":"Backup Tools","text":"<ul> <li>mongodump - MongoDB backup</li> <li>mongorestore - MongoDB restore</li> <li>AWS S3 - Cloud storage</li> <li>Google Cloud Storage - Cloud storage</li> <li>Azure Blob - Cloud storage</li> </ul>"},{"location":"deployment/backup/#next-steps","title":"Next Steps","text":"<ul> <li>Review Production Deployment</li> <li>Check Monitoring Guide</li> <li>Read Troubleshooting Guide</li> </ul>"},{"location":"deployment/docker/","title":"Docker Deployment","text":""},{"location":"deployment/docker/#overview","title":"Overview","text":"<p>This guide covers deploying LocalPro Super App using Docker.</p>"},{"location":"deployment/docker/#dockerfile","title":"Dockerfile","text":""},{"location":"deployment/docker/#basic-dockerfile","title":"Basic Dockerfile","text":"<pre><code>FROM node:18-alpine\n\nWORKDIR /app\n\n# Copy package files\nCOPY package*.json ./\n\n# Install dependencies\nRUN npm ci --only=production\n\n# Copy application\nCOPY . .\n\n# Expose port\nEXPOSE 5000\n\n# Start application\nCMD [\"node\", \"src/server.js\"]\n</code></pre>"},{"location":"deployment/docker/#multi-stage-dockerfile","title":"Multi-stage Dockerfile","text":"<pre><code># Build stage\nFROM node:18-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\n\n# Production stage\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --only=production\nCOPY --from=builder /app/dist ./dist\nCOPY . .\nEXPOSE 5000\nCMD [\"node\", \"src/server.js\"]\n</code></pre>"},{"location":"deployment/docker/#docker-compose","title":"Docker Compose","text":""},{"location":"deployment/docker/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  api:\n    build: .\n    ports:\n      - \"5000:5000\"\n    environment:\n      - NODE_ENV=production\n      - MONGODB_URI=mongodb://mongo:27017/localpro\n      - JWT_SECRET=${JWT_SECRET}\n    depends_on:\n      - mongo\n    volumes:\n      - ./logs:/app/logs\n\n  mongo:\n    image: mongo:6.0\n    ports:\n      - \"27017:27017\"\n    volumes:\n      - mongo-data:/data/db\n    environment:\n      - MONGO_INITDB_DATABASE=localpro\n\nvolumes:\n  mongo-data:\n</code></pre>"},{"location":"deployment/docker/#building-and-running","title":"Building and Running","text":""},{"location":"deployment/docker/#build-image","title":"Build Image","text":"<pre><code>docker build -t localpro-api .\n</code></pre>"},{"location":"deployment/docker/#run-container","title":"Run Container","text":"<pre><code>docker run -d \\\n  --name localpro-api \\\n  -p 5000:5000 \\\n  -e MONGODB_URI=mongodb://mongo:27017/localpro \\\n  -e JWT_SECRET=your-secret \\\n  localpro-api\n</code></pre>"},{"location":"deployment/docker/#docker-compose_1","title":"Docker Compose","text":"<pre><code># Start services\ndocker-compose up -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop services\ndocker-compose down\n</code></pre>"},{"location":"deployment/docker/#environment-variables","title":"Environment Variables","text":""},{"location":"deployment/docker/#env-file","title":".env File","text":"<pre><code>NODE_ENV=production\nMONGODB_URI=mongodb://mongo:27017/localpro\nJWT_SECRET=your-secret\n</code></pre>"},{"location":"deployment/docker/#docker-compose-with-env","title":"Docker Compose with .env","text":"<pre><code>services:\n  api:\n    env_file:\n      - .env\n</code></pre>"},{"location":"deployment/docker/#production-considerations","title":"Production Considerations","text":""},{"location":"deployment/docker/#health-checks","title":"Health Checks","text":"<pre><code>HEALTHCHECK --interval=30s --timeout=3s \\\n  CMD node healthcheck.js || exit 1\n</code></pre>"},{"location":"deployment/docker/#resource-limits","title":"Resource Limits","text":"<pre><code>services:\n  api:\n    deploy:\n      resources:\n        limits:\n          cpus: '1'\n          memory: 1G\n        reservations:\n          cpus: '0.5'\n          memory: 512M\n</code></pre>"},{"location":"deployment/docker/#logging","title":"Logging","text":"<pre><code>services:\n  api:\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n</code></pre>"},{"location":"deployment/docker/#docker-hub","title":"Docker Hub","text":""},{"location":"deployment/docker/#build-and-push","title":"Build and Push","text":"<pre><code>docker build -t yourusername/localpro-api .\ndocker push yourusername/localpro-api\n</code></pre>"},{"location":"deployment/docker/#pull-and-run","title":"Pull and Run","text":"<pre><code>docker pull yourusername/localpro-api\ndocker run -d yourusername/localpro-api\n</code></pre>"},{"location":"deployment/docker/#kubernetes","title":"Kubernetes","text":""},{"location":"deployment/docker/#deployment","title":"Deployment","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: localpro-api\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: localpro-api\n  template:\n    metadata:\n      labels:\n        app: localpro-api\n    spec:\n      containers:\n      - name: api\n        image: yourusername/localpro-api:latest\n        ports:\n        - containerPort: 5000\n        env:\n        - name: MONGODB_URI\n          valueFrom:\n            secretKeyRef:\n              name: localpro-secrets\n              key: mongodb-uri\n</code></pre>"},{"location":"deployment/docker/#best-practices","title":"Best Practices","text":"<ol> <li>Use multi-stage builds - Smaller images</li> <li>Don't run as root - Use non-root user</li> <li>Use .dockerignore - Exclude unnecessary files</li> <li>Health checks - Monitor container health</li> <li>Resource limits - Prevent resource exhaustion</li> </ol>"},{"location":"deployment/docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/docker/#view-logs","title":"View Logs","text":"<pre><code>docker logs localpro-api\ndocker logs -f localpro-api  # Follow logs\n</code></pre>"},{"location":"deployment/docker/#execute-commands","title":"Execute Commands","text":"<pre><code>docker exec -it localpro-api sh\n</code></pre>"},{"location":"deployment/docker/#inspect-container","title":"Inspect Container","text":"<pre><code>docker inspect localpro-api\n</code></pre>"},{"location":"deployment/docker/#next-steps","title":"Next Steps","text":"<ul> <li>Review Production Deployment</li> <li>Check Monitoring Guide</li> <li>Read Backup Strategy</li> </ul>"},{"location":"deployment/monitoring/","title":"Monitoring Guide","text":""},{"location":"deployment/monitoring/#overview","title":"Overview","text":"<p>This guide covers monitoring and observability for the LocalPro Super App.</p>"},{"location":"deployment/monitoring/#monitoring-stack","title":"Monitoring Stack","text":""},{"location":"deployment/monitoring/#application-monitoring","title":"Application Monitoring","text":"<ul> <li>Winston - Logging</li> <li>Prometheus - Metrics</li> <li>Health Checks - Application health</li> </ul>"},{"location":"deployment/monitoring/#infrastructure-monitoring","title":"Infrastructure Monitoring","text":"<ul> <li>Server Metrics - CPU, Memory, Disk</li> <li>Database Metrics - Connection pool, queries</li> <li>Network Metrics - Request rates, latency</li> </ul>"},{"location":"deployment/monitoring/#health-checks","title":"Health Checks","text":""},{"location":"deployment/monitoring/#health-endpoint","title":"Health Endpoint","text":"<pre><code>GET /health\n</code></pre> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"timestamp\": \"2025-12-16T10:30:00Z\",\n  \"uptime\": 3600,\n  \"database\": \"connected\",\n  \"memory\": {\n    \"used\": \"150MB\",\n    \"total\": \"512MB\"\n  }\n}\n</code></pre></p>"},{"location":"deployment/monitoring/#readiness-check","title":"Readiness Check","text":"<pre><code>GET /health/ready\n</code></pre>"},{"location":"deployment/monitoring/#liveness-check","title":"Liveness Check","text":"<pre><code>GET /health/live\n</code></pre>"},{"location":"deployment/monitoring/#logging","title":"Logging","text":""},{"location":"deployment/monitoring/#log-levels","title":"Log Levels","text":"<ul> <li>error - Errors only</li> <li>warn - Warnings and errors</li> <li>info - Info, warnings, errors</li> <li>debug - All logs</li> </ul>"},{"location":"deployment/monitoring/#log-structure","title":"Log Structure","text":"<pre><code>logger.info('User created', {\n  userId: '123',\n  phoneNumber: '+1234567890',\n  timestamp: new Date().toISOString()\n});\n</code></pre>"},{"location":"deployment/monitoring/#log-files","title":"Log Files","text":"<ul> <li><code>logs/combined.log</code> - All logs</li> <li><code>logs/error.log</code> - Errors only</li> <li><code>logs/http.log</code> - HTTP requests</li> </ul>"},{"location":"deployment/monitoring/#metrics","title":"Metrics","text":""},{"location":"deployment/monitoring/#prometheus-metrics","title":"Prometheus Metrics","text":"<p>Available at <code>/metrics</code>:</p> <pre><code>http_requests_total{method=\"GET\",status=\"200\"} 1500\nhttp_request_duration_seconds{method=\"GET\"} 0.05\ndatabase_queries_total{collection=\"users\"} 500\n</code></pre>"},{"location":"deployment/monitoring/#custom-metrics","title":"Custom Metrics","text":"<pre><code>const promClient = require('prom-client');\n\nconst bookingCounter = new promClient.Counter({\n  name: 'bookings_total',\n  help: 'Total number of bookings'\n});\n\nbookingCounter.inc();\n</code></pre>"},{"location":"deployment/monitoring/#error-monitoring","title":"Error Monitoring","text":""},{"location":"deployment/monitoring/#error-tracking","title":"Error Tracking","text":"<ul> <li>Log all errors</li> <li>Track error frequency</li> <li>Monitor error trends</li> <li>Alert on critical errors</li> </ul>"},{"location":"deployment/monitoring/#error-dashboard","title":"Error Dashboard","text":"<p>Monitor: - Error rate - Error types - Affected endpoints - User impact</p>"},{"location":"deployment/monitoring/#performance-monitoring","title":"Performance Monitoring","text":""},{"location":"deployment/monitoring/#slow-query-detection","title":"Slow Query Detection","text":"<pre><code>// Automatically logs queries &gt; 1000ms\nqueryOptimizationMiddleware\n</code></pre>"},{"location":"deployment/monitoring/#request-monitoring","title":"Request Monitoring","text":"<ul> <li>Response times</li> <li>Request rates</li> <li>Error rates</li> <li>Throughput</li> </ul>"},{"location":"deployment/monitoring/#database-monitoring","title":"Database Monitoring","text":""},{"location":"deployment/monitoring/#connection-pool","title":"Connection Pool","text":"<pre><code>// Monitor connection pool\nmongoose.connection.on('connected', () =&gt; {\n  logger.info('MongoDB connected', {\n    poolSize: mongoose.connection.poolSize\n  });\n});\n</code></pre>"},{"location":"deployment/monitoring/#query-performance","title":"Query Performance","text":"<ul> <li>Slow query logging</li> <li>Query execution time</li> <li>Index usage</li> <li>Collection sizes</li> </ul>"},{"location":"deployment/monitoring/#alerting","title":"Alerting","text":""},{"location":"deployment/monitoring/#alert-conditions","title":"Alert Conditions","text":"<ul> <li>High error rate (&gt; 5%)</li> <li>Slow response times (&gt; 2s)</li> <li>Database connection issues</li> <li>High memory usage (&gt; 90%)</li> <li>Disk space low (&lt; 10%)</li> </ul>"},{"location":"deployment/monitoring/#alert-channels","title":"Alert Channels","text":"<ul> <li>Email</li> <li>SMS</li> <li>Slack</li> <li>PagerDuty</li> </ul>"},{"location":"deployment/monitoring/#dashboards","title":"Dashboards","text":""},{"location":"deployment/monitoring/#application-dashboard","title":"Application Dashboard","text":"<ul> <li>Request rate</li> <li>Error rate</li> <li>Response time</li> <li>Active users</li> </ul>"},{"location":"deployment/monitoring/#infrastructure-dashboard","title":"Infrastructure Dashboard","text":"<ul> <li>CPU usage</li> <li>Memory usage</li> <li>Disk usage</li> <li>Network traffic</li> </ul>"},{"location":"deployment/monitoring/#best-practices","title":"Best Practices","text":"<ol> <li>Monitor key metrics - Focus on important metrics</li> <li>Set appropriate alerts - Avoid alert fatigue</li> <li>Log structured data - Include context</li> <li>Track trends - Monitor over time</li> <li>Review regularly - Weekly reviews</li> </ol>"},{"location":"deployment/monitoring/#tools","title":"Tools","text":"<ul> <li>Winston - Logging</li> <li>Prometheus - Metrics</li> <li>Grafana - Dashboards</li> <li>Sentry - Error tracking</li> <li>New Relic - APM</li> </ul>"},{"location":"deployment/monitoring/#next-steps","title":"Next Steps","text":"<ul> <li>Review Production Deployment</li> <li>Check Backup Strategy</li> <li>Read Troubleshooting Guide</li> </ul>"},{"location":"deployment/production/","title":"Production Deployment","text":""},{"location":"deployment/production/#overview","title":"Overview","text":"<p>This guide covers deploying LocalPro Super App to production environments.</p>"},{"location":"deployment/production/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+ installed</li> <li>MongoDB database (local or Atlas)</li> <li>Environment variables configured</li> <li>Domain name and SSL certificate</li> <li>Server/hosting provider account</li> </ul>"},{"location":"deployment/production/#environment-setup","title":"Environment Setup","text":""},{"location":"deployment/production/#required-environment-variables","title":"Required Environment Variables","text":"<pre><code># Server\nNODE_ENV=production\nPORT=5000\n\n# Database\nMONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/localpro\n\n# JWT\nJWT_SECRET=&lt;strong-random-secret&gt;\n\n# External Services\nTWILIO_ACCOUNT_SID=your-sid\nTWILIO_AUTH_TOKEN=your-token\nCLOUDINARY_CLOUD_NAME=your-cloud-name\nCLOUDINARY_API_KEY=your-key\nCLOUDINARY_API_SECRET=your-secret\nPAYPAL_CLIENT_ID=your-client-id\nPAYPAL_CLIENT_SECRET=your-secret\nPAYPAL_MODE=live\n\n# CORS\nFRONTEND_URL=https://app.localpro.com\nADMIN_URL=https://admin.localpro.com\n</code></pre>"},{"location":"deployment/production/#deployment-options","title":"Deployment Options","text":""},{"location":"deployment/production/#option-1-traditional-server-vps","title":"Option 1: Traditional Server (VPS)","text":""},{"location":"deployment/production/#1-server-setup","title":"1. Server Setup","text":"<pre><code># Update system\nsudo apt update &amp;&amp; sudo apt upgrade -y\n\n# Install Node.js\ncurl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -\nsudo apt install -y nodejs\n\n# Install MongoDB (if local)\n# Or use MongoDB Atlas\n</code></pre>"},{"location":"deployment/production/#2-application-setup","title":"2. Application Setup","text":"<pre><code># Clone repository\ngit clone &lt;repository-url&gt;\ncd localpro-super-app\n\n# Install dependencies\nnpm install --production\n\n# Configure environment\ncp env.example .env\n# Edit .env with production values\n</code></pre>"},{"location":"deployment/production/#3-process-manager-pm2","title":"3. Process Manager (PM2)","text":"<pre><code># Install PM2\nnpm install -g pm2\n\n# Start application\npm2 start src/server.js --name localpro-api\n\n# Save PM2 configuration\npm2 save\npm2 startup\n</code></pre>"},{"location":"deployment/production/#4-nginx-reverse-proxy","title":"4. Nginx Reverse Proxy","text":"<pre><code>server {\n    listen 80;\n    server_name api.localpro.com;\n\n    location / {\n        proxy_pass http://localhost:5000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n</code></pre>"},{"location":"deployment/production/#5-ssl-certificate-lets-encrypt","title":"5. SSL Certificate (Let's Encrypt)","text":"<pre><code>sudo apt install certbot python3-certbot-nginx\nsudo certbot --nginx -d api.localpro.com\n</code></pre>"},{"location":"deployment/production/#option-2-cloud-platforms","title":"Option 2: Cloud Platforms","text":""},{"location":"deployment/production/#render","title":"Render","text":"<ol> <li>Connect GitHub repository</li> <li>Configure build command: <code>npm install</code></li> <li>Configure start command: <code>npm start</code></li> <li>Add environment variables</li> <li>Deploy</li> </ol>"},{"location":"deployment/production/#heroku","title":"Heroku","text":"<pre><code># Install Heroku CLI\nheroku login\n\n# Create app\nheroku create localpro-api\n\n# Set environment variables\nheroku config:set NODE_ENV=production\nheroku config:set MONGODB_URI=...\n\n# Deploy\ngit push heroku main\n</code></pre>"},{"location":"deployment/production/#railway","title":"Railway","text":"<ol> <li>Connect GitHub repository</li> <li>Configure environment variables</li> <li>Deploy automatically on push</li> </ol>"},{"location":"deployment/production/#database-setup","title":"Database Setup","text":""},{"location":"deployment/production/#mongodb-atlas","title":"MongoDB Atlas","text":"<ol> <li>Create cluster</li> <li>Configure network access (IP whitelist)</li> <li>Create database user</li> <li>Get connection string</li> <li>Update <code>MONGODB_URI</code></li> </ol>"},{"location":"deployment/production/#local-mongodb","title":"Local MongoDB","text":"<pre><code># Install MongoDB\n# Configure for production\n# Enable authentication\n# Set up replication (recommended)\n</code></pre>"},{"location":"deployment/production/#security-checklist","title":"Security Checklist","text":"<ul> <li> HTTPS enabled</li> <li> Strong JWT secret</li> <li> Database authentication enabled</li> <li> CORS configured correctly</li> <li> Rate limiting enabled</li> <li> Security headers configured</li> <li> Environment variables secured</li> <li> Regular backups configured</li> <li> Monitoring set up</li> <li> Error tracking configured</li> </ul>"},{"location":"deployment/production/#monitoring","title":"Monitoring","text":""},{"location":"deployment/production/#application-monitoring","title":"Application Monitoring","text":"<pre><code># PM2 monitoring\npm2 monit\n\n# Logs\npm2 logs localpro-api\n</code></pre>"},{"location":"deployment/production/#health-checks","title":"Health Checks","text":"<pre><code># Health check endpoint\ncurl https://api.localpro.com/health\n</code></pre>"},{"location":"deployment/production/#backup-strategy","title":"Backup Strategy","text":""},{"location":"deployment/production/#database-backups","title":"Database Backups","text":"<pre><code># Automated backup script\nmongodump --uri=\"$MONGODB_URI\" --out=/backups/$(date +%Y%m%d)\n</code></pre>"},{"location":"deployment/production/#application-backups","title":"Application Backups","text":"<ul> <li>Code: Git repository</li> <li>Files: Cloudinary (automatic)</li> <li>Configuration: Environment variables</li> </ul>"},{"location":"deployment/production/#scaling","title":"Scaling","text":""},{"location":"deployment/production/#horizontal-scaling","title":"Horizontal Scaling","text":"<ol> <li>Run multiple instances</li> <li>Use load balancer</li> <li>Share session state (if needed)</li> <li>Database connection pooling</li> </ol>"},{"location":"deployment/production/#vertical-scaling","title":"Vertical Scaling","text":"<ol> <li>Increase server resources</li> <li>Optimize database queries</li> <li>Add caching layer (Redis)</li> <li>CDN for static assets</li> </ol>"},{"location":"deployment/production/#maintenance","title":"Maintenance","text":""},{"location":"deployment/production/#updates","title":"Updates","text":"<pre><code># Pull latest changes\ngit pull origin main\n\n# Install dependencies\nnpm install --production\n\n# Restart application\npm2 restart localpro-api\n</code></pre>"},{"location":"deployment/production/#log-rotation","title":"Log Rotation","text":"<pre><code># PM2 log rotation\npm2 install pm2-logrotate\npm2 set pm2-logrotate:max_size 10M\npm2 set pm2-logrotate:retain 7\n</code></pre>"},{"location":"deployment/production/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/production/#check-logs","title":"Check Logs","text":"<pre><code># Application logs\npm2 logs localpro-api\n\n# System logs\njournalctl -u localpro-api\n</code></pre>"},{"location":"deployment/production/#common-issues","title":"Common Issues","text":"<ul> <li>See Troubleshooting Guide</li> </ul>"},{"location":"deployment/production/#next-steps","title":"Next Steps","text":"<ul> <li>Review Docker Deployment</li> <li>Check Monitoring Setup</li> <li>Read Backup Strategy</li> </ul>"},{"location":"development/coding-standards/","title":"Coding Standards","text":""},{"location":"development/coding-standards/#overview","title":"Overview","text":"<p>This document outlines the coding standards and best practices for the LocalPro Super App codebase.</p>"},{"location":"development/coding-standards/#general-principles","title":"General Principles","text":"<ol> <li>Consistency - Follow established patterns</li> <li>Readability - Code should be self-documenting</li> <li>Maintainability - Write code that's easy to modify</li> <li>Performance - Optimize for performance when needed</li> <li>Security - Always consider security implications</li> </ol>"},{"location":"development/coding-standards/#code-style","title":"Code Style","text":""},{"location":"development/coding-standards/#javascriptnodejs","title":"JavaScript/Node.js","text":"<ul> <li>Use ES6+ features</li> <li>Use async/await instead of callbacks</li> <li>Use const and let, avoid var</li> <li>Use arrow functions for callbacks</li> <li>Use template literals for strings</li> </ul>"},{"location":"development/coding-standards/#naming-conventions","title":"Naming Conventions","text":"<pre><code>// Variables and functions: camelCase\nconst userName = 'John';\nfunction getUserById(id) { }\n\n// Constants: UPPER_SNAKE_CASE\nconst MAX_RETRY_ATTEMPTS = 3;\nconst API_BASE_URL = 'https://api.localpro.com';\n\n// Classes: PascalCase\nclass UserController { }\n\n// Files: camelCase\nuserController.js\nmarketplaceService.js\n</code></pre>"},{"location":"development/coding-standards/#file-structure","title":"File Structure","text":"<pre><code>// 1. Imports (external first, then internal)\nconst express = require('express');\nconst User = require('../models/User');\n\n// 2. Constants\nconst MAX_LIMIT = 100;\n\n// 3. Functions/Classes\nconst getUser = async (id) =&gt; { };\n\n// 4. Exports\nmodule.exports = { getUser };\n</code></pre>"},{"location":"development/coding-standards/#error-handling","title":"Error Handling","text":""},{"location":"development/coding-standards/#always-handle-errors","title":"Always Handle Errors","text":"<pre><code>// Good\ntry {\n  const user = await User.findById(id);\n  if (!user) {\n    throw new Error('User not found');\n  }\n  return user;\n} catch (error) {\n  logger.error('Error fetching user:', error);\n  throw error;\n}\n\n// Bad\nconst user = await User.findById(id);\nreturn user;\n</code></pre>"},{"location":"development/coding-standards/#use-custom-error-classes","title":"Use Custom Error Classes","text":"<pre><code>class ValidationError extends Error {\n  constructor(message, details) {\n    super(message);\n    this.name = 'ValidationError';\n    this.details = details;\n  }\n}\n</code></pre>"},{"location":"development/coding-standards/#database-queries","title":"Database Queries","text":""},{"location":"development/coding-standards/#use-indexes","title":"Use Indexes","text":"<pre><code>// Good: Uses index\nUser.find({ phoneNumber: phoneNumber });\n\n// Bad: Full collection scan\nUser.find({ 'profile.firstName': firstName });\n</code></pre>"},{"location":"development/coding-standards/#use-projections","title":"Use Projections","text":"<pre><code>// Good: Only select needed fields\nUser.find({}).select('firstName lastName email');\n\n// Bad: Select all fields\nUser.find({});\n</code></pre>"},{"location":"development/coding-standards/#use-pagination","title":"Use Pagination","text":"<pre><code>// Good: Always paginate\nconst users = await User.find({})\n  .limit(limit)\n  .skip((page - 1) * limit);\n\n// Bad: No pagination\nconst users = await User.find({});\n</code></pre>"},{"location":"development/coding-standards/#api-responses","title":"API Responses","text":""},{"location":"development/coding-standards/#standardized-responses","title":"Standardized Responses","text":"<pre><code>// Success\nres.status(200).json({\n  success: true,\n  data: result,\n  message: 'Operation successful'\n});\n\n// Error\nres.status(400).json({\n  success: false,\n  message: 'Validation failed',\n  error: 'Invalid input',\n  code: 'VALIDATION_ERROR'\n});\n</code></pre>"},{"location":"development/coding-standards/#security","title":"Security","text":""},{"location":"development/coding-standards/#input-validation","title":"Input Validation","text":"<pre><code>// Always validate input\nconst { error, value } = schema.validate(req.body);\nif (error) {\n  return res.status(400).json({\n    success: false,\n    message: 'Validation failed',\n    details: error.details\n  });\n}\n</code></pre>"},{"location":"development/coding-standards/#sanitize-user-input","title":"Sanitize User Input","text":"<pre><code>const DOMPurify = require('isomorphic-dompurify');\nconst sanitized = DOMPurify.sanitize(userInput);\n</code></pre>"},{"location":"development/coding-standards/#never-expose-sensitive-data","title":"Never Expose Sensitive Data","text":"<pre><code>// Good: Exclude password\nUser.findById(id).select('-password');\n\n// Bad: Include password\nUser.findById(id);\n</code></pre>"},{"location":"development/coding-standards/#testing","title":"Testing","text":""},{"location":"development/coding-standards/#write-tests","title":"Write Tests","text":"<pre><code>describe('User Controller', () =&gt; {\n  it('should get user by id', async () =&gt; {\n    const user = await getUserById('123');\n    expect(user).toBeDefined();\n    expect(user._id).toBe('123');\n  });\n});\n</code></pre>"},{"location":"development/coding-standards/#test-coverage","title":"Test Coverage","text":"<ul> <li>Aim for 80%+ coverage</li> <li>Test happy paths</li> <li>Test error cases</li> <li>Test edge cases</li> </ul>"},{"location":"development/coding-standards/#documentation","title":"Documentation","text":""},{"location":"development/coding-standards/#code-comments","title":"Code Comments","text":"<pre><code>/**\n * Get user by ID\n * @param {string} id - User ID\n * @returns {Promise&lt;User&gt;} User object\n * @throws {Error} If user not found\n */\nconst getUserById = async (id) =&gt; {\n  // Implementation\n};\n</code></pre>"},{"location":"development/coding-standards/#api-documentation","title":"API Documentation","text":"<p>Use JSDoc for API endpoints:</p> <pre><code>/**\n * @route   GET /api/users/:id\n * @desc    Get user by ID\n * @access  Private\n * @param   {string} id - User ID\n * @returns {User} User object\n */\nrouter.get('/:id', getUserById);\n</code></pre>"},{"location":"development/coding-standards/#git-commit-messages","title":"Git Commit Messages","text":""},{"location":"development/coding-standards/#format","title":"Format","text":"<pre><code>type(scope): subject\n\nbody\n\nfooter\n</code></pre>"},{"location":"development/coding-standards/#types","title":"Types","text":"<ul> <li><code>feat</code>: New feature</li> <li><code>fix</code>: Bug fix</li> <li><code>docs</code>: Documentation</li> <li><code>style</code>: Code style</li> <li><code>refactor</code>: Code refactoring</li> <li><code>test</code>: Tests</li> <li><code>chore</code>: Maintenance</li> </ul>"},{"location":"development/coding-standards/#examples","title":"Examples","text":"<pre><code>feat(marketplace): add service search functionality\n\nfix(auth): handle token expiration properly\n\ndocs(api): update authentication documentation\n</code></pre>"},{"location":"development/coding-standards/#code-review-checklist","title":"Code Review Checklist","text":"<ul> <li> Code follows style guide</li> <li> Tests written and passing</li> <li> Error handling implemented</li> <li> Security considerations addressed</li> <li> Documentation updated</li> <li> No console.logs in production code</li> <li> Environment variables used correctly</li> </ul>"},{"location":"development/coding-standards/#tools","title":"Tools","text":""},{"location":"development/coding-standards/#linting","title":"Linting","text":"<pre><code>npm run lint\nnpm run lint:fix\n</code></pre>"},{"location":"development/coding-standards/#formatting","title":"Formatting","text":"<p>Use Prettier or follow ESLint rules.</p>"},{"location":"development/coding-standards/#next-steps","title":"Next Steps","text":"<ul> <li>Review Testing Guide</li> <li>Check Contributing Guidelines</li> <li>Read Debugging Guide</li> </ul>"},{"location":"development/contributing/","title":"Contributing Guidelines","text":""},{"location":"development/contributing/#overview","title":"Overview","text":"<p>Thank you for contributing to LocalPro Super App! This guide will help you get started.</p>"},{"location":"development/contributing/#getting-started","title":"Getting Started","text":""},{"location":"development/contributing/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork the repository on GitHub\ngit clone https://github.com/your-username/localpro-super-app.git\ncd localpro-super-app\n</code></pre>"},{"location":"development/contributing/#2-create-branch","title":"2. Create Branch","text":"<pre><code>git checkout -b feature/your-feature-name\n# or\ngit checkout -b fix/your-bug-fix\n</code></pre>"},{"location":"development/contributing/#3-make-changes","title":"3. Make Changes","text":"<ul> <li>Follow Coding Standards</li> <li>Write tests for new features</li> <li>Update documentation</li> </ul>"},{"location":"development/contributing/#4-test-changes","title":"4. Test Changes","text":"<pre><code>npm test\nnpm run lint\n</code></pre>"},{"location":"development/contributing/#5-commit-changes","title":"5. Commit Changes","text":"<pre><code>git add .\ngit commit -m \"feat: add new feature\"\n</code></pre> <p>Follow commit message format.</p>"},{"location":"development/contributing/#6-push-and-create-pr","title":"6. Push and Create PR","text":"<pre><code>git push origin feature/your-feature-name\n</code></pre> <p>Create a pull request on GitHub.</p>"},{"location":"development/contributing/#pull-request-process","title":"Pull Request Process","text":""},{"location":"development/contributing/#before-submitting","title":"Before Submitting","text":"<ul> <li> Code follows style guide</li> <li> Tests written and passing</li> <li> Documentation updated</li> <li> No breaking changes (or documented)</li> <li> Linting passes</li> </ul>"},{"location":"development/contributing/#pr-description","title":"PR Description","text":"<p>Include: - What: What changes were made - Why: Why these changes were needed - How: How the changes work - Testing: How to test the changes</p>"},{"location":"development/contributing/#review-process","title":"Review Process","text":"<ol> <li>Automated checks run</li> <li>Code review by maintainers</li> <li>Address feedback</li> <li>Merge when approved</li> </ol>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<p>Follow the Coding Standards.</p>"},{"location":"development/contributing/#testing","title":"Testing","text":"<ul> <li>Write tests for new features</li> <li>Ensure all tests pass</li> <li>Maintain or improve test coverage</li> </ul>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<ul> <li>Update relevant documentation</li> <li>Add JSDoc comments for new functions</li> <li>Update API documentation if needed</li> </ul>"},{"location":"development/contributing/#feature-requests","title":"Feature Requests","text":""},{"location":"development/contributing/#before-requesting","title":"Before Requesting","text":"<ol> <li>Check if feature already exists</li> <li>Check open issues</li> <li>Consider if it fits the project scope</li> </ol>"},{"location":"development/contributing/#submitting-request","title":"Submitting Request","text":"<p>Create an issue with: - Description: What the feature should do - Use Case: Why it's needed - Proposed Solution: How it could work</p>"},{"location":"development/contributing/#bug-reports","title":"Bug Reports","text":""},{"location":"development/contributing/#before-reporting","title":"Before Reporting","text":"<ol> <li>Check if bug already reported</li> <li>Try to reproduce</li> <li>Check recent changes</li> </ol>"},{"location":"development/contributing/#submitting-report","title":"Submitting Report","text":"<p>Include: - Description: What happened - Steps to Reproduce: How to reproduce - Expected Behavior: What should happen - Actual Behavior: What actually happened - Environment: Node version, OS, etc. - Screenshots: If applicable</p>"},{"location":"development/contributing/#questions","title":"Questions?","text":"<ul> <li>Check Documentation</li> <li>Open an issue for discussion</li> <li>Contact maintainers</li> </ul>"},{"location":"development/contributing/#code-of-conduct","title":"Code of Conduct","text":"<ul> <li>Be respectful</li> <li>Be constructive</li> <li>Be patient</li> <li>Help others</li> </ul>"},{"location":"development/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the same license as the project.</p>"},{"location":"development/contributing/#next-steps","title":"Next Steps","text":"<ul> <li>Read Coding Standards</li> <li>Review Testing Guide</li> <li>Check Development Setup</li> </ul>"},{"location":"development/debugging/","title":"Debugging Guide","text":""},{"location":"development/debugging/#overview","title":"Overview","text":"<p>This guide covers debugging techniques and tools for the LocalPro Super App.</p>"},{"location":"development/debugging/#debugging-tools","title":"Debugging Tools","text":""},{"location":"development/debugging/#vs-code-debugger","title":"VS Code Debugger","text":"<p>Create <code>.vscode/launch.json</code>:</p> <pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Debug Server\",\n      \"program\": \"${workspaceFolder}/src/server.js\",\n      \"env\": {\n        \"NODE_ENV\": \"development\"\n      },\n      \"console\": \"integratedTerminal\"\n    }\n  ]\n}\n</code></pre>"},{"location":"development/debugging/#node-inspector","title":"Node Inspector","text":"<pre><code>node --inspect src/server.js\n</code></pre> <p>Then open Chrome DevTools at <code>chrome://inspect</code>.</p>"},{"location":"development/debugging/#logging","title":"Logging","text":""},{"location":"development/debugging/#winston-logger","title":"Winston Logger","text":"<pre><code>const logger = require('./config/logger');\n\n// Info\nlogger.info('User created', { userId: '123' });\n\n// Error\nlogger.error('Error creating user', { error, userId: '123' });\n\n// Debug\nlogger.debug('Processing request', { path: req.path });\n</code></pre>"},{"location":"development/debugging/#log-levels","title":"Log Levels","text":"<ul> <li><code>error</code> - Errors only</li> <li><code>warn</code> - Warnings and errors</li> <li><code>info</code> - Info, warnings, errors</li> <li><code>debug</code> - All logs</li> </ul>"},{"location":"development/debugging/#view-logs","title":"View Logs","text":"<pre><code># Application logs\ntail -f logs/combined.log\n\n# Error logs\ntail -f logs/error.log\n\n# HTTP logs\ntail -f logs/http.log\n</code></pre>"},{"location":"development/debugging/#common-issues","title":"Common Issues","text":""},{"location":"development/debugging/#database-connection","title":"Database Connection","text":"<pre><code>// Check connection\nconst mongoose = require('mongoose');\nconsole.log('MongoDB state:', mongoose.connection.readyState);\n// 0 = disconnected\n// 1 = connected\n// 2 = connecting\n// 3 = disconnecting\n</code></pre>"},{"location":"development/debugging/#authentication-issues","title":"Authentication Issues","text":"<pre><code>// Verify token\nconst jwt = require('jsonwebtoken');\ntry {\n  const decoded = jwt.verify(token, process.env.JWT_SECRET);\n  console.log('Token valid:', decoded);\n} catch (error) {\n  console.error('Token invalid:', error.message);\n}\n</code></pre>"},{"location":"development/debugging/#api-errors","title":"API Errors","text":"<pre><code>// Add error logging middleware\napp.use((err, req, res, next) =&gt; {\n  logger.error('API Error', {\n    error: err.message,\n    stack: err.stack,\n    path: req.path,\n    method: req.method\n  });\n  next(err);\n});\n</code></pre>"},{"location":"development/debugging/#debugging-techniques","title":"Debugging Techniques","text":""},{"location":"development/debugging/#1-console-logging","title":"1. Console Logging","text":"<pre><code>// Strategic logging\nconsole.log('Before query:', { userId });\nconst user = await User.findById(userId);\nconsole.log('After query:', { user });\n</code></pre>"},{"location":"development/debugging/#2-breakpoints","title":"2. Breakpoints","text":"<p>Set breakpoints in VS Code to pause execution.</p>"},{"location":"development/debugging/#3-step-through-code","title":"3. Step Through Code","text":"<p>Use debugger to step through code line by line.</p>"},{"location":"development/debugging/#4-inspect-variables","title":"4. Inspect Variables","text":"<p>Check variable values at runtime.</p>"},{"location":"development/debugging/#performance-debugging","title":"Performance Debugging","text":""},{"location":"development/debugging/#slow-queries","title":"Slow Queries","text":"<pre><code>// Enable query logging\nmongoose.set('debug', true);\n\n// Or use middleware\napp.use(queryOptimizationMiddleware);\n</code></pre>"},{"location":"development/debugging/#memory-leaks","title":"Memory Leaks","text":"<pre><code># Check memory usage\nnode --inspect --expose-gc src/server.js\n</code></pre>"},{"location":"development/debugging/#profiling","title":"Profiling","text":"<pre><code># CPU profiling\nnode --prof src/server.js\nnode --prof-process isolate-*.log\n</code></pre>"},{"location":"development/debugging/#network-debugging","title":"Network Debugging","text":""},{"location":"development/debugging/#api-requests","title":"API Requests","text":"<pre><code>// Log all requests\napp.use((req, res, next) =&gt; {\n  console.log(`${req.method} ${req.path}`, {\n    headers: req.headers,\n    body: req.body\n  });\n  next();\n});\n</code></pre>"},{"location":"development/debugging/#external-api-calls","title":"External API Calls","text":"<pre><code>// Log external API calls\naxios.interceptors.request.use(request =&gt; {\n  console.log('Outgoing request:', request.url);\n  return request;\n});\n</code></pre>"},{"location":"development/debugging/#database-debugging","title":"Database Debugging","text":""},{"location":"development/debugging/#query-logging","title":"Query Logging","text":"<pre><code>// Log all queries\nmongoose.set('debug', (collectionName, method, query, doc) =&gt; {\n  console.log(`${collectionName}.${method}`, query);\n});\n</code></pre>"},{"location":"development/debugging/#explain-queries","title":"Explain Queries","text":"<pre><code>// Explain query execution\nconst explain = await User.find({ phoneNumber }).explain();\nconsole.log('Query plan:', explain);\n</code></pre>"},{"location":"development/debugging/#error-tracking","title":"Error Tracking","text":""},{"location":"development/debugging/#error-monitoring","title":"Error Monitoring","text":"<p>Check error monitoring dashboard: - Error frequency - Error types - Stack traces - User impact</p>"},{"location":"development/debugging/#error-context","title":"Error Context","text":"<pre><code>try {\n  // Code\n} catch (error) {\n  logger.error('Error with context', {\n    error: error.message,\n    stack: error.stack,\n    userId: req.user?.id,\n    path: req.path,\n    body: req.body\n  });\n}\n</code></pre>"},{"location":"development/debugging/#testing-debugging","title":"Testing Debugging","text":""},{"location":"development/debugging/#debug-tests","title":"Debug Tests","text":"<pre><code># Run specific test with debugging\nnode --inspect-brk node_modules/.bin/jest --runInBand userController.test.js\n</code></pre>"},{"location":"development/debugging/#test-logs","title":"Test Logs","text":"<pre><code>// Enable verbose logging in tests\nprocess.env.DEBUG = '*';\n</code></pre>"},{"location":"development/debugging/#production-debugging","title":"Production Debugging","text":""},{"location":"development/debugging/#remote-debugging","title":"Remote Debugging","text":"<pre><code># Enable remote debugging\nnode --inspect=0.0.0.0:9229 src/server.js\n</code></pre>"},{"location":"development/debugging/#log-analysis","title":"Log Analysis","text":"<pre><code># Search logs\ngrep \"ERROR\" logs/combined.log\n\n# Count errors\ngrep -c \"ERROR\" logs/error.log\n\n# Recent errors\ntail -n 100 logs/error.log\n</code></pre>"},{"location":"development/debugging/#best-practices","title":"Best Practices","text":"<ol> <li>Use structured logging - Include context</li> <li>Log at appropriate levels - Don't log everything</li> <li>Remove debug logs - Before production</li> <li>Use error tracking - For production errors</li> <li>Document issues - For future reference</li> </ol>"},{"location":"development/debugging/#tools","title":"Tools","text":"<ul> <li>VS Code Debugger - Step-through debugging</li> <li>Chrome DevTools - Node.js debugging</li> <li>Winston - Logging</li> <li>MongoDB Compass - Database inspection</li> <li>Postman - API testing</li> </ul>"},{"location":"development/debugging/#next-steps","title":"Next Steps","text":"<ul> <li>Review Troubleshooting Guide</li> <li>Check Error Handling</li> <li>Read Monitoring Guide</li> </ul>"},{"location":"development/setup/","title":"Development Setup","text":""},{"location":"development/setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js: 18.x or higher</li> <li>MongoDB: 6.0+ (local or Atlas)</li> <li>Git: Latest version</li> <li>npm or pnpm: Package manager</li> </ul>"},{"location":"development/setup/#installation","title":"Installation","text":""},{"location":"development/setup/#1-clone-repository","title":"1. Clone Repository","text":"<pre><code>git clone &lt;repository-url&gt;\ncd localpro-super-app\n</code></pre>"},{"location":"development/setup/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code>npm install\n# or\npnpm install\n</code></pre>"},{"location":"development/setup/#3-environment-setup","title":"3. Environment Setup","text":"<p>Copy <code>.env.example</code> to <code>.env</code>:</p> <pre><code>cp env.example .env\n</code></pre> <p>Configure environment variables:</p> <pre><code># Database\nMONGODB_URI=mongodb://localhost:27017/localpro-super-app\n\n# JWT\nJWT_SECRET=your-secret-key\n\n# Server\nPORT=5000\nNODE_ENV=development\n\n# External Services\nTWILIO_ACCOUNT_SID=your-twilio-sid\nTWILIO_AUTH_TOKEN=your-twilio-token\nCLOUDINARY_CLOUD_NAME=your-cloud-name\nCLOUDINARY_API_KEY=your-api-key\nCLOUDINARY_API_SECRET=your-api-secret\n</code></pre>"},{"location":"development/setup/#4-start-mongodb","title":"4. Start MongoDB","text":"<p>Local MongoDB: <pre><code>mongod\n</code></pre></p> <p>MongoDB Atlas: Use connection string in <code>MONGODB_URI</code></p>"},{"location":"development/setup/#5-run-application","title":"5. Run Application","text":"<p>Development: <pre><code>npm run dev\n</code></pre></p> <p>Production: <pre><code>npm start\n</code></pre></p>"},{"location":"development/setup/#project-structure","title":"Project Structure","text":"<pre><code>localpro-super-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 config/          # Configuration\n\u2502   \u251c\u2500\u2500 controllers/     # Business logic\n\u2502   \u251c\u2500\u2500 middleware/      # Express middleware\n\u2502   \u251c\u2500\u2500 models/          # Mongoose models\n\u2502   \u251c\u2500\u2500 routes/          # API routes\n\u2502   \u251c\u2500\u2500 services/        # External services\n\u2502   \u251c\u2500\u2500 utils/           # Utilities\n\u2502   \u2514\u2500\u2500 server.js        # Entry point\n\u251c\u2500\u2500 docs/                # Documentation\n\u251c\u2500\u2500 scripts/             # Utility scripts\n\u2514\u2500\u2500 tests/               # Test files\n</code></pre>"},{"location":"development/setup/#development-workflow","title":"Development Workflow","text":""},{"location":"development/setup/#1-create-feature-branch","title":"1. Create Feature Branch","text":"<pre><code>git checkout -b feature/your-feature-name\n</code></pre>"},{"location":"development/setup/#2-make-changes","title":"2. Make Changes","text":"<ul> <li>Follow coding standards</li> <li>Write tests</li> <li>Update documentation</li> </ul>"},{"location":"development/setup/#3-test-changes","title":"3. Test Changes","text":"<pre><code>npm test\nnpm run lint\n</code></pre>"},{"location":"development/setup/#4-commit-changes","title":"4. Commit Changes","text":"<pre><code>git add .\ngit commit -m \"feat: add new feature\"\n</code></pre>"},{"location":"development/setup/#5-push-and-create-pr","title":"5. Push and Create PR","text":"<pre><code>git push origin feature/your-feature-name\n</code></pre>"},{"location":"development/setup/#available-scripts","title":"Available Scripts","text":"<ul> <li><code>npm start</code> - Start production server</li> <li><code>npm run dev</code> - Start development server (nodemon)</li> <li><code>npm test</code> - Run tests</li> <li><code>npm run lint</code> - Lint code</li> <li><code>npm run lint:fix</code> - Fix linting issues</li> <li><code>npm run coverage</code> - Generate test coverage</li> </ul>"},{"location":"development/setup/#database-setup","title":"Database Setup","text":""},{"location":"development/setup/#seed-data","title":"Seed Data","text":"<pre><code>npm run seed:categories\nnpm run seed:job-categories\n</code></pre>"},{"location":"development/setup/#reset-database","title":"Reset Database","text":"<pre><code>npm run setup:reset\n</code></pre>"},{"location":"development/setup/#testing","title":"Testing","text":""},{"location":"development/setup/#run-tests","title":"Run Tests","text":"<pre><code>npm test\n</code></pre>"},{"location":"development/setup/#watch-mode","title":"Watch Mode","text":"<pre><code>npm run test:watch\n</code></pre>"},{"location":"development/setup/#coverage","title":"Coverage","text":"<pre><code>npm run coverage\n</code></pre>"},{"location":"development/setup/#debugging","title":"Debugging","text":""},{"location":"development/setup/#vs-code","title":"VS Code","text":"<p>Create <code>.vscode/launch.json</code>:</p> <pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Debug Server\",\n      \"program\": \"${workspaceFolder}/src/server.js\",\n      \"env\": {\n        \"NODE_ENV\": \"development\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"development/setup/#console-logging","title":"Console Logging","text":"<pre><code>const logger = require('./config/logger');\nlogger.info('Debug message', { data });\n</code></pre>"},{"location":"development/setup/#next-steps","title":"Next Steps","text":"<ul> <li>Read Coding Standards</li> <li>Review Testing Guide</li> <li>Check Contributing Guidelines</li> </ul>"},{"location":"development/testing/","title":"Testing Guide","text":""},{"location":"development/testing/#overview","title":"Overview","text":"<p>This guide covers testing practices and strategies for the LocalPro Super App.</p>"},{"location":"development/testing/#test-structure","title":"Test Structure","text":"<pre><code>src/__tests__/\n\u251c\u2500\u2500 unit/              # Unit tests\n\u251c\u2500\u2500 integration/       # Integration tests\n\u2514\u2500\u2500 setup.js          # Test setup\n</code></pre>"},{"location":"development/testing/#testing-framework","title":"Testing Framework","text":"<ul> <li>Framework: Jest</li> <li>Assertions: Jest assertions</li> <li>HTTP Testing: Supertest</li> <li>Mocks: Jest mocks</li> </ul>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":""},{"location":"development/testing/#all-tests","title":"All Tests","text":"<pre><code>npm test\n</code></pre>"},{"location":"development/testing/#watch-mode","title":"Watch Mode","text":"<pre><code>npm run test:watch\n</code></pre>"},{"location":"development/testing/#coverage","title":"Coverage","text":"<pre><code>npm run coverage\n</code></pre>"},{"location":"development/testing/#specific-tests","title":"Specific Tests","text":"<pre><code>npm test -- userController.test.js\n</code></pre>"},{"location":"development/testing/#unit-tests","title":"Unit Tests","text":""},{"location":"development/testing/#controller-tests","title":"Controller Tests","text":"<pre><code>const { getUserById } = require('../../controllers/userController');\nconst User = require('../../models/User');\n\njest.mock('../../models/User');\n\ndescribe('getUserById', () =&gt; {\n  it('should return user when found', async () =&gt; {\n    const mockUser = { _id: '123', name: 'John' };\n    User.findById.mockResolvedValue(mockUser);\n\n    const result = await getUserById('123');\n\n    expect(result).toEqual(mockUser);\n    expect(User.findById).toHaveBeenCalledWith('123');\n  });\n\n  it('should throw error when user not found', async () =&gt; {\n    User.findById.mockResolvedValue(null);\n\n    await expect(getUserById('123')).rejects.toThrow('User not found');\n  });\n});\n</code></pre>"},{"location":"development/testing/#service-tests","title":"Service Tests","text":"<pre><code>const paymentService = require('../../services/paymentService');\n\ndescribe('Payment Service', () =&gt; {\n  it('should process payment successfully', async () =&gt; {\n    const result = await paymentService.processPayment({\n      amount: 100,\n      method: 'paypal'\n    });\n\n    expect(result.success).toBe(true);\n    expect(result.transactionId).toBeDefined();\n  });\n});\n</code></pre>"},{"location":"development/testing/#integration-tests","title":"Integration Tests","text":""},{"location":"development/testing/#api-endpoint-tests","title":"API Endpoint Tests","text":"<pre><code>const request = require('supertest');\nconst app = require('../../src/server');\n\ndescribe('GET /api/users/:id', () =&gt; {\n  it('should return user when authenticated', async () =&gt; {\n    const token = 'valid-jwt-token';\n\n    const response = await request(app)\n      .get('/api/users/123')\n      .set('Authorization', `Bearer ${token}`)\n      .expect(200);\n\n    expect(response.body.success).toBe(true);\n    expect(response.body.data).toBeDefined();\n  });\n\n  it('should return 401 when not authenticated', async () =&gt; {\n    await request(app)\n      .get('/api/users/123')\n      .expect(401);\n  });\n});\n</code></pre>"},{"location":"development/testing/#database-tests","title":"Database Tests","text":"<pre><code>const mongoose = require('mongoose');\nconst User = require('../../models/User');\n\ndescribe('User Model', () =&gt; {\n  beforeAll(async () =&gt; {\n    await mongoose.connect(process.env.MONGODB_URI);\n  });\n\n  afterAll(async () =&gt; {\n    await mongoose.connection.close();\n  });\n\n  it('should create user successfully', async () =&gt; {\n    const user = await User.create({\n      phoneNumber: '+1234567890',\n      roles: ['client']\n    });\n\n    expect(user._id).toBeDefined();\n    expect(user.phoneNumber).toBe('+1234567890');\n  });\n});\n</code></pre>"},{"location":"development/testing/#test-setup","title":"Test Setup","text":""},{"location":"development/testing/#setup-file","title":"Setup File","text":"<pre><code>// src/__tests__/setup.js\nconst mongoose = require('mongoose');\n\nbeforeAll(async () =&gt; {\n  // Connect to test database\n  await mongoose.connect(process.env.MONGODB_TEST_URI);\n});\n\nafterAll(async () =&gt; {\n  // Clean up\n  await mongoose.connection.close();\n});\n\nafterEach(async () =&gt; {\n  // Clean database after each test\n  await mongoose.connection.db.dropDatabase();\n});\n</code></pre>"},{"location":"development/testing/#mocking","title":"Mocking","text":""},{"location":"development/testing/#external-services","title":"External Services","text":"<pre><code>jest.mock('../../services/twilioService', () =&gt; ({\n  sendSMS: jest.fn().mockResolvedValue({ success: true })\n}));\n</code></pre>"},{"location":"development/testing/#database-models","title":"Database Models","text":"<pre><code>jest.mock('../../models/User', () =&gt; ({\n  findById: jest.fn(),\n  create: jest.fn(),\n  findOne: jest.fn()\n}));\n</code></pre>"},{"location":"development/testing/#test-coverage","title":"Test Coverage","text":""},{"location":"development/testing/#coverage-goals","title":"Coverage Goals","text":"<ul> <li>Statements: 80%+</li> <li>Branches: 75%+</li> <li>Functions: 80%+</li> <li>Lines: 80%+</li> </ul>"},{"location":"development/testing/#view-coverage","title":"View Coverage","text":"<pre><code>npm run coverage\n# Open coverage/lcov-report/index.html\n</code></pre>"},{"location":"development/testing/#best-practices","title":"Best Practices","text":""},{"location":"development/testing/#1-test-isolation","title":"1. Test Isolation","text":"<p>Each test should be independent:</p> <pre><code>// Good: Clean state\nbeforeEach(() =&gt; {\n  jest.clearAllMocks();\n});\n\n// Bad: Tests depend on each other\n</code></pre>"},{"location":"development/testing/#2-descriptive-test-names","title":"2. Descriptive Test Names","text":"<pre><code>// Good\nit('should return 404 when user does not exist', async () =&gt; { });\n\n// Bad\nit('should work', async () =&gt; { });\n</code></pre>"},{"location":"development/testing/#3-test-one-thing","title":"3. Test One Thing","text":"<pre><code>// Good: One assertion per test\nit('should return user with correct id', async () =&gt; {\n  const user = await getUserById('123');\n  expect(user._id).toBe('123');\n});\n\n// Bad: Multiple unrelated assertions\nit('should get user and update profile', async () =&gt; {\n  // Too many things\n});\n</code></pre>"},{"location":"development/testing/#4-use-test-data","title":"4. Use Test Data","text":"<pre><code>const testUser = {\n  phoneNumber: '+1234567890',\n  roles: ['client']\n};\n</code></pre>"},{"location":"development/testing/#common-test-patterns","title":"Common Test Patterns","text":""},{"location":"development/testing/#testing-async-functions","title":"Testing Async Functions","text":"<pre><code>it('should handle async operations', async () =&gt; {\n  const result = await asyncFunction();\n  expect(result).toBeDefined();\n});\n</code></pre>"},{"location":"development/testing/#testing-error-cases","title":"Testing Error Cases","text":"<pre><code>it('should throw error on invalid input', async () =&gt; {\n  await expect(functionWithError()).rejects.toThrow('Error message');\n});\n</code></pre>"},{"location":"development/testing/#testing-http-requests","title":"Testing HTTP Requests","text":"<pre><code>it('should return 200 on success', async () =&gt; {\n  const response = await request(app)\n    .get('/api/endpoint')\n    .expect(200);\n\n  expect(response.body.success).toBe(true);\n});\n</code></pre>"},{"location":"development/testing/#continuous-integration","title":"Continuous Integration","text":"<p>Tests run automatically on: - Pull requests - Commits to main branch - Scheduled runs</p>"},{"location":"development/testing/#next-steps","title":"Next Steps","text":"<ul> <li>Review Coding Standards</li> <li>Check Contributing Guidelines</li> <li>Read Debugging Guide</li> </ul>"},{"location":"features/","title":"Features Documentation","text":"<p>This section documents all features and modules in the LocalPro Super App.</p>"},{"location":"features/#available-features","title":"Available Features","text":""},{"location":"features/#core-features","title":"Core Features","text":"<ul> <li>Marketplace - Service marketplace and listings</li> <li>Bookings - Service booking system</li> <li>Payments - Payment processing and wallet</li> <li>Academy - Online learning platform</li> <li>Supplies - E-commerce for supplies</li> <li>Rentals - Equipment rental system</li> <li>Jobs - Job board platform</li> </ul>"},{"location":"features/#additional-features","title":"Additional Features","text":"<ul> <li>Notifications - Push and in-app notifications</li> <li>Referrals - Referral program</li> <li>Escrow - Payment escrow system</li> <li>Analytics - Analytics and reporting</li> <li>Agencies - Multi-provider organizations</li> <li>Facility Care - Facility maintenance services</li> <li>Trust Verification - Identity verification</li> <li>Settings - App and user settings</li> <li>Search - Global search functionality</li> </ul>"},{"location":"features/#feature-documentation-structure","title":"Feature Documentation Structure","text":"<p>Each feature documentation includes:</p> <ol> <li>Overview - Feature description and purpose</li> <li>Key Features - Main capabilities</li> <li>API Endpoints - Available endpoints</li> <li>Data Models - Data structures</li> <li>Implementation Examples - Code examples</li> <li>Best Practices - Development guidelines</li> </ol>"},{"location":"features/#quick-links","title":"Quick Links","text":"<ul> <li>Frontend Implementation Guide</li> <li>API Reference</li> <li>Admin Routes</li> </ul>"},{"location":"features/academy/","title":"Academy Feature","text":""},{"location":"features/academy/#overview","title":"Overview","text":"<p>The Academy feature provides a comprehensive online learning platform where instructors can create courses and students can enroll, learn, and earn certifications.</p>"},{"location":"features/academy/#key-features","title":"Key Features","text":"<ul> <li>Course Management - Create and manage courses</li> <li>Enrollment System - Student enrollment with progress tracking</li> <li>Video Content - Video lesson hosting</li> <li>Progress Tracking - Real-time progress monitoring</li> <li>Certifications - Digital certificate issuance</li> <li>Reviews &amp; Ratings - Course feedback system</li> </ul>"},{"location":"features/academy/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/academy/#courses","title":"Courses","text":"<pre><code>GET    /api/academy/courses              # List courses\nGET    /api/academy/courses/:id          # Get course details\nPOST   /api/academy/courses              # Create course (instructor/admin)\nPUT    /api/academy/courses/:id          # Update course\nDELETE /api/academy/courses/:id          # Delete course\n</code></pre>"},{"location":"features/academy/#enrollment","title":"Enrollment","text":"<pre><code>POST   /api/academy/courses/:id/enroll   # Enroll in course\nGET    /api/academy/my-courses           # Get enrolled courses\nGET    /api/academy/courses/:id/progress # Get course progress\n</code></pre>"},{"location":"features/academy/#categories","title":"Categories","text":"<pre><code>GET    /api/academy/categories           # List categories\nPOST   /api/academy/categories          # Create category (admin)\nPUT    /api/academy/categories/:id       # Update category\nDELETE /api/academy/categories/:id       # Delete category\n</code></pre>"},{"location":"features/academy/#course-structure","title":"Course Structure","text":"<pre><code>interface Course {\n  _id: string;\n  title: string;\n  description: string;\n  category: string;\n  instructor: User;\n  curriculum: {\n    modules: Module[];\n  };\n  pricing: {\n    regularPrice: number;\n    discountedPrice?: number;\n    currency: string;\n  };\n  enrollment: {\n    current: number;\n    maxCapacity?: number;\n  };\n  rating: {\n    average: number;\n    count: number;\n  };\n}\n</code></pre>"},{"location":"features/academy/#implementation","title":"Implementation","text":"<p>See Frontend Implementation Guide for examples.</p>"},{"location":"features/academy/#documentation","title":"Documentation","text":"<p>For complete API documentation: - Academy API Endpoints - Courses API Endpoints</p>"},{"location":"features/agencies/","title":"Agencies Feature","text":""},{"location":"features/agencies/#overview","title":"Overview","text":"<p>The Agencies feature enables multi-provider organizations to manage teams of service providers under a single agency.</p>"},{"location":"features/agencies/#key-features","title":"Key Features","text":"<ul> <li>Agency Management - Create and manage agencies</li> <li>Team Management - Add/remove providers</li> <li>Agency Profiles - Agency information and branding</li> <li>Bulk Operations - Manage multiple providers</li> <li>Agency Analytics - Performance metrics</li> </ul>"},{"location":"features/agencies/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/agencies/#agencies","title":"Agencies","text":"<pre><code>GET    /api/agencies                 # List agencies\nGET    /api/agencies/:id             # Get agency details\nPOST   /api/agencies                 # Create agency (agency_owner)\nPUT    /api/agencies/:id             # Update agency\nDELETE /api/agencies/:id             # Delete agency\n</code></pre>"},{"location":"features/agencies/#agency-members","title":"Agency Members","text":"<pre><code>GET    /api/agencies/:id/members     # Get agency members\nPOST   /api/agencies/:id/members     # Add member\nDELETE /api/agencies/:id/members/:memberId  # Remove member\n</code></pre>"},{"location":"features/agencies/#admin-endpoints","title":"Admin Endpoints","text":"<pre><code>GET    /api/agencies/pending         # Get pending agencies\nPUT    /api/agencies/:id/approve     # Approve agency\nPUT    /api/agencies/:id/reject      # Reject agency\n</code></pre>"},{"location":"features/agencies/#roles","title":"Roles","text":"<ul> <li>agency_owner - Full agency control</li> <li>agency_admin - Agency administration</li> <li>provider - Agency member</li> </ul>"},{"location":"features/agencies/#data-model","title":"Data Model","text":"<pre><code>interface Agency {\n  _id: string;\n  name: string;\n  description: string;\n  owner: User;\n  members: User[];\n  status: 'pending' | 'approved' | 'rejected';\n  createdAt: Date;\n  updatedAt: Date;\n}\n</code></pre>"},{"location":"features/agencies/#related-features","title":"Related Features","text":"<ul> <li>Providers - Provider management</li> <li>Marketplace - Service marketplace</li> </ul>"},{"location":"features/analytics/","title":"Analytics Feature","text":""},{"location":"features/analytics/#overview","title":"Overview","text":"<p>The Analytics feature provides comprehensive analytics and reporting for the platform, including user analytics, revenue analytics, service analytics, and more.</p>"},{"location":"features/analytics/#key-features","title":"Key Features","text":"<ul> <li>Dashboard Analytics - Overview metrics</li> <li>User Analytics - User growth and engagement</li> <li>Revenue Analytics - Financial metrics</li> <li>Service Analytics - Service performance</li> <li>Real-Time Metrics - Live activity tracking</li> <li>Custom Analytics - Event-based analytics</li> <li>Export - Export data in JSON/CSV</li> </ul>"},{"location":"features/analytics/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/analytics/#dashboard-analytics","title":"Dashboard Analytics","text":"<pre><code>GET /api/analytics/dashboard\nQuery Parameters:\n  - timeframe?: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n</code></pre>"},{"location":"features/analytics/#user-analytics","title":"User Analytics","text":"<pre><code>GET /api/analytics/users\nQuery Parameters:\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"features/analytics/#revenue-analytics","title":"Revenue Analytics","text":"<pre><code>GET /api/analytics/financial\nQuery Parameters:\n  - timeframe?: string\n</code></pre>"},{"location":"features/analytics/#real-time-metrics","title":"Real-Time Metrics","text":"<pre><code>GET /api/analytics/realtime\n</code></pre>"},{"location":"features/analytics/#export-analytics","title":"Export Analytics","text":"<pre><code>GET /api/analytics/export\nQuery Parameters:\n  - type: 'overview' | 'users' | 'revenue' | 'bookings'\n  - timeframe?: string\n  - format: 'json' | 'csv'\n</code></pre>"},{"location":"features/analytics/#analytics-types","title":"Analytics Types","text":"<ul> <li>Overview - Platform-wide metrics</li> <li>Users - User growth and activity</li> <li>Revenue - Financial performance</li> <li>Marketplace - Service metrics</li> <li>Jobs - Job board metrics</li> <li>Referrals - Referral program metrics</li> <li>Agencies - Agency performance</li> </ul>"},{"location":"features/analytics/#access","title":"Access","text":"<p>Most analytics endpoints require <code>admin</code> role.</p> <p>Provider analytics available to providers for their own data.</p>"},{"location":"features/analytics/#related-features","title":"Related Features","text":"<ul> <li>Admin Dashboard - Admin analytics</li> <li>Monitoring - System monitoring</li> </ul>"},{"location":"features/bookings/","title":"Bookings Feature","text":""},{"location":"features/bookings/#overview","title":"Overview","text":"<p>The Bookings feature provides a comprehensive service booking and management system that connects service providers with clients. It supports multiple payment methods, real-time status tracking, and complete booking lifecycle management.</p>"},{"location":"features/bookings/#key-features","title":"Key Features","text":"<ul> <li>Service Booking - Create and manage service appointments</li> <li>Payment Processing - Multiple payment methods (PayPal, PayMongo, PayMaya)</li> <li>Status Management - Real-time booking status tracking</li> <li>Communication - Built-in messaging between parties</li> <li>Photo Documentation - Before/after photo capture</li> <li>Review System - Comprehensive feedback and rating</li> <li>Timeline Tracking - Complete booking history</li> </ul>"},{"location":"features/bookings/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/bookings/#create-booking","title":"Create Booking","text":"<pre><code>POST /api/marketplace/bookings\nBody: {\n  service: string;        // Service ID\n  scheduledDate: string;  // ISO date\n  scheduledTime: string;  // HH:mm\n  address: {\n    street: string;\n    city: string;\n    coordinates: {\n      lat: number;\n      lng: number;\n    };\n  };\n  paymentMethod: string;  // paypal, paymongo, paymaya\n}\n</code></pre>"},{"location":"features/bookings/#get-bookings","title":"Get Bookings","text":"<pre><code>GET /api/marketplace/my-bookings\nQuery Parameters:\n  - status?: string (pending, confirmed, in_progress, completed, cancelled)\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"features/bookings/#update-booking-status","title":"Update Booking Status","text":"<pre><code>PUT /api/marketplace/bookings/:id/status\nBody: {\n  status: string;\n  notes?: string;\n}\n</code></pre>"},{"location":"features/bookings/#add-review","title":"Add Review","text":"<pre><code>POST /api/marketplace/bookings/:id/reviews\nBody: {\n  rating: number;  // 1-5\n  comment: string;\n}\n</code></pre>"},{"location":"features/bookings/#booking-status-flow","title":"Booking Status Flow","text":"<pre><code>pending \u2192 confirmed \u2192 in_progress \u2192 completed\n                \u2193\n            cancelled\n</code></pre>"},{"location":"features/bookings/#payment-integration","title":"Payment Integration","text":""},{"location":"features/bookings/#paypal","title":"PayPal","text":"<pre><code>POST /api/marketplace/bookings\nBody: {\n  ...bookingData,\n  paymentMethod: \"paypal\"\n}\n</code></pre>"},{"location":"features/bookings/#paymongo","title":"PayMongo","text":"<pre><code>POST /api/marketplace/bookings/paymongo/confirm\nBody: {\n  bookingId: string;\n  paymentIntentId: string;\n}\n</code></pre>"},{"location":"features/bookings/#data-model","title":"Data Model","text":"<pre><code>interface Booking {\n  _id: string;\n  service: Service;\n  client: User;\n  provider: User;\n  status: 'pending' | 'confirmed' | 'in_progress' | 'completed' | 'cancelled';\n  scheduledDate: Date;\n  scheduledTime: string;\n  address: Address;\n  payment: {\n    method: string;\n    amount: number;\n    status: string;\n  };\n  review?: Review;\n  photos?: Photo[];\n  createdAt: Date;\n  updatedAt: Date;\n}\n</code></pre>"},{"location":"features/bookings/#implementation-examples","title":"Implementation Examples","text":"<p>See Frontend Implementation Guide for code examples.</p>"},{"location":"features/bookings/#related-features","title":"Related Features","text":"<ul> <li>Marketplace - Service listings</li> <li>Payments - Payment processing</li> <li>Communication - Messaging</li> </ul>"},{"location":"features/bookings/#documentation","title":"Documentation","text":"<p>For complete API documentation, see: - Bookings API Endpoints - Bookings Data Entities</p>"},{"location":"features/escrow/","title":"Escrow Feature","text":""},{"location":"features/escrow/#overview","title":"Overview","text":"<p>The Escrow feature provides secure payment holding for service transactions, ensuring funds are held until service completion.</p>"},{"location":"features/escrow/#key-features","title":"Key Features","text":"<ul> <li>2-Phase Payment - Authorization and capture</li> <li>Dispute Resolution - Handle payment disputes</li> <li>Proof of Work - Validate service completion</li> <li>Automatic Payout - Release funds automatically</li> <li>Multi-Gateway - Support for PayMongo, Xendit, Stripe</li> </ul>"},{"location":"features/escrow/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/escrow/#create-escrow","title":"Create Escrow","text":"<pre><code>POST /api/escrows\nBody: {\n  bookingId: string;\n  amount: number;\n  paymentMethod: string;\n}\n</code></pre>"},{"location":"features/escrow/#get-escrows","title":"Get Escrows","text":"<pre><code>GET /api/escrows\nGET /api/escrows/:id\n</code></pre>"},{"location":"features/escrow/#capture-payment","title":"Capture Payment","text":"<pre><code>POST /api/escrows/:id/capture\n</code></pre>"},{"location":"features/escrow/#dispute","title":"Dispute","text":"<pre><code>POST /api/escrows/:id/dispute\nPOST /api/escrows/:id/dispute/resolve  # Admin only\n</code></pre>"},{"location":"features/escrow/#escrow-flow","title":"Escrow Flow","text":"<pre><code>1. Create escrow (authorize payment)\n2. Hold funds\n3. Service completion\n4. Capture payment (release funds)\n   OR\n4. Dispute raised\n5. Admin resolution\n6. Release or refund\n</code></pre>"},{"location":"features/escrow/#payment-methods","title":"Payment Methods","text":"<ul> <li>PayMongo</li> <li>Xendit</li> <li>Stripe</li> <li>PayPal</li> <li>PayMaya</li> </ul>"},{"location":"features/escrow/#documentation","title":"Documentation","text":"<p>For complete escrow documentation: - Escrows API Endpoints - PayMongo Integration</p>"},{"location":"features/facility-care/","title":"Facility Care Feature","text":""},{"location":"features/facility-care/#overview","title":"Overview","text":"<p>The Facility Care feature provides recurring facility maintenance services including janitorial, landscaping, and pest control.</p>"},{"location":"features/facility-care/#key-features","title":"Key Features","text":"<ul> <li>Facility Management - Create and manage facilities</li> <li>Work Orders - Create and track work orders</li> <li>Scheduling - Recurring service scheduling</li> <li>Vendor Management - Manage service vendors</li> <li>Compliance - Track compliance documentation</li> </ul>"},{"location":"features/facility-care/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/facility-care/#facilities","title":"Facilities","text":"<pre><code>GET    /api/facility-care/facilities      # List facilities\nPOST   /api/facility-care/facilities      # Create facility\nGET    /api/facility-care/facilities/:id  # Get facility\nPUT    /api/facility-care/facilities/:id  # Update facility\n</code></pre>"},{"location":"features/facility-care/#work-orders","title":"Work Orders","text":"<pre><code>GET    /api/facility-care/work-orders      # List work orders\nPOST   /api/facility-care/work-orders     # Create work order\nGET    /api/facility-care/work-orders/:id  # Get work order\nPUT    /api/facility-care/work-orders/:id  # Update work order\n</code></pre>"},{"location":"features/facility-care/#data-model","title":"Data Model","text":"<pre><code>interface Facility {\n  _id: string;\n  name: string;\n  address: Address;\n  type: string; // office, warehouse, etc.\n  workOrders: WorkOrder[];\n  createdAt: Date;\n}\n</code></pre>"},{"location":"features/facility-care/#related-features","title":"Related Features","text":"<ul> <li>Marketplace - Service marketplace</li> <li>Bookings - Booking system</li> </ul>"},{"location":"features/job-board/","title":"Job Board Feature","text":""},{"location":"features/job-board/#overview","title":"Overview","text":"<p>The Job Board feature provides a platform for employers to post job openings and job seekers to find employment opportunities in the service industry.</p>"},{"location":"features/job-board/#key-features","title":"Key Features","text":"<ul> <li>Job Postings - Create and manage job listings</li> <li>Job Applications - Application submission and tracking</li> <li>Job Search - Advanced search and filtering</li> <li>Employer Profiles - Company information</li> <li>Application Management - Track application status</li> </ul>"},{"location":"features/job-board/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/job-board/#jobs","title":"Jobs","text":"<pre><code>GET    /api/jobs                        # List jobs\nGET    /api/jobs/:id                    # Get job details\nPOST   /api/jobs                        # Create job (employer/admin)\nPUT    /api/jobs/:id                    # Update job\nDELETE /api/jobs/:id                    # Delete job\n</code></pre>"},{"location":"features/job-board/#applications","title":"Applications","text":"<pre><code>POST   /api/jobs/:id/apply              # Apply for job\nGET    /api/jobs/my-applications        # Get user applications\nGET    /api/jobs/:id/applications       # Get job applications (employer)\nPUT    /api/jobs/applications/:id/status # Update application status\n</code></pre>"},{"location":"features/job-board/#data-model","title":"Data Model","text":"<pre><code>interface Job {\n  _id: string;\n  title: string;\n  description: string;\n  company: string;\n  location: {\n    address: string;\n    coordinates: {\n      lat: number;\n      lng: number;\n    };\n  };\n  requirements: string[];\n  salary: {\n    min: number;\n    max: number;\n    currency: string;\n  };\n  type: 'full-time' | 'part-time' | 'contract';\n  status: 'open' | 'closed';\n}\n</code></pre>"},{"location":"features/job-board/#related-features","title":"Related Features","text":"<ul> <li>Marketplace - Service marketplace</li> <li>Providers - Provider profiles</li> </ul>"},{"location":"features/job-board/#documentation","title":"Documentation","text":"<p>For complete API documentation: - Jobs API Endpoints</p>"},{"location":"features/marketplace/","title":"Marketplace Feature","text":""},{"location":"features/marketplace/#overview","title":"Overview","text":"<p>The Marketplace feature enables service providers to list their services and clients to discover, book, and manage service appointments. It supports multiple service categories with advanced filtering, location-based search, and payment processing.</p>"},{"location":"features/marketplace/#key-features","title":"Key Features","text":"<ul> <li>Service Listings: Create and manage service offerings</li> <li>Service Discovery: Advanced search and filtering</li> <li>Location-Based Search: Find nearby services</li> <li>Category Management: Organized service categories</li> <li>Provider Profiles: Service provider information</li> <li>Reviews &amp; Ratings: Customer feedback system</li> <li>Image Management: Multiple service images</li> </ul>"},{"location":"features/marketplace/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/marketplace/#public-endpoints","title":"Public Endpoints","text":""},{"location":"features/marketplace/#list-services","title":"List Services","text":"<pre><code>GET /api/marketplace/services\nQuery Parameters:\n  - page?: number\n  - limit?: number\n  - category?: string\n  - search?: string\n  - lat?: number\n  - lng?: number\n  - radius?: number (in meters)\n  - minPrice?: number\n  - maxPrice?: number\n  - sort?: string\n</code></pre>"},{"location":"features/marketplace/#get-service-details","title":"Get Service Details","text":"<pre><code>GET /api/marketplace/services/:id\n</code></pre>"},{"location":"features/marketplace/#get-service-categories","title":"Get Service Categories","text":"<pre><code>GET /api/marketplace/services/categories\n</code></pre>"},{"location":"features/marketplace/#get-nearby-services","title":"Get Nearby Services","text":"<pre><code>GET /api/marketplace/services/nearby\nQuery Parameters:\n  - lat: number (required)\n  - lng: number (required)\n  - radius?: number (default: 10000m)\n  - category?: string\n</code></pre>"},{"location":"features/marketplace/#protected-endpoints","title":"Protected Endpoints","text":""},{"location":"features/marketplace/#create-service-provideradmin","title":"Create Service (Provider/Admin)","text":"<pre><code>POST /api/marketplace/services\nBody: {\n  title: string;\n  description: string;\n  category: string;\n  pricing: {\n    basePrice: number;\n    hourlyRate?: number;\n  };\n  location: {\n    address: string;\n    coordinates: {\n      lat: number;\n      lng: number;\n    };\n  };\n}\n</code></pre>"},{"location":"features/marketplace/#update-service","title":"Update Service","text":"<pre><code>PUT /api/marketplace/services/:id\n</code></pre>"},{"location":"features/marketplace/#delete-service","title":"Delete Service","text":"<pre><code>DELETE /api/marketplace/services/:id\n</code></pre>"},{"location":"features/marketplace/#upload-service-images","title":"Upload Service Images","text":"<pre><code>POST /api/marketplace/services/:id/images\nContent-Type: multipart/form-data\nBody: {\n  images: File[] (max 5)\n}\n</code></pre>"},{"location":"features/marketplace/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"features/marketplace/#manage-categories","title":"Manage Categories","text":"<pre><code>GET    /api/marketplace/services/categories/manage\nPOST   /api/marketplace/services/categories\nPUT    /api/marketplace/services/categories/:id\nDELETE /api/marketplace/services/categories/:id\n</code></pre>"},{"location":"features/marketplace/#data-model","title":"Data Model","text":""},{"location":"features/marketplace/#service","title":"Service","text":"<pre><code>interface Service {\n  _id: string;\n  title: string;\n  description: string;\n  category: string;\n  provider: {\n    _id: string;\n    name: string;\n    rating: number;\n  };\n  pricing: {\n    basePrice: number;\n    hourlyRate?: number;\n    currency: string;\n  };\n  location: {\n    address: string;\n    city: string;\n    coordinates: {\n      lat: number;\n      lng: number;\n    };\n  };\n  images: Array&lt;{\n    url: string;\n    thumbnail: string;\n    publicId: string;\n  }&gt;;\n  rating: number;\n  reviewCount: number;\n  status: 'active' | 'inactive' | 'pending';\n  createdAt: Date;\n  updatedAt: Date;\n}\n</code></pre>"},{"location":"features/marketplace/#implementation-examples","title":"Implementation Examples","text":""},{"location":"features/marketplace/#search-services","title":"Search Services","text":"<pre><code>const searchServices = async (filters: ServiceFilters) =&gt; {\n  const params = new URLSearchParams({\n    page: filters.page?.toString() || '1',\n    limit: '20',\n    ...(filters.category &amp;&amp; { category: filters.category }),\n    ...(filters.search &amp;&amp; { search: filters.search }),\n    ...(filters.location &amp;&amp; {\n      lat: filters.location.lat.toString(),\n      lng: filters.location.lng.toString(),\n      radius: '10000'\n    })\n  });\n\n  const response = await fetch(`/api/marketplace/services?${params}`);\n  return response.json();\n};\n</code></pre>"},{"location":"features/marketplace/#create-service","title":"Create Service","text":"<pre><code>const createService = async (serviceData: CreateServiceData) =&gt; {\n  const response = await fetch('/api/marketplace/services', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify(serviceData)\n  });\n  return response.json();\n};\n</code></pre>"},{"location":"features/marketplace/#best-practices","title":"Best Practices","text":"<ol> <li>Use pagination for service lists</li> <li>Implement caching for categories</li> <li>Optimize images before upload</li> <li>Validate location coordinates</li> <li>Handle errors gracefully</li> <li>Show loading states during searches</li> </ol>"},{"location":"features/marketplace/#related-features","title":"Related Features","text":"<ul> <li>Bookings - Service booking system</li> <li>Payments - Payment processing</li> <li>Reviews - Review system</li> </ul>"},{"location":"features/notifications/","title":"Notifications Feature","text":""},{"location":"features/notifications/#overview","title":"Overview","text":"<p>The Notifications feature provides comprehensive notification management including push notifications, in-app notifications, email notifications, and SMS notifications.</p>"},{"location":"features/notifications/#key-features","title":"Key Features","text":"<ul> <li>Push Notifications - Real-time push notifications via FCM</li> <li>In-App Notifications - Notification center</li> <li>Email Notifications - Email alerts</li> <li>SMS Notifications - SMS alerts</li> <li>Notification Preferences - User-configurable settings</li> <li>Notification History - Complete notification log</li> </ul>"},{"location":"features/notifications/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/notifications/#get-notifications","title":"Get Notifications","text":"<pre><code>GET /api/notifications\nQuery Parameters:\n  - type?: string\n  - read?: boolean\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"features/notifications/#mark-as-read","title":"Mark as Read","text":"<pre><code>PUT /api/notifications/:id/read\nPUT /api/notifications/read-all\n</code></pre>"},{"location":"features/notifications/#notification-settings","title":"Notification Settings","text":"<pre><code>GET  /api/notifications/settings\nPUT  /api/notifications/settings\n</code></pre>"},{"location":"features/notifications/#admin-send-broadcast","title":"Admin: Send Broadcast","text":"<pre><code>POST /api/notifications/broadcast\nBody: {\n  title: string;\n  message: string;\n  type: string;\n  targetAudience: string;\n}\n</code></pre>"},{"location":"features/notifications/#notification-types","title":"Notification Types","text":"<ul> <li><code>booking</code> - Booking-related notifications</li> <li><code>payment</code> - Payment notifications</li> <li><code>message</code> - Message notifications</li> <li><code>system</code> - System notifications</li> <li><code>promotion</code> - Promotional notifications</li> </ul>"},{"location":"features/notifications/#implementation","title":"Implementation","text":"<p>See Push Notifications Guide for setup.</p>"},{"location":"features/notifications/#related-features","title":"Related Features","text":"<ul> <li>Settings - User preferences</li> <li>Communication - Messaging</li> </ul>"},{"location":"features/payments/","title":"Payments Feature","text":""},{"location":"features/payments/#overview","title":"Overview","text":"<p>The Payments feature provides comprehensive payment processing with support for multiple payment gateways including PayPal, PayMongo (PayMaya), and more.</p>"},{"location":"features/payments/#supported-payment-methods","title":"Supported Payment Methods","text":"<ul> <li>PayPal - PayPal payments and subscriptions</li> <li>PayMongo - PayMaya and card payments (Philippines)</li> <li>Stripe - Card payments</li> <li>Xendit - Southeast Asia payments</li> <li>Bank Transfer - Direct bank transfers</li> <li>Cash - Cash payments</li> </ul>"},{"location":"features/payments/#payment-features","title":"Payment Features","text":"<ul> <li>One-time Payments - Single transaction processing</li> <li>Recurring Payments - Subscription billing</li> <li>Escrow Payments - Secure payment holding</li> <li>Refunds - Payment refund processing</li> <li>Webhooks - Payment event notifications</li> </ul>"},{"location":"features/payments/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/payments/#paypal","title":"PayPal","text":"<pre><code>POST /api/paypal/create-order\nPOST /api/paypal/capture-order\nPOST /api/paypal/webhook\n</code></pre>"},{"location":"features/payments/#paymongo","title":"PayMongo","text":"<pre><code>POST /api/paymongo/payment-intents\nPOST /api/paymongo/confirm-payment\nPOST /api/paymongo/webhook\n</code></pre>"},{"location":"features/payments/#financewallet","title":"Finance/Wallet","text":"<pre><code>GET  /api/finance/wallet\nPOST /api/finance/wallet/top-up\nPOST /api/finance/wallet/withdraw\nGET  /api/finance/transactions\n</code></pre>"},{"location":"features/payments/#payment-flow","title":"Payment Flow","text":""},{"location":"features/payments/#standard-payment","title":"Standard Payment","text":"<pre><code>1. Create payment intent/order\n2. User approves payment\n3. Capture payment\n4. Process webhook\n5. Update booking/service status\n</code></pre>"},{"location":"features/payments/#escrow-payment","title":"Escrow Payment","text":"<pre><code>1. Authorize payment (hold funds)\n2. Service completion\n3. Capture payment (release funds)\n4. Or refund if dispute\n</code></pre>"},{"location":"features/payments/#webhooks","title":"Webhooks","text":"<p>All payment gateways send webhooks for: - Payment success - Payment failure - Refunds - Subscription events</p> <p>See Webhook Setup Guide for configuration.</p>"},{"location":"features/payments/#security","title":"Security","text":"<ul> <li>PCI Compliance - No card data stored</li> <li>Webhook Verification - Signature validation</li> <li>Encryption - All transactions encrypted</li> <li>Audit Trail - Complete transaction logging</li> </ul>"},{"location":"features/payments/#documentation","title":"Documentation","text":"<p>For complete payment integration: - Payment Integration Guide - Webhook Setup - Finance API</p>"},{"location":"features/referrals/","title":"Referrals Feature","text":""},{"location":"features/referrals/#overview","title":"Overview","text":"<p>The Referrals feature provides a comprehensive referral program that rewards users for referring new users to the platform.</p>"},{"location":"features/referrals/#key-features","title":"Key Features","text":"<ul> <li>Referral Codes - Unique referral codes for users</li> <li>Referral Tracking - Track referrals and signups</li> <li>Rewards System - Reward points/credits for referrals</li> <li>Referral Statistics - Track referral performance</li> <li>Referral History - Complete referral log</li> </ul>"},{"location":"features/referrals/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/referrals/#get-referral-code","title":"Get Referral Code","text":"<pre><code>GET /api/referrals/code\n</code></pre>"},{"location":"features/referrals/#get-referral-stats","title":"Get Referral Stats","text":"<pre><code>GET /api/referrals/stats\n</code></pre>"},{"location":"features/referrals/#get-referral-history","title":"Get Referral History","text":"<pre><code>GET /api/referrals/history\nQuery Parameters:\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"features/referrals/#referral-flow","title":"Referral Flow","text":"<pre><code>1. User gets referral code\n2. User shares code with friends\n3. Friend signs up using code\n4. Friend completes first action\n5. Both users receive rewards\n</code></pre>"},{"location":"features/referrals/#rewards","title":"Rewards","text":"<p>Rewards can be: - Platform credits - Discount vouchers - Cash rewards - Subscription benefits</p>"},{"location":"features/referrals/#related-features","title":"Related Features","text":"<ul> <li>User Management - User accounts</li> <li>Finance - Reward processing</li> </ul>"},{"location":"features/rentals/","title":"Rentals Feature","text":""},{"location":"features/rentals/#overview","title":"Overview","text":"<p>The Rentals feature enables equipment and vehicle rental services, allowing providers to list rental items and customers to book rentals.</p>"},{"location":"features/rentals/#key-features","title":"Key Features","text":"<ul> <li>Rental Listings - Create and manage rental items</li> <li>Booking System - Rental booking and reservation</li> <li>Pricing Management - Daily/weekly/monthly rates</li> <li>Deposit Handling - Security deposit management</li> <li>Return Processing - Rental return and inspection</li> </ul>"},{"location":"features/rentals/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/rentals/#rental-items","title":"Rental Items","text":"<pre><code>GET    /api/rentals/items                # List rental items\nGET    /api/rentals/items/:id            # Get item details\nPOST   /api/rentals/items                # Create item (provider/admin)\nPUT    /api/rentals/items/:id            # Update item\nDELETE /api/rentals/items/:id           # Delete item\n</code></pre>"},{"location":"features/rentals/#bookings","title":"Bookings","text":"<pre><code>POST   /api/rentals/bookings            # Create rental booking\nGET    /api/rentals/my-bookings         # Get user bookings\nPUT    /api/rentals/bookings/:id/return # Process return\n</code></pre>"},{"location":"features/rentals/#data-model","title":"Data Model","text":"<pre><code>interface Rental {\n  _id: string;\n  name: string;\n  type: string;  // equipment, vehicle, etc.\n  pricing: {\n    daily: number;\n    weekly?: number;\n    monthly?: number;\n  };\n  deposit: number;\n  availability: {\n    startDate: Date;\n    endDate: Date;\n  };\n}\n</code></pre>"},{"location":"features/rentals/#related-features","title":"Related Features","text":"<ul> <li>Marketplace - Service marketplace</li> <li>Bookings - Booking system</li> <li>Payments - Payment processing</li> </ul>"},{"location":"features/rentals/#documentation","title":"Documentation","text":"<p>For complete API documentation: - Rentals API Endpoints</p>"},{"location":"features/search/","title":"Search Feature","text":""},{"location":"features/search/#overview","title":"Overview","text":"<p>The Search feature provides comprehensive search functionality across all entities in the platform.</p>"},{"location":"features/search/#key-features","title":"Key Features","text":"<ul> <li>Global Search - Search across all entities</li> <li>Entity-Specific Search - Search within specific types</li> <li>Advanced Filtering - Multiple filter options</li> <li>Sorting - Sort results by relevance, date, etc.</li> <li>Pagination - Handle large result sets</li> </ul>"},{"location":"features/search/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/search/#global-search","title":"Global Search","text":"<pre><code>GET /api/search/global\nQuery Parameters:\n  - q: string (search query)\n  - type?: string (services, users, products, etc.)\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"features/search/#entity-specific-search","title":"Entity-Specific Search","text":"<pre><code>GET /api/search/services\nGET /api/search/users\nGET /api/search/products\nGET /api/search/jobs\n</code></pre>"},{"location":"features/search/#search-types","title":"Search Types","text":"<ul> <li>Text Search - Full-text search</li> <li>Location Search - Geospatial search</li> <li>Category Search - Category filtering</li> <li>Price Range - Price filtering</li> </ul>"},{"location":"features/search/#implementation","title":"Implementation","text":"<pre><code>const searchResults = await searchGlobal({\n  query: 'plumbing',\n  type: 'services',\n  location: { lat: 40.7128, lng: -74.0060 },\n  radius: 10\n});\n</code></pre>"},{"location":"features/search/#search-results","title":"Search Results","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"services\": [...],\n    \"users\": [...],\n    \"total\": 50,\n    \"pagination\": { ... }\n  }\n}\n</code></pre>"},{"location":"features/search/#related-features","title":"Related Features","text":"<ul> <li>Marketplace - Service search</li> <li>API Endpoints</li> </ul>"},{"location":"features/settings/","title":"Settings Feature","text":""},{"location":"features/settings/#overview","title":"Overview","text":"<p>The Settings feature provides comprehensive configuration management for both application-wide settings and user-specific preferences.</p>"},{"location":"features/settings/#key-features","title":"Key Features","text":"<ul> <li>App Settings - Platform-wide configuration</li> <li>User Settings - Individual user preferences</li> <li>Feature Toggles - Enable/disable features</li> <li>Notification Settings - Notification preferences</li> <li>Privacy Settings - Privacy controls</li> </ul>"},{"location":"features/settings/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/settings/#app-settings-admin","title":"App Settings (Admin)","text":"<pre><code>GET    /api/settings/app                 # Get app settings\nPUT    /api/settings/app                 # Update app settings\nPUT    /api/settings/app/:category       # Update category\nPOST   /api/settings/app/features/toggle # Toggle feature\nGET    /api/settings/app/public          # Get public settings\n</code></pre>"},{"location":"features/settings/#user-settings","title":"User Settings","text":"<pre><code>GET    /api/settings/user                # Get user settings\nPUT    /api/settings/user                # Update user settings\n</code></pre>"},{"location":"features/settings/#settings-categories","title":"Settings Categories","text":""},{"location":"features/settings/#app-settings","title":"App Settings","text":"<ul> <li><code>general</code> - General app settings</li> <li><code>business</code> - Business information</li> <li><code>features</code> - Feature toggles</li> <li><code>payments</code> - Payment configuration</li> <li><code>security</code> - Security settings</li> <li><code>notifications</code> - Notification settings</li> </ul>"},{"location":"features/settings/#user-settings_1","title":"User Settings","text":"<ul> <li><code>privacy</code> - Privacy preferences</li> <li><code>notifications</code> - Notification preferences</li> <li><code>preferences</code> - User preferences</li> <li><code>security</code> - Security settings</li> </ul>"},{"location":"features/settings/#feature-toggles","title":"Feature Toggles","text":"<pre><code>POST /api/settings/app/features/toggle\nBody: {\n  feature: 'marketplace',\n  enabled: true\n}\n</code></pre>"},{"location":"features/settings/#related-features","title":"Related Features","text":"<ul> <li>Notifications - Notification system</li> <li>Admin Dashboard</li> </ul>"},{"location":"features/supplies/","title":"Supplies Feature","text":""},{"location":"features/supplies/#overview","title":"Overview","text":"<p>The Supplies feature provides an e-commerce platform for suppliers to list products and customers to purchase supplies and materials.</p>"},{"location":"features/supplies/#key-features","title":"Key Features","text":"<ul> <li>Product Listings - Create and manage supply products</li> <li>Order Management - Complete order processing</li> <li>Inventory Tracking - Stock management</li> <li>Supplier Profiles - Supplier information and ratings</li> <li>Delivery Scheduling - Order delivery management</li> </ul>"},{"location":"features/supplies/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/supplies/#products","title":"Products","text":"<pre><code>GET    /api/supplies/products            # List products\nGET    /api/supplies/products/:id        # Get product details\nPOST   /api/supplies/products            # Create product (supplier/admin)\nPUT    /api/supplies/products/:id        # Update product\nDELETE /api/supplies/products/:id        # Delete product\n</code></pre>"},{"location":"features/supplies/#orders","title":"Orders","text":"<pre><code>POST   /api/supplies/orders              # Create order\nGET    /api/supplies/my-orders          # Get user orders\nGET    /api/supplies/orders/:id          # Get order details\nPUT    /api/supplies/orders/:id/status   # Update order status\n</code></pre>"},{"location":"features/supplies/#data-model","title":"Data Model","text":"<pre><code>interface Supply {\n  _id: string;\n  name: string;\n  description: string;\n  category: string;\n  price: number;\n  supplier: User;\n  inventory: {\n    quantity: number;\n    inStock: boolean;\n  };\n  images: Image[];\n}\n</code></pre>"},{"location":"features/supplies/#related-features","title":"Related Features","text":"<ul> <li>Marketplace - Service marketplace</li> <li>Payments - Payment processing</li> <li>Finance - Financial management</li> </ul>"},{"location":"features/supplies/#documentation","title":"Documentation","text":"<p>For complete API documentation: - Supplies API Endpoints</p>"},{"location":"features/trust-verification/","title":"Trust Verification Feature","text":""},{"location":"features/trust-verification/#overview","title":"Overview","text":"<p>The Trust Verification feature provides identity and document verification for service providers to build trust with clients.</p>"},{"location":"features/trust-verification/#key-features","title":"Key Features","text":"<ul> <li>Document Upload - Upload verification documents</li> <li>Verification Levels - Basic, Standard, Premium</li> <li>Status Tracking - Track verification status</li> <li>Badge System - Verification badges</li> <li>Admin Review - Admin verification approval</li> </ul>"},{"location":"features/trust-verification/#api-endpoints","title":"API Endpoints","text":""},{"location":"features/trust-verification/#verification","title":"Verification","text":"<pre><code>GET    /api/trust-verification/status     # Get verification status\nPOST   /api/trust-verification/request    # Request verification\nPOST   /api/trust-verification/documents  # Upload documents\n</code></pre>"},{"location":"features/trust-verification/#admin-endpoints","title":"Admin Endpoints","text":"<pre><code>GET    /api/trust-verification/pending    # Get pending verifications\nPUT    /api/trust-verification/:id/approve # Approve verification\nPUT    /api/trust-verification/:id/reject  # Reject verification\n</code></pre>"},{"location":"features/trust-verification/#verification-levels","title":"Verification Levels","text":"<ul> <li>Basic - Phone verification</li> <li>Standard - ID verification</li> <li>Premium - Full background check</li> </ul>"},{"location":"features/trust-verification/#data-model","title":"Data Model","text":"<pre><code>interface TrustVerification {\n  _id: string;\n  user: ObjectId;\n  level: 'basic' | 'standard' | 'premium';\n  status: 'pending' | 'approved' | 'rejected';\n  documents: Document[];\n  verifiedAt: Date;\n}\n</code></pre>"},{"location":"features/trust-verification/#related-features","title":"Related Features","text":"<ul> <li>User Management - User accounts</li> <li>Providers - Provider profiles</li> </ul>"},{"location":"frontend/","title":"Frontend Documentation","text":"<p>This directory contains comprehensive frontend implementation documentation for the LocalPro Super App.</p>"},{"location":"frontend/#documentation-files","title":"Documentation Files","text":""},{"location":"frontend/#implementation-guide","title":"\ud83d\udcd8 Implementation Guide","text":"<p>Complete guide for frontend developers covering: - Getting started with the API - Authentication &amp; authorization - API integration patterns - All feature modules (20+ features) - Best practices - Error handling - State management</p>"},{"location":"frontend/#admin-routes-documentation","title":"\ud83d\udd10 Admin Routes Documentation","text":"<p>Comprehensive documentation for all admin functionality: - User management - Content moderation - Financial management - Analytics &amp; reporting - System settings - All feature-specific admin routes - Implementation examples</p>"},{"location":"frontend/#quick-start","title":"Quick Start","text":"<ol> <li>Read the Implementation Guide to understand the overall architecture</li> <li>Review Admin Routes if you're building admin features</li> <li>Check individual feature sections in the implementation guide for specific endpoints</li> <li>Use the code examples as starting points for your implementation</li> </ol>"},{"location":"frontend/#features-covered","title":"Features Covered","text":"<p>\u2705 Authentication &amp; Authorization \u2705 Marketplace (Services) \u2705 Bookings \u2705 Academy &amp; Courses \u2705 Supplies (E-Commerce) \u2705 Rentals \u2705 Jobs (Job Board) \u2705 Finance &amp; Wallet \u2705 LocalPro Plus (Subscriptions) \u2705 Communication &amp; Messaging \u2705 Trust Verification \u2705 Referrals \u2705 Agencies \u2705 Facility Care \u2705 Ads (Advertising) \u2705 Announcements \u2705 Activity Feed \u2705 Search \u2705 Analytics \u2705 Notifications \u2705 Settings  </p>"},{"location":"frontend/#admin-features-covered","title":"Admin Features Covered","text":"<p>\u2705 User Management (CRUD, status, verification) \u2705 Content Moderation (Ads, Services, Jobs, Agencies) \u2705 Financial Management (Withdrawals, Top-ups) \u2705 Analytics &amp; Reporting (Dashboard, Time-series, Exports) \u2705 System Settings (App settings, Feature flags) \u2705 All Feature-Specific Admin Routes \u2705 Email Marketing \u2705 Live Chat Management \u2705 Database &amp; Monitoring \u2705 Audit Logs \u2705 Error Monitoring \u2705 Partners Management \u2705 Scheduled Jobs  </p>"},{"location":"frontend/#api-base-url","title":"API Base URL","text":"<pre><code>Production: https://api.localpro.com\nDevelopment: http://localhost:5000\n</code></pre>"},{"location":"frontend/#authentication","title":"Authentication","text":"<p>All authenticated routes require: <pre><code>Authorization: Bearer &lt;JWT_TOKEN&gt;\n</code></pre></p>"},{"location":"frontend/#response-format","title":"Response Format","text":"<p>All API responses follow this structure: <pre><code>{\n  success: boolean;\n  message?: string;\n  data?: T;\n  error?: string;\n  code?: string;\n  pagination?: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n</code></pre></p>"},{"location":"frontend/#need-help","title":"Need Help?","text":"<ul> <li>Check the API Reference for detailed endpoint documentation</li> <li>Review Error Codes Reference for error handling</li> <li>See Postman Collection for API examples</li> </ul>"},{"location":"frontend/admin-routes/","title":"Admin Routes Documentation","text":""},{"location":"frontend/admin-routes/#overview","title":"Overview","text":"<p>This document provides comprehensive documentation for all admin routes in the LocalPro Super App. Admin routes require authentication with a valid JWT token and the <code>admin</code> role.</p>"},{"location":"frontend/admin-routes/#authentication","title":"Authentication","text":"<p>All admin routes require: - Authentication: Valid JWT token in <code>Authorization: Bearer &lt;token&gt;</code> header - Authorization: User must have <code>admin</code> role</p> <pre><code>const headers = {\n  'Authorization': `Bearer ${adminToken}`,\n  'Content-Type': 'application/json'\n};\n</code></pre>"},{"location":"frontend/admin-routes/#table-of-contents","title":"Table of Contents","text":"<ol> <li>User Management</li> <li>Content Moderation</li> <li>Financial Management</li> <li>Analytics &amp; Reporting</li> <li>System Settings</li> <li>Marketplace Management</li> <li>Academy Management</li> <li>Supplies Management</li> <li>Rentals Management</li> <li>Jobs Management</li> <li>Agencies Management</li> <li>Ads Management</li> <li>Providers Management</li> <li>Escrow Management</li> <li>Notifications Management</li> <li>Email Marketing</li> <li>Live Chat Management</li> <li>Database &amp; Monitoring</li> <li>Audit Logs</li> <li>Error Monitoring</li> <li>Partners Management</li> <li>Scheduled Jobs</li> </ol>"},{"location":"frontend/admin-routes/#user-management","title":"User Management","text":"<p>Base Path: <code>/api/users</code></p>"},{"location":"frontend/admin-routes/#get-all-users","title":"Get All Users","text":"<pre><code>GET /api/users\nQuery Parameters:\n  - page?: number (default: 1)\n  - limit?: number (default: 10, max: 100)\n  - role?: string (client, provider, supplier, instructor, admin)\n  - status?: string (active, inactive, suspended, pending)\n  - isVerified?: boolean\n  - search?: string\n  - sort?: string (e.g., \"createdAt:desc\")\n</code></pre> <p>Response: <pre><code>{\n  success: true,\n  data: {\n    users: User[],\n    pagination: {\n      page: number,\n      limit: number,\n      total: number,\n      totalPages: number\n    }\n  }\n}\n</code></pre></p>"},{"location":"frontend/admin-routes/#get-user-statistics","title":"Get User Statistics","text":"<pre><code>GET /api/users/stats\n</code></pre> <p>Response: <pre><code>{\n  success: true,\n  data: {\n    total: number,\n    byRole: { [role: string]: number },\n    byStatus: { [status: string]: number },\n    verified: number,\n    unverified: number,\n    recent: number // Last 30 days\n  }\n}\n</code></pre></p>"},{"location":"frontend/admin-routes/#get-user-by-id","title":"Get User by ID","text":"<pre><code>GET /api/users/:id\n</code></pre>"},{"location":"frontend/admin-routes/#create-user","title":"Create User","text":"<pre><code>POST /api/users\nBody: {\n  phoneNumber: string;\n  email?: string;\n  firstName?: string;\n  lastName?: string;\n  roles: string[];\n  isActive?: boolean;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#update-user","title":"Update User","text":"<pre><code>PUT /api/users/:id\nBody: {\n  // Any user fields to update\n}\n</code></pre>"},{"location":"frontend/admin-routes/#update-user-status","title":"Update User Status","text":"<pre><code>PATCH /api/users/:id/status\nBody: {\n  status: 'active' | 'inactive' | 'suspended' | 'pending';\n  reason?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#update-user-verification","title":"Update User Verification","text":"<pre><code>PATCH /api/users/:id/verification\nBody: {\n  isVerified: boolean;\n  verificationLevel?: 'basic' | 'standard' | 'premium';\n  notes?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#add-badge-to-user","title":"Add Badge to User","text":"<pre><code>POST /api/users/:id/badges\nBody: {\n  badge: string;\n  reason?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#bulk-update-users","title":"Bulk Update Users","text":"<pre><code>PATCH /api/users/bulk\nBody: {\n  userIds: string[];\n  updates: {\n    status?: string;\n    isVerified?: boolean;\n    roles?: string[];\n  };\n}\n</code></pre>"},{"location":"frontend/admin-routes/#delete-user-soft-delete","title":"Delete User (Soft Delete)","text":"<pre><code>DELETE /api/users/:id\n</code></pre>"},{"location":"frontend/admin-routes/#restore-user","title":"Restore User","text":"<pre><code>PATCH /api/users/:id/restore\n</code></pre>"},{"location":"frontend/admin-routes/#content-moderation","title":"Content Moderation","text":""},{"location":"frontend/admin-routes/#marketplace-services","title":"Marketplace Services","text":"<p>Base Path: <code>/api/marketplace</code></p>"},{"location":"frontend/admin-routes/#manage-service-categories","title":"Manage Service Categories","text":"<pre><code>// List all categories (admin view)\nGET /api/marketplace/services/categories/manage\n\n// Create category\nPOST /api/marketplace/services/categories\nBody: {\n  name: string;\n  description?: string;\n  icon?: string;\n  parentCategory?: string;\n}\n\n// Update category\nPUT /api/marketplace/services/categories/:id\nBody: {\n  name?: string;\n  description?: string;\n  icon?: string;\n  isActive?: boolean;\n}\n\n// Delete category\nDELETE /api/marketplace/services/categories/:id\n</code></pre>"},{"location":"frontend/admin-routes/#manage-services","title":"Manage Services","text":"<pre><code>// Deactivate service\nPATCH /api/marketplace/services/:id/deactivate\n\n// Activate service\nPATCH /api/marketplace/services/:id/activate\n\n// Delete service\nDELETE /api/marketplace/services/:id\n</code></pre>"},{"location":"frontend/admin-routes/#ads-moderation","title":"Ads Moderation","text":"<p>Base Path: <code>/api/ads</code></p>"},{"location":"frontend/admin-routes/#get-pending-ads","title":"Get Pending Ads","text":"<pre><code>GET /api/ads/pending\nQuery Parameters:\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#approve-ad","title":"Approve Ad","text":"<pre><code>PUT /api/ads/:id/approve\nBody: {\n  notes?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#reject-ad","title":"Reject Ad","text":"<pre><code>PUT /api/ads/:id/reject\nBody: {\n  reason: string;\n  notes?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#get-ad-statistics","title":"Get Ad Statistics","text":"<pre><code>GET /api/ads/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#financial-management","title":"Financial Management","text":"<p>Base Path: <code>/api/finance</code></p>"},{"location":"frontend/admin-routes/#process-withdrawal-request","title":"Process Withdrawal Request","text":"<pre><code>PUT /api/finance/withdrawals/:withdrawalId/process\nBody: {\n  action: 'approve' | 'reject';\n  adminNotes?: string;\n  transactionId?: string; // For approved withdrawals\n}\n</code></pre> <p>Response: <pre><code>{\n  success: true,\n  message: string,\n  data: {\n    withdrawal: Withdrawal;\n    user: User;\n  }\n}\n</code></pre></p>"},{"location":"frontend/admin-routes/#get-all-top-up-requests","title":"Get All Top-Up Requests","text":"<pre><code>GET /api/finance/top-ups\nQuery Parameters:\n  - status?: 'pending' | 'approved' | 'rejected'\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#process-top-up-request","title":"Process Top-Up Request","text":"<pre><code>PUT /api/finance/top-ups/:topUpId/process\nBody: {\n  action: 'approve' | 'reject';\n  adminNotes?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#analytics-reporting","title":"Analytics &amp; Reporting","text":"<p>Base Path: <code>/api/analytics</code></p>"},{"location":"frontend/admin-routes/#dashboard-analytics","title":"Dashboard Analytics","text":"<pre><code>GET /api/analytics/dashboard\nQuery Parameters:\n  - timeframe?: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n</code></pre> <p>Response: <pre><code>{\n  success: true,\n  data: {\n    overview: {\n      totalUsers: number;\n      activeUsers: number;\n      totalBookings: number;\n      totalRevenue: number;\n      totalServices: number;\n    };\n    trends: {\n      users: TrendData[];\n      bookings: TrendData[];\n      revenue: TrendData[];\n    };\n    topPerformers: {\n      services: Service[];\n      providers: Provider[];\n    };\n  }\n}\n</code></pre></p>"},{"location":"frontend/admin-routes/#real-time-metrics","title":"Real-Time Metrics","text":"<pre><code>GET /api/analytics/realtime\n</code></pre>"},{"location":"frontend/admin-routes/#time-series-data","title":"Time Series Data","text":"<pre><code>GET /api/analytics/time-series\nQuery Parameters:\n  - metric: 'users' | 'bookings' | 'revenue' | 'services' | 'jobs'\n  - timeframe: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n  - granularity: 'hourly' | 'daily' | 'weekly' | 'monthly'\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#comparison-analytics","title":"Comparison Analytics","text":"<pre><code>GET /api/analytics/comparison\nQuery Parameters:\n  - timeframe: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n</code></pre>"},{"location":"frontend/admin-routes/#export-analytics","title":"Export Analytics","text":"<pre><code>GET /api/analytics/export\nQuery Parameters:\n  - type: 'overview' | 'users' | 'revenue' | 'bookings'\n  - timeframe: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n  - format: 'json' | 'csv'\n</code></pre>"},{"location":"frontend/admin-routes/#user-analytics","title":"User Analytics","text":"<pre><code>GET /api/analytics/users\nQuery Parameters:\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#financial-analytics","title":"Financial Analytics","text":"<pre><code>GET /api/analytics/financial\nQuery Parameters:\n  - timeframe: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n</code></pre>"},{"location":"frontend/admin-routes/#marketplace-analytics","title":"Marketplace Analytics","text":"<pre><code>GET /api/analytics/marketplace\nQuery Parameters:\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#job-analytics","title":"Job Analytics","text":"<pre><code>GET /api/analytics/jobs\nQuery Parameters:\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#referral-analytics","title":"Referral Analytics","text":"<pre><code>GET /api/analytics/referrals\nQuery Parameters:\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#agency-analytics","title":"Agency Analytics","text":"<pre><code>GET /api/analytics/agencies\nQuery Parameters:\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#custom-analytics","title":"Custom Analytics","text":"<pre><code>GET /api/analytics/custom\nQuery Parameters:\n  - eventType?: string\n  - module?: string\n  - startDate?: string (ISO 8601)\n  - endDate?: string (ISO 8601)\n</code></pre>"},{"location":"frontend/admin-routes/#provider-analytics","title":"Provider Analytics","text":"<pre><code>GET /api/analytics/provider/:providerId\nQuery Parameters:\n  - timeframe: '1h' | '24h' | '7d' | '30d' | '90d' | '1y'\n</code></pre>"},{"location":"frontend/admin-routes/#system-settings","title":"System Settings","text":"<p>Base Path: <code>/api/settings</code></p>"},{"location":"frontend/admin-routes/#get-app-settings","title":"Get App Settings","text":"<pre><code>GET /api/settings/app\n</code></pre> <p>Response: <pre><code>{\n  success: true,\n  data: {\n    general: {\n      appName: string;\n      appVersion: string;\n      maintenanceMode: boolean;\n    };\n    business: {\n      companyName: string;\n      supportEmail: string;\n      supportPhone: string;\n    };\n    features: {\n      marketplace: { enabled: boolean };\n      academy: { enabled: boolean };\n      // ... other features\n    };\n    payments: {\n      defaultCurrency: string;\n      supportedCurrencies: string[];\n    };\n    // ... other settings\n  }\n}\n</code></pre></p>"},{"location":"frontend/admin-routes/#update-app-settings","title":"Update App Settings","text":"<pre><code>PUT /api/settings/app\nBody: {\n  general?: {\n    appName?: string;\n    maintenanceMode?: boolean;\n  };\n  business?: {\n    companyName?: string;\n    supportEmail?: string;\n  };\n  features?: {\n    [featureName]: { enabled: boolean };\n  };\n  // ... other settings\n}\n</code></pre>"},{"location":"frontend/admin-routes/#update-settings-category","title":"Update Settings Category","text":"<pre><code>PUT /api/settings/app/:category\nBody: {\n  // Category-specific settings\n}\n</code></pre> <p>Categories: <code>general</code>, <code>business</code>, <code>features</code>, <code>uploads</code>, <code>payments</code>, <code>security</code>, <code>notifications</code>, <code>integrations</code>, <code>analytics</code></p>"},{"location":"frontend/admin-routes/#toggle-feature-flag","title":"Toggle Feature Flag","text":"<pre><code>POST /api/settings/app/features/toggle\nBody: {\n  feature: string; // e.g., 'marketplace', 'academy'\n  enabled: boolean;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#get-app-health","title":"Get App Health","text":"<pre><code>GET /api/settings/app/health\n</code></pre>"},{"location":"frontend/admin-routes/#marketplace-management","title":"Marketplace Management","text":"<p>Base Path: <code>/api/marketplace</code></p>"},{"location":"frontend/admin-routes/#service-category-management","title":"Service Category Management","text":"<p>See Content Moderation - Marketplace Services</p>"},{"location":"frontend/admin-routes/#service-statistics","title":"Service Statistics","text":"<pre><code>GET /api/marketplace/services/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#academy-management","title":"Academy Management","text":"<p>Base Path: <code>/api/academy</code></p>"},{"location":"frontend/admin-routes/#get-course-statistics","title":"Get Course Statistics","text":"<pre><code>GET /api/academy/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#category-management","title":"Category Management","text":"<pre><code>// Create category\nPOST /api/academy/categories\nBody: {\n  name: string;\n  description?: string;\n  icon?: string;\n}\n\n// Update category\nPUT /api/academy/categories/:id\nBody: {\n  name?: string;\n  description?: string;\n  icon?: string;\n}\n\n// Delete category\nDELETE /api/academy/categories/:id\n</code></pre>"},{"location":"frontend/admin-routes/#certification-management","title":"Certification Management","text":"<pre><code>// Create certification\nPOST /api/academy/certifications\nBody: {\n  name: string;\n  description?: string;\n  requirements?: string[];\n}\n\n// Update certification\nPUT /api/academy/certifications/:id\n\n// Delete certification\nDELETE /api/academy/certifications/:id\n</code></pre>"},{"location":"frontend/admin-routes/#enrollment-management","title":"Enrollment Management","text":"<pre><code>// List all enrollments\nGET /api/academy/enrollments\nQuery Parameters:\n  - courseId?: string\n  - status?: string\n  - page?: number\n  - limit?: number\n\n// Update enrollment status\nPUT /api/academy/enrollments/:id/status\nBody: {\n  status: 'pending' | 'approved' | 'rejected' | 'completed';\n}\n\n// Delete enrollment\nDELETE /api/academy/enrollments/:id\n</code></pre>"},{"location":"frontend/admin-routes/#supplies-management","title":"Supplies Management","text":"<p>Base Path: <code>/api/supplies</code></p>"},{"location":"frontend/admin-routes/#get-supply-statistics","title":"Get Supply Statistics","text":"<pre><code>GET /api/supplies/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#rentals-management","title":"Rentals Management","text":"<p>Base Path: <code>/api/rentals</code></p>"},{"location":"frontend/admin-routes/#get-rental-statistics","title":"Get Rental Statistics","text":"<pre><code>GET /api/rentals/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#jobs-management","title":"Jobs Management","text":"<p>Base Path: <code>/api/jobs</code></p>"},{"location":"frontend/admin-routes/#job-moderation","title":"Job Moderation","text":"<pre><code>// Approve job\nPUT /api/jobs/:id/approve\nBody: {\n  notes?: string;\n}\n\n// Reject job\nPUT /api/jobs/:id/reject\nBody: {\n  reason: string;\n  notes?: string;\n}\n\n// Get pending jobs\nGET /api/jobs/pending\nQuery Parameters:\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#agencies-management","title":"Agencies Management","text":"<p>Base Path: <code>/api/agencies</code></p>"},{"location":"frontend/admin-routes/#agency-moderation","title":"Agency Moderation","text":"<pre><code>// Approve agency\nPUT /api/agencies/:id/approve\nBody: {\n  notes?: string;\n}\n\n// Reject agency\nPUT /api/agencies/:id/reject\nBody: {\n  reason: string;\n  notes?: string;\n}\n\n// Get pending agencies\nGET /api/agencies/pending\nQuery Parameters:\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#providers-management","title":"Providers Management","text":"<p>Base Path: <code>/api/providers</code></p>"},{"location":"frontend/admin-routes/#get-all-providers-admin","title":"Get All Providers (Admin)","text":"<pre><code>GET /api/providers/admin/all\nQuery Parameters:\n  - status?: string\n  - verified?: boolean\n  - page?: number\n  - limit?: number\n  - search?: string\n</code></pre>"},{"location":"frontend/admin-routes/#update-provider-status-admin","title":"Update Provider Status (Admin)","text":"<pre><code>PUT /api/providers/admin/:id/status\nBody: {\n  status: 'pending' | 'approved' | 'rejected' | 'suspended';\n  reason?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#update-provider-admin","title":"Update Provider (Admin)","text":"<pre><code>PUT /api/providers/admin/:id\nBody: {\n  // Provider fields to update\n  professionalInfo?: {\n    // Professional information\n  };\n  verification?: {\n    // Verification details\n  };\n}\n</code></pre>"},{"location":"frontend/admin-routes/#escrow-management","title":"Escrow Management","text":"<p>Base Path: <code>/api/escrows</code></p>"},{"location":"frontend/admin-routes/#get-all-escrows","title":"Get All Escrows","text":"<pre><code>GET /api/escrows/admin/all\nQuery Parameters:\n  - status?: string\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#get-escrow-statistics","title":"Get Escrow Statistics","text":"<pre><code>GET /api/escrows/admin/stats\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#resolve-dispute","title":"Resolve Dispute","text":"<pre><code>POST /api/escrows/:id/dispute/resolve\nBody: {\n  resolution: 'refund_buyer' | 'release_seller' | 'split';\n  amount?: number; // For split resolution\n  notes?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#notifications-management","title":"Notifications Management","text":"<p>Base Path: <code>/api/notifications</code></p>"},{"location":"frontend/admin-routes/#send-broadcast-notification","title":"Send Broadcast Notification","text":"<pre><code>POST /api/notifications/broadcast\nBody: {\n  title: string;\n  message: string;\n  type: 'info' | 'warning' | 'error' | 'success';\n  targetAudience: 'all' | 'clients' | 'providers' | 'suppliers';\n  data?: object;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#get-notification-statistics","title":"Get Notification Statistics","text":"<pre><code>GET /api/notifications/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#get-all-notifications","title":"Get All Notifications","text":"<pre><code>GET /api/notifications/all\nQuery Parameters:\n  - userId?: string\n  - type?: string\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#email-marketing","title":"Email Marketing","text":"<p>Base Path: <code>/api/email-marketing</code></p>"},{"location":"frontend/admin-routes/#campaign-management","title":"Campaign Management","text":"<pre><code>// Create campaign\nPOST /api/email-marketing/campaigns\nBody: {\n  name: string;\n  subject: string;\n  content: string;\n  targetAudience: string;\n  scheduledAt?: string;\n}\n\n// Get all campaigns\nGET /api/email-marketing/campaigns\nQuery Parameters:\n  - status?: string\n  - page?: number\n  - limit?: number\n\n// Get campaign\nGET /api/email-marketing/campaigns/:id\n\n// Update campaign\nPUT /api/email-marketing/campaigns/:id\n\n// Delete campaign\nDELETE /api/email-marketing/campaigns/:id\n\n// Duplicate campaign\nPOST /api/email-marketing/campaigns/:id/duplicate\n\n// Send campaign\nPOST /api/email-marketing/campaigns/:id/send\n\n// Pause campaign\nPOST /api/email-marketing/campaigns/:id/pause\n\n// Resume campaign\nPOST /api/email-marketing/campaigns/:id/resume\n\n// Cancel campaign\nPOST /api/email-marketing/campaigns/:id/cancel\n\n// Send test email\nPOST /api/email-marketing/campaigns/:id/test\nBody: {\n  email: string;\n}\n\n// Get campaign analytics\nGET /api/email-marketing/campaigns/:id/analytics\n</code></pre>"},{"location":"frontend/admin-routes/#subscriber-management","title":"Subscriber Management","text":"<pre><code>// Get subscribers\nGET /api/email-marketing/subscribers\nQuery Parameters:\n  - page?: number\n  - limit?: number\n  - status?: string\n\n// Get subscriber stats\nGET /api/email-marketing/subscribers/stats\n\n// Export subscribers\nGET /api/email-marketing/subscribers/export\nQuery Parameters:\n  - format?: 'json' | 'csv'\n\n// Import subscribers\nPOST /api/email-marketing/subscribers/import\nBody: FormData with CSV file\n\n// Get subscriber\nGET /api/email-marketing/subscribers/:id\n\n// Update subscriber\nPUT /api/email-marketing/subscribers/:id\n\n// Delete subscriber\nDELETE /api/email-marketing/subscribers/:id\n</code></pre>"},{"location":"frontend/admin-routes/#analytics","title":"Analytics","text":"<pre><code>// Get overall analytics\nGET /api/email-marketing/analytics\n\n// Get top campaigns\nGET /api/email-marketing/analytics/top-campaigns\n\n// Get daily stats\nGET /api/email-marketing/analytics/daily\n</code></pre>"},{"location":"frontend/admin-routes/#live-chat-management","title":"Live Chat Management","text":"<p>Base Path: <code>/api/admin/live-chat</code></p>"},{"location":"frontend/admin-routes/#get-all-chat-sessions","title":"Get All Chat Sessions","text":"<pre><code>GET /api/admin/live-chat/sessions\nQuery Parameters:\n  - status?: string\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#get-chat-analytics","title":"Get Chat Analytics","text":"<pre><code>GET /api/admin/live-chat/analytics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#delete-chat-session","title":"Delete Chat Session","text":"<pre><code>DELETE /api/admin/live-chat/sessions/:sessionId\n</code></pre>"},{"location":"frontend/admin-routes/#database-monitoring","title":"Database &amp; Monitoring","text":"<p>Base Path: <code>/api/database</code></p>"},{"location":"frontend/admin-routes/#database-optimization","title":"Database Optimization","text":"<pre><code>// Get optimization recommendations\nGET /api/database/optimization/recommendations\n\n// Run optimization\nPOST /api/database/optimization/run\nBody: {\n  type: string;\n  options?: object;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#database-monitoring_1","title":"Database Monitoring","text":"<pre><code>// Get database stats\nGET /api/database/monitoring/stats\n\n// Get slow queries\nGET /api/database/monitoring/slow-queries\nQuery Parameters:\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#audit-logs","title":"Audit Logs","text":"<p>Base Path: <code>/api/audit-logs</code></p>"},{"location":"frontend/admin-routes/#get-audit-logs","title":"Get Audit Logs","text":"<pre><code>GET /api/audit-logs\nQuery Parameters:\n  - userId?: string\n  - action?: string\n  - module?: string\n  - startDate?: string\n  - endDate?: string\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#get-audit-statistics","title":"Get Audit Statistics","text":"<pre><code>GET /api/audit-logs/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#error-monitoring","title":"Error Monitoring","text":"<p>Base Path: <code>/api/error-monitoring</code></p>"},{"location":"frontend/admin-routes/#get-errors","title":"Get Errors","text":"<pre><code>GET /api/error-monitoring/errors\nQuery Parameters:\n  - severity?: 'low' | 'medium' | 'high' | 'critical'\n  - status?: 'open' | 'resolved' | 'ignored'\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#get-error-statistics","title":"Get Error Statistics","text":"<pre><code>GET /api/error-monitoring/statistics\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#resolve-error","title":"Resolve Error","text":"<pre><code>PUT /api/error-monitoring/errors/:id/resolve\nBody: {\n  notes?: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#partners-management","title":"Partners Management","text":"<p>Base Path: <code>/api/partners</code></p> <p>All partner routes require admin access.</p>"},{"location":"frontend/admin-routes/#create-partner","title":"Create Partner","text":"<pre><code>POST /api/partners\nBody: {\n  name: string;\n  email: string;\n  phone?: string;\n  type: string;\n  status: string;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#get-partners","title":"Get Partners","text":"<pre><code>GET /api/partners\nQuery Parameters:\n  - status?: string\n  - type?: string\n  - page?: number\n  - limit?: number\n</code></pre>"},{"location":"frontend/admin-routes/#update-partner","title":"Update Partner","text":"<pre><code>PUT /api/partners/:id\n</code></pre>"},{"location":"frontend/admin-routes/#delete-partner","title":"Delete Partner","text":"<pre><code>DELETE /api/partners/:id\n</code></pre>"},{"location":"frontend/admin-routes/#scheduled-jobs","title":"Scheduled Jobs","text":"<p>Base Path: <code>/api/scheduled-jobs</code></p> <p>All scheduled job routes require admin access.</p>"},{"location":"frontend/admin-routes/#get-scheduled-jobs","title":"Get Scheduled Jobs","text":"<pre><code>GET /api/scheduled-jobs\nQuery Parameters:\n  - status?: string\n  - type?: string\n</code></pre>"},{"location":"frontend/admin-routes/#create-scheduled-job","title":"Create Scheduled Job","text":"<pre><code>POST /api/scheduled-jobs\nBody: {\n  name: string;\n  type: string;\n  schedule: string; // Cron expression\n  enabled: boolean;\n  config: object;\n}\n</code></pre>"},{"location":"frontend/admin-routes/#update-scheduled-job","title":"Update Scheduled Job","text":"<pre><code>PUT /api/scheduled-jobs/:id\n</code></pre>"},{"location":"frontend/admin-routes/#delete-scheduled-job","title":"Delete Scheduled Job","text":"<pre><code>DELETE /api/scheduled-jobs/:id\n</code></pre>"},{"location":"frontend/admin-routes/#run-job-manually","title":"Run Job Manually","text":"<pre><code>POST /api/scheduled-jobs/:id/run\n</code></pre>"},{"location":"frontend/admin-routes/#activity-feed-management","title":"Activity Feed Management","text":"<p>Base Path: <code>/api/activities</code></p>"},{"location":"frontend/admin-routes/#get-global-activity-stats","title":"Get Global Activity Stats","text":"<pre><code>GET /api/activities/stats/global\nQuery Parameters:\n  - timeframe?: '24h' | '7d' | '30d' | '90d'\n</code></pre>"},{"location":"frontend/admin-routes/#implementation-examples","title":"Implementation Examples","text":""},{"location":"frontend/admin-routes/#reacttypescript-example","title":"React/TypeScript Example","text":"<pre><code>import axios from 'axios';\n\nconst adminApi = {\n  // User Management\n  async getUsers(params: UserListParams) {\n    const response = await axios.get('/api/users', { params });\n    return response.data;\n  },\n\n  async updateUserStatus(userId: string, status: string) {\n    const response = await axios.patch(\n      `/api/users/${userId}/status`,\n      { status }\n    );\n    return response.data;\n  },\n\n  // Financial Management\n  async processWithdrawal(withdrawalId: string, action: 'approve' | 'reject') {\n    const response = await axios.put(\n      `/api/finance/withdrawals/${withdrawalId}/process`,\n      { action }\n    );\n    return response.data;\n  },\n\n  // Analytics\n  async getDashboardAnalytics(timeframe: string) {\n    const response = await axios.get('/api/analytics/dashboard', {\n      params: { timeframe }\n    });\n    return response.data;\n  },\n\n  // Settings\n  async toggleFeature(feature: string, enabled: boolean) {\n    const response = await axios.post('/api/settings/app/features/toggle', {\n      feature,\n      enabled\n    });\n    return response.data;\n  }\n};\n</code></pre>"},{"location":"frontend/admin-routes/#vuejs-example","title":"Vue.js Example","text":"<pre><code>// adminService.js\nimport apiClient from './apiClient';\n\nexport const adminService = {\n  // User Management\n  getUsers(params) {\n    return apiClient.get('/api/users', { params });\n  },\n\n  updateUserStatus(userId, status) {\n    return apiClient.patch(`/api/users/${userId}/status`, { status });\n  },\n\n  // Content Moderation\n  approveAd(adId, notes) {\n    return apiClient.put(`/api/ads/${adId}/approve`, { notes });\n  },\n\n  rejectAd(adId, reason) {\n    return apiClient.put(`/api/ads/${adId}/reject`, { reason });\n  },\n\n  // Analytics\n  getDashboardAnalytics(timeframe) {\n    return apiClient.get('/api/analytics/dashboard', {\n      params: { timeframe }\n    });\n  }\n};\n</code></pre>"},{"location":"frontend/admin-routes/#error-handling","title":"Error Handling","text":"<p>All admin routes return standard error responses:</p> <pre><code>{\n  success: false,\n  message: string,\n  error: string,\n  code?: string\n}\n</code></pre> <p>Common error codes: - <code>UNAUTHORIZED</code> - Missing or invalid token - <code>FORBIDDEN</code> - User doesn't have admin role - <code>NOT_FOUND</code> - Resource not found - <code>VALIDATION_ERROR</code> - Invalid request data - <code>SERVER_ERROR</code> - Internal server error</p>"},{"location":"frontend/admin-routes/#best-practices","title":"Best Practices","text":"<ol> <li>Always check admin role before showing admin features</li> <li>Handle errors gracefully with user-friendly messages</li> <li>Implement pagination for list endpoints</li> <li>Use loading states for async operations</li> <li>Cache analytics data to reduce API calls</li> <li>Validate inputs before sending requests</li> <li>Log admin actions for audit purposes</li> <li>Implement confirmation dialogs for destructive actions</li> </ol>"},{"location":"frontend/admin-routes/#next-steps","title":"Next Steps","text":"<ul> <li>Review Frontend Implementation Guide</li> <li>Check individual feature documentation</li> <li>Set up admin dashboard UI</li> <li>Implement role-based access control</li> <li>Add error handling and loading states</li> </ul>"},{"location":"frontend/implementation-guide/","title":"Frontend Implementation Guide","text":""},{"location":"frontend/implementation-guide/#overview","title":"Overview","text":"<p>This guide provides comprehensive documentation for implementing the LocalPro Super App frontend. It covers all features, modules, API integrations, and admin functionality.</p>"},{"location":"frontend/implementation-guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Getting Started</li> <li>Authentication &amp; Authorization</li> <li>API Integration</li> <li>Feature Modules</li> <li>Admin Dashboard</li> <li>Best Practices</li> <li>Error Handling</li> <li>State Management</li> </ol>"},{"location":"frontend/implementation-guide/#getting-started","title":"Getting Started","text":""},{"location":"frontend/implementation-guide/#base-api-url","title":"Base API URL","text":"<pre><code>Production: https://api.localpro.com\nDevelopment: http://localhost:5000\n</code></pre>"},{"location":"frontend/implementation-guide/#api-version","title":"API Version","text":"<p>All endpoints use version <code>/api/v1</code> (or just <code>/api</code> for current version).</p>"},{"location":"frontend/implementation-guide/#required-headers","title":"Required Headers","text":"<pre><code>{\n  'Content-Type': 'application/json',\n  'Authorization': 'Bearer &lt;JWT_TOKEN&gt;', // Required for authenticated routes\n  'X-Request-ID': '&lt;unique-request-id&gt;', // Optional but recommended\n}\n</code></pre>"},{"location":"frontend/implementation-guide/#response-format","title":"Response Format","text":"<p>All API responses follow this structure:</p> <pre><code>interface APIResponse&lt;T&gt; {\n  success: boolean;\n  message?: string;\n  data?: T;\n  error?: string;\n  code?: string;\n  pagination?: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n</code></pre>"},{"location":"frontend/implementation-guide/#error-response-format","title":"Error Response Format","text":"<pre><code>interface ErrorResponse {\n  success: false;\n  message: string;\n  error: string;\n  code?: string;\n  details?: any;\n}\n</code></pre>"},{"location":"frontend/implementation-guide/#authentication-authorization","title":"Authentication &amp; Authorization","text":""},{"location":"frontend/implementation-guide/#user-roles","title":"User Roles","text":"Role Code Description Client <code>client</code> Regular users who book services Provider <code>provider</code> Service providers Supplier <code>supplier</code> Product suppliers Instructor <code>instructor</code> Academy instructors Agency Admin <code>agency_admin</code> Agency administrators Agency Owner <code>agency_owner</code> Agency owners Admin <code>admin</code> Platform administrators Partner <code>partner</code> Business partners"},{"location":"frontend/implementation-guide/#authentication-flow","title":"Authentication Flow","text":"<ol> <li> <p>Send Verification Code <pre><code>POST /api/auth/send-code\nBody: { phoneNumber: string }\n</code></pre></p> </li> <li> <p>Verify Code &amp; Login <pre><code>POST /api/auth/verify-code\nBody: { phoneNumber: string, code: string }\nResponse: { token, user, expiresIn }\n</code></pre></p> </li> <li> <p>Store Token</p> </li> <li>Store JWT token securely (AsyncStorage/Keychain)</li> <li> <p>Include in all authenticated requests</p> </li> <li> <p>Get Current User <pre><code>GET /api/auth/me\nHeaders: { Authorization: 'Bearer &lt;token&gt;' }\n</code></pre></p> </li> </ol>"},{"location":"frontend/implementation-guide/#authorization-checks","title":"Authorization Checks","text":"<p>Always check user roles before showing/hiding features:</p> <pre><code>const hasRole = (user: User, role: string): boolean =&gt; {\n  return user.roles?.includes(role) || false;\n};\n\nconst isAdmin = (user: User): boolean =&gt; {\n  return hasRole(user, 'admin');\n};\n</code></pre>"},{"location":"frontend/implementation-guide/#api-integration","title":"API Integration","text":""},{"location":"frontend/implementation-guide/#http-client-setup","title":"HTTP Client Setup","text":"<pre><code>import axios from 'axios';\n\nconst apiClient = axios.create({\n  baseURL: process.env.API_BASE_URL || 'http://localhost:5000/api',\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor - Add auth token\napiClient.interceptors.request.use(\n  (config) =&gt; {\n    const token = getStoredToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) =&gt; Promise.reject(error)\n);\n\n// Response interceptor - Handle errors\napiClient.interceptors.response.use(\n  (response) =&gt; response.data,\n  (error) =&gt; {\n    if (error.response?.status === 401) {\n      // Handle unauthorized - redirect to login\n      clearStoredToken();\n      redirectToLogin();\n    }\n    return Promise.reject(error.response?.data || error);\n  }\n);\n</code></pre>"},{"location":"frontend/implementation-guide/#pagination","title":"Pagination","text":"<p>All list endpoints support pagination:</p> <pre><code>interface PaginationParams {\n  page?: number;      // Default: 1\n  limit?: number;     // Default: 10, Max: 100\n  sort?: string;      // e.g., \"createdAt:desc\"\n  search?: string;    // Search query\n}\n</code></pre> <p>Example: <pre><code>GET /api/services?page=1&amp;limit=20&amp;sort=createdAt:desc&amp;search=plumbing\n</code></pre></p>"},{"location":"frontend/implementation-guide/#file-uploads","title":"File Uploads","text":"<p>For file uploads, use <code>multipart/form-data</code>:</p> <pre><code>const formData = new FormData();\nformData.append('image', {\n  uri: imageUri,\n  type: 'image/jpeg',\n  name: 'photo.jpg',\n});\n\nawait apiClient.post('/api/services/images', formData, {\n  headers: {\n    'Content-Type': 'multipart/form-data',\n  },\n});\n</code></pre>"},{"location":"frontend/implementation-guide/#feature-modules","title":"Feature Modules","text":""},{"location":"frontend/implementation-guide/#1-marketplace-services","title":"1. Marketplace (Services)","text":"<p>Base Path: <code>/api/marketplace</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints","title":"Key Endpoints","text":"<ul> <li><code>GET /services</code> - List all services (public)</li> <li><code>GET /services/:id</code> - Get service details</li> <li><code>GET /services/nearby</code> - Get nearby services</li> <li><code>GET /services/categories</code> - Get service categories</li> <li><code>POST /services</code> - Create service (provider/admin)</li> <li><code>PUT /services/:id</code> - Update service (provider/admin)</li> <li><code>DELETE /services/:id</code> - Delete service (provider/admin)</li> </ul>"},{"location":"frontend/implementation-guide/#implementation-example","title":"Implementation Example","text":"<pre><code>// Get services with filters\nconst getServices = async (filters: ServiceFilters) =&gt; {\n  const params = new URLSearchParams({\n    page: filters.page?.toString() || '1',\n    limit: filters.limit?.toString() || '20',\n    ...(filters.category &amp;&amp; { category: filters.category }),\n    ...(filters.search &amp;&amp; { search: filters.search }),\n    ...(filters.location &amp;&amp; { \n      lat: filters.location.lat.toString(),\n      lng: filters.location.lng.toString(),\n      radius: filters.radius?.toString() || '10'\n    }),\n  });\n\n  return apiClient.get(`/marketplace/services?${params}`);\n};\n</code></pre> <p>See Marketplace Implementation for details.</p>"},{"location":"frontend/implementation-guide/#2-bookings","title":"2. Bookings","text":"<p>Base Path: <code>/api/marketplace</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_1","title":"Key Endpoints","text":"<ul> <li><code>POST /bookings</code> - Create booking</li> <li><code>GET /my-bookings</code> - Get user bookings</li> <li><code>GET /bookings/:id</code> - Get booking details</li> <li><code>PUT /bookings/:id/status</code> - Update booking status</li> <li><code>POST /bookings/:id/reviews</code> - Add review</li> </ul> <p>See Bookings Implementation for details.</p>"},{"location":"frontend/implementation-guide/#3-academy-courses","title":"3. Academy &amp; Courses","text":"<p>Base Path: <code>/api/academy</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_2","title":"Key Endpoints","text":"<ul> <li><code>GET /courses</code> - List courses</li> <li><code>GET /courses/:id</code> - Get course details</li> <li><code>POST /courses/:id/enroll</code> - Enroll in course</li> <li><code>GET /my-courses</code> - Get enrolled courses</li> <li><code>GET /courses/:id/progress</code> - Get course progress</li> </ul> <p>See Academy Implementation for details.</p>"},{"location":"frontend/implementation-guide/#4-supplies-e-commerce","title":"4. Supplies (E-Commerce)","text":"<p>Base Path: <code>/api/supplies</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_3","title":"Key Endpoints","text":"<ul> <li><code>GET /products</code> - List products</li> <li><code>GET /products/:id</code> - Get product details</li> <li><code>POST /orders</code> - Create order</li> <li><code>GET /my-orders</code> - Get user orders</li> <li><code>GET /orders/:id</code> - Get order details</li> </ul> <p>See Supplies Implementation for details.</p>"},{"location":"frontend/implementation-guide/#5-rentals","title":"5. Rentals","text":"<p>Base Path: <code>/api/rentals</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_4","title":"Key Endpoints","text":"<ul> <li><code>GET /items</code> - List rental items</li> <li><code>GET /items/:id</code> - Get item details</li> <li><code>POST /bookings</code> - Create rental booking</li> <li><code>GET /my-bookings</code> - Get rental bookings</li> </ul> <p>See Rentals Implementation for details.</p>"},{"location":"frontend/implementation-guide/#6-jobs-job-board","title":"6. Jobs (Job Board)","text":"<p>Base Path: <code>/api/jobs</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_5","title":"Key Endpoints","text":"<ul> <li><code>GET /jobs</code> - List job postings</li> <li><code>GET /jobs/:id</code> - Get job details</li> <li><code>POST /jobs/:id/apply</code> - Apply for job</li> <li><code>GET /my-applications</code> - Get user applications</li> </ul> <p>See Jobs Implementation for details.</p>"},{"location":"frontend/implementation-guide/#7-finance-wallet","title":"7. Finance &amp; Wallet","text":"<p>Base Path: <code>/api/finance</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_6","title":"Key Endpoints","text":"<ul> <li><code>GET /wallet</code> - Get wallet balance</li> <li><code>POST /wallet/top-up</code> - Top up wallet</li> <li><code>POST /wallet/withdraw</code> - Request withdrawal</li> <li><code>GET /transactions</code> - Get transaction history</li> </ul> <p>See Finance Implementation for details.</p>"},{"location":"frontend/implementation-guide/#8-localpro-plus-subscriptions","title":"8. LocalPro Plus (Subscriptions)","text":"<p>Base Path: <code>/api/localpro-plus</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_7","title":"Key Endpoints","text":"<ul> <li><code>GET /subscriptions</code> - Get subscriptions</li> <li><code>POST /subscribe</code> - Subscribe to plan</li> <li><code>PUT /cancel</code> - Cancel subscription</li> <li><code>GET /benefits</code> - Get subscription benefits</li> </ul> <p>See Subscriptions Implementation for details.</p>"},{"location":"frontend/implementation-guide/#9-communication-messaging","title":"9. Communication &amp; Messaging","text":"<p>Base Path: <code>/api/communication</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_8","title":"Key Endpoints","text":"<ul> <li><code>GET /conversations</code> - Get conversations</li> <li><code>GET /conversations/:id/messages</code> - Get messages</li> <li><code>POST /conversations/:id/messages</code> - Send message</li> <li><code>POST /conversations</code> - Create conversation</li> </ul> <p>See Communication Implementation for details.</p>"},{"location":"frontend/implementation-guide/#10-trust-verification","title":"10. Trust Verification","text":"<p>Base Path: <code>/api/trust-verification</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_9","title":"Key Endpoints","text":"<ul> <li><code>GET /status</code> - Get verification status</li> <li><code>POST /request</code> - Request verification</li> <li><code>POST /documents</code> - Upload verification documents</li> </ul> <p>See Trust Verification Implementation for details.</p>"},{"location":"frontend/implementation-guide/#11-referrals","title":"11. Referrals","text":"<p>Base Path: <code>/api/referrals</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_10","title":"Key Endpoints","text":"<ul> <li><code>GET /code</code> - Get referral code</li> <li><code>GET /stats</code> - Get referral statistics</li> <li><code>GET /history</code> - Get referral history</li> </ul> <p>See Referrals Implementation for details.</p>"},{"location":"frontend/implementation-guide/#12-agencies","title":"12. Agencies","text":"<p>Base Path: <code>/api/agencies</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_11","title":"Key Endpoints","text":"<ul> <li><code>GET /agencies</code> - List agencies</li> <li><code>GET /agencies/:id</code> - Get agency details</li> <li><code>POST /agencies</code> - Create agency (agency_owner)</li> <li><code>PUT /agencies/:id</code> - Update agency</li> </ul> <p>See Agencies Implementation for details.</p>"},{"location":"frontend/implementation-guide/#13-facility-care","title":"13. Facility Care","text":"<p>Base Path: <code>/api/facility-care</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_12","title":"Key Endpoints","text":"<ul> <li><code>GET /facilities</code> - List facilities</li> <li><code>POST /facilities</code> - Create facility</li> <li><code>POST /work-orders</code> - Create work order</li> <li><code>GET /work-orders</code> - Get work orders</li> </ul> <p>See Facility Care Implementation for details.</p>"},{"location":"frontend/implementation-guide/#14-ads-advertising","title":"14. Ads (Advertising)","text":"<p>Base Path: <code>/api/ads</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_13","title":"Key Endpoints","text":"<ul> <li><code>GET /ads</code> - List ads</li> <li><code>POST /ads</code> - Create ad</li> <li><code>GET /my-ads</code> - Get user ads</li> <li><code>PUT /ads/:id</code> - Update ad</li> </ul> <p>See Ads Implementation for details.</p>"},{"location":"frontend/implementation-guide/#15-announcements","title":"15. Announcements","text":"<p>Base Path: <code>/api/announcements</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_14","title":"Key Endpoints","text":"<ul> <li><code>GET /announcements</code> - List announcements</li> <li><code>GET /announcements/:id</code> - Get announcement details</li> <li><code>POST /announcements</code> - Create announcement (admin)</li> </ul> <p>See Announcements Implementation for details.</p>"},{"location":"frontend/implementation-guide/#16-activity-feed","title":"16. Activity Feed","text":"<p>Base Path: <code>/api/activities</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_15","title":"Key Endpoints","text":"<ul> <li><code>GET /activities</code> - Get activity feed</li> <li><code>POST /activities</code> - Create activity</li> <li><code>GET /activities/:id</code> - Get activity details</li> </ul> <p>See Activity Feed Implementation for details.</p>"},{"location":"frontend/implementation-guide/#17-search","title":"17. Search","text":"<p>Base Path: <code>/api/search</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_16","title":"Key Endpoints","text":"<ul> <li><code>GET /global</code> - Global search across all entities</li> <li><code>GET /services</code> - Search services</li> <li><code>GET /users</code> - Search users</li> <li><code>GET /products</code> - Search products</li> </ul> <p>See Search Implementation for details.</p>"},{"location":"frontend/implementation-guide/#18-analytics","title":"18. Analytics","text":"<p>Base Path: <code>/api/analytics</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_17","title":"Key Endpoints","text":"<ul> <li><code>GET /dashboard</code> - Get analytics dashboard</li> <li><code>GET /revenue</code> - Get revenue analytics</li> <li><code>GET /users</code> - Get user analytics</li> <li><code>GET /services</code> - Get service analytics</li> </ul> <p>See Analytics Implementation for details.</p>"},{"location":"frontend/implementation-guide/#19-notifications","title":"19. Notifications","text":"<p>Base Path: <code>/api/notifications</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_18","title":"Key Endpoints","text":"<ul> <li><code>GET /notifications</code> - Get notifications</li> <li><code>PUT /notifications/:id/read</code> - Mark as read</li> <li><code>PUT /notifications/read-all</code> - Mark all as read</li> <li><code>GET /settings</code> - Get notification settings</li> <li><code>PUT /settings</code> - Update notification settings</li> </ul> <p>See Notifications Implementation for details.</p>"},{"location":"frontend/implementation-guide/#20-settings","title":"20. Settings","text":"<p>Base Path: <code>/api/settings</code></p>"},{"location":"frontend/implementation-guide/#key-endpoints_19","title":"Key Endpoints","text":"<ul> <li><code>GET /app/public</code> - Get public app settings</li> <li><code>GET /user</code> - Get user settings</li> <li><code>PUT /user</code> - Update user settings</li> <li><code>GET /app</code> - Get app settings (admin)</li> <li><code>PUT /app</code> - Update app settings (admin)</li> </ul> <p>See Settings Implementation for details.</p>"},{"location":"frontend/implementation-guide/#admin-dashboard","title":"Admin Dashboard","text":"<p>The admin dashboard provides comprehensive management tools for all platform features.</p>"},{"location":"frontend/implementation-guide/#admin-routes-overview","title":"Admin Routes Overview","text":"<p>All admin routes require: - Authentication: Valid JWT token - Authorization: <code>admin</code> role</p> <p>See Admin Routes Documentation for complete details.</p>"},{"location":"frontend/implementation-guide/#quick-access","title":"Quick Access","text":"<ul> <li>User Management: <code>/api/users</code></li> <li>Content Moderation: Feature-specific admin endpoints</li> <li>Financial Management: <code>/api/finance</code> (admin endpoints)</li> <li>System Settings: <code>/api/settings/app</code></li> <li>Analytics: <code>/api/analytics</code></li> <li>Audit Logs: <code>/api/audit-logs</code></li> <li>Error Monitoring: <code>/api/error-monitoring</code></li> </ul>"},{"location":"frontend/implementation-guide/#best-practices","title":"Best Practices","text":""},{"location":"frontend/implementation-guide/#1-error-handling","title":"1. Error Handling","text":"<pre><code>try {\n  const response = await apiClient.get('/api/services');\n  // Handle success\n} catch (error) {\n  if (error.response) {\n    // Server responded with error\n    const { status, data } = error.response;\n    switch (status) {\n      case 400:\n        // Bad request\n        break;\n      case 401:\n        // Unauthorized - redirect to login\n        break;\n      case 403:\n        // Forbidden - show access denied\n        break;\n      case 404:\n        // Not found\n        break;\n      case 500:\n        // Server error\n        break;\n    }\n  } else if (error.request) {\n    // Request made but no response\n    // Network error\n  }\n}\n</code></pre>"},{"location":"frontend/implementation-guide/#2-loading-states","title":"2. Loading States","text":"<p>Always show loading indicators for async operations:</p> <pre><code>const [loading, setLoading] = useState(false);\nconst [error, setError] = useState(null);\n\nconst fetchData = async () =&gt; {\n  setLoading(true);\n  setError(null);\n  try {\n    const data = await apiClient.get('/api/services');\n    // Handle data\n  } catch (err) {\n    setError(err.message);\n  } finally {\n    setLoading(false);\n  }\n};\n</code></pre>"},{"location":"frontend/implementation-guide/#3-caching","title":"3. Caching","text":"<p>Implement caching for frequently accessed data:</p> <pre><code>// Use React Query, SWR, or similar\nimport { useQuery } from 'react-query';\n\nconst { data, isLoading, error } = useQuery(\n  'services',\n  () =&gt; apiClient.get('/api/services'),\n  {\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    cacheTime: 10 * 60 * 1000, // 10 minutes\n  }\n);\n</code></pre>"},{"location":"frontend/implementation-guide/#4-optimistic-updates","title":"4. Optimistic Updates","text":"<p>For better UX, update UI optimistically:</p> <pre><code>const updateService = async (id, updates) =&gt; {\n  // Optimistically update UI\n  const previousData = queryClient.getQueryData('services');\n  queryClient.setQueryData('services', (old) =&gt; \n    old.map(service =&gt; \n      service.id === id ? { ...service, ...updates } : service\n    )\n  );\n\n  try {\n    await apiClient.put(`/api/services/${id}`, updates);\n  } catch (error) {\n    // Revert on error\n    queryClient.setQueryData('services', previousData);\n    throw error;\n  }\n};\n</code></pre>"},{"location":"frontend/implementation-guide/#state-management","title":"State Management","text":""},{"location":"frontend/implementation-guide/#recommended-approach","title":"Recommended Approach","text":"<p>Use a combination of: - React Query / SWR: For server state - Context API / Redux: For client state - Local Storage: For persistence</p>"},{"location":"frontend/implementation-guide/#example-structure","title":"Example Structure","text":"<pre><code>// Store structure\n{\n  auth: {\n    user: User | null;\n    token: string | null;\n    isAuthenticated: boolean;\n  },\n  services: {\n    list: Service[];\n    selected: Service | null;\n    filters: ServiceFilters;\n  },\n  bookings: {\n    list: Booking[];\n    active: Booking[];\n  },\n  // ... other features\n}\n</code></pre>"},{"location":"frontend/implementation-guide/#next-steps","title":"Next Steps","text":"<ol> <li>Review Admin Routes Documentation for admin functionality</li> <li>Review individual feature implementation guides</li> <li>Set up your development environment</li> <li>Implement authentication flow</li> <li>Start with core features (Marketplace, Bookings)</li> <li>Add admin dashboard functionality</li> </ol>"},{"location":"frontend/implementation-guide/#additional-resources","title":"Additional Resources","text":"<ul> <li>API Reference</li> <li>Error Codes Reference</li> <li>Environment Variables Reference</li> <li>Postman Collection</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration Guide","text":""},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>See Environment Variables Reference for complete list.</p>"},{"location":"getting-started/configuration/#quick-configuration","title":"Quick Configuration","text":""},{"location":"getting-started/configuration/#1-copy-environment-template","title":"1. Copy Environment Template","text":"<pre><code>cp env.example .env\n</code></pre>"},{"location":"getting-started/configuration/#2-required-configuration","title":"2. Required Configuration","text":"<pre><code># Server\nNODE_ENV=development\nPORT=5000\n\n# Database\nMONGODB_URI=mongodb://localhost:27017/localpro-super-app\n\n# JWT\nJWT_SECRET=your-strong-secret-key-here\n</code></pre>"},{"location":"getting-started/configuration/#3-external-services","title":"3. External Services","text":"<p>Configure based on features you need:</p> <p>SMS (Twilio): <pre><code>TWILIO_ACCOUNT_SID=your-sid\nTWILIO_AUTH_TOKEN=your-token\nTWILIO_PHONE_NUMBER=+1234567890\n</code></pre></p> <p>File Storage (Cloudinary): <pre><code>CLOUDINARY_CLOUD_NAME=your-cloud-name\nCLOUDINARY_API_KEY=your-key\nCLOUDINARY_API_SECRET=your-secret\n</code></pre></p> <p>Payments: <pre><code># PayPal\nPAYPAL_CLIENT_ID=your-client-id\nPAYPAL_CLIENT_SECRET=your-secret\nPAYPAL_MODE=sandbox\n\n# PayMongo\nPAYMONGO_SECRET_KEY=sk_test_...\nPAYMONGO_PUBLIC_KEY=pk_test_...\n</code></pre></p>"},{"location":"getting-started/configuration/#application-settings","title":"Application Settings","text":""},{"location":"getting-started/configuration/#app-settings-api","title":"App Settings API","text":"<p>Configure app-wide settings via API:</p> <pre><code>PUT /api/settings/app\nBody: {\n  general: {\n    appName: \"LocalPro\",\n    maintenanceMode: false\n  },\n  features: {\n    marketplace: { enabled: true },\n    academy: { enabled: true }\n  }\n}\n</code></pre>"},{"location":"getting-started/configuration/#feature-toggles","title":"Feature Toggles","text":"<p>Enable/disable features:</p> <pre><code>POST /api/settings/app/features/toggle\nBody: {\n  feature: \"marketplace\",\n  enabled: true\n}\n</code></pre>"},{"location":"getting-started/configuration/#database-configuration","title":"Database Configuration","text":""},{"location":"getting-started/configuration/#connection-options","title":"Connection Options","text":"<pre><code># Basic\nMONGODB_URI=mongodb://localhost:27017/localpro-super-app\n\n# With Authentication\nMONGODB_URI=mongodb://user:pass@localhost:27017/localpro-super-app\n\n# MongoDB Atlas\nMONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/localpro\n</code></pre>"},{"location":"getting-started/configuration/#connection-pool-settings","title":"Connection Pool Settings","text":"<pre><code>MONGODB_MAX_POOL_SIZE=10\nMONGODB_MIN_POOL_SIZE=2\nMONGODB_SERVER_SELECTION_TIMEOUT=5000\n</code></pre>"},{"location":"getting-started/configuration/#security-configuration","title":"Security Configuration","text":""},{"location":"getting-started/configuration/#cors","title":"CORS","text":"<pre><code>FRONTEND_URL=http://localhost:3000\nADMIN_URL=http://localhost:3001\n</code></pre>"},{"location":"getting-started/configuration/#rate-limiting","title":"Rate Limiting","text":"<p>Configured in code, can be adjusted in middleware.</p>"},{"location":"getting-started/configuration/#logging-configuration","title":"Logging Configuration","text":"<pre><code>LOG_LEVEL=info  # debug, info, warn, error\nLOG_DIR=logs\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Review Quick Start Guide</li> <li>Check Development Setup</li> <li>See Environment Variables Reference</li> </ul>"},{"location":"getting-started/development-setup/","title":"Development Setup","text":"<p>Complete guide for setting up the development environment.</p>"},{"location":"getting-started/development-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js: 18.x or higher</li> <li>MongoDB: 6.0+ (local or Atlas)</li> <li>Git: Latest version</li> <li>Code Editor: VS Code recommended</li> </ul>"},{"location":"getting-started/development-setup/#step-by-step-setup","title":"Step-by-Step Setup","text":""},{"location":"getting-started/development-setup/#1-clone-repository","title":"1. Clone Repository","text":"<pre><code>git clone &lt;repository-url&gt;\ncd localpro-super-app\n</code></pre>"},{"location":"getting-started/development-setup/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code>npm install\n# or\npnpm install\n</code></pre>"},{"location":"getting-started/development-setup/#3-environment-configuration","title":"3. Environment Configuration","text":"<pre><code>cp env.example .env\n</code></pre> <p>Edit <code>.env</code> with your settings:</p> <pre><code>NODE_ENV=development\nPORT=5000\nMONGODB_URI=mongodb://localhost:27017/localpro-super-app\nJWT_SECRET=development-secret-key\n</code></pre>"},{"location":"getting-started/development-setup/#4-database-setup","title":"4. Database Setup","text":"<p>Local MongoDB: <pre><code>mongod\n</code></pre></p> <p>MongoDB Atlas: - Create free cluster - Get connection string - Update <code>MONGODB_URI</code></p>"},{"location":"getting-started/development-setup/#5-seed-database-optional","title":"5. Seed Database (Optional)","text":"<pre><code>npm run seed:categories\nnpm run seed:job-categories\n</code></pre>"},{"location":"getting-started/development-setup/#6-start-development-server","title":"6. Start Development Server","text":"<pre><code>npm run dev\n</code></pre> <p>Server runs with nodemon (auto-restart on changes).</p>"},{"location":"getting-started/development-setup/#development-tools","title":"Development Tools","text":""},{"location":"getting-started/development-setup/#vs-code-extensions","title":"VS Code Extensions","text":"<p>Recommended extensions: - ESLint - Prettier - MongoDB for VS Code - REST Client</p>"},{"location":"getting-started/development-setup/#debugging","title":"Debugging","text":"<p>Create <code>.vscode/launch.json</code>:</p> <pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Debug Server\",\n      \"program\": \"${workspaceFolder}/src/server.js\",\n      \"env\": {\n        \"NODE_ENV\": \"development\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"getting-started/development-setup/#available-scripts","title":"Available Scripts","text":"<ul> <li><code>npm start</code> - Production server</li> <li><code>npm run dev</code> - Development server (nodemon)</li> <li><code>npm test</code> - Run tests</li> <li><code>npm run lint</code> - Lint code</li> <li><code>npm run lint:fix</code> - Fix linting issues</li> <li><code>npm run coverage</code> - Test coverage</li> </ul>"},{"location":"getting-started/development-setup/#project-structure","title":"Project Structure","text":"<pre><code>localpro-super-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 config/          # Configuration\n\u2502   \u251c\u2500\u2500 controllers/     # Business logic\n\u2502   \u251c\u2500\u2500 middleware/      # Express middleware\n\u2502   \u251c\u2500\u2500 models/          # Mongoose models\n\u2502   \u251c\u2500\u2500 routes/          # API routes\n\u2502   \u251c\u2500\u2500 services/        # External services\n\u2502   \u2514\u2500\u2500 utils/           # Utilities\n\u251c\u2500\u2500 docs/                # Documentation\n\u251c\u2500\u2500 scripts/             # Utility scripts\n\u2514\u2500\u2500 tests/               # Test files\n</code></pre>"},{"location":"getting-started/development-setup/#testing","title":"Testing","text":""},{"location":"getting-started/development-setup/#run-tests","title":"Run Tests","text":"<pre><code>npm test\n</code></pre>"},{"location":"getting-started/development-setup/#watch-mode","title":"Watch Mode","text":"<pre><code>npm run test:watch\n</code></pre>"},{"location":"getting-started/development-setup/#coverage","title":"Coverage","text":"<pre><code>npm run coverage\n</code></pre>"},{"location":"getting-started/development-setup/#code-quality","title":"Code Quality","text":""},{"location":"getting-started/development-setup/#linting","title":"Linting","text":"<pre><code>npm run lint\nnpm run lint:fix\n</code></pre>"},{"location":"getting-started/development-setup/#formatting","title":"Formatting","text":"<p>Use Prettier (if configured) or follow ESLint rules.</p>"},{"location":"getting-started/development-setup/#database-management","title":"Database Management","text":""},{"location":"getting-started/development-setup/#reset-database","title":"Reset Database","text":"<pre><code>npm run setup:reset\n</code></pre>"},{"location":"getting-started/development-setup/#backup","title":"Backup","text":"<pre><code>mongodump --uri=\"$MONGODB_URI\" --out=./backups\n</code></pre>"},{"location":"getting-started/development-setup/#common-tasks","title":"Common Tasks","text":""},{"location":"getting-started/development-setup/#add-new-feature","title":"Add New Feature","text":"<ol> <li>Create route in <code>src/routes/</code></li> <li>Create controller in <code>src/controllers/</code></li> <li>Create model in <code>src/models/</code> (if needed)</li> <li>Add route to <code>src/server.js</code></li> <li>Write tests</li> </ol>"},{"location":"getting-started/development-setup/#debug-issues","title":"Debug Issues","text":"<ol> <li>Check logs in <code>logs/</code> directory</li> <li>Use debugger in VS Code</li> <li>Check MongoDB connection</li> <li>Verify environment variables</li> </ol>"},{"location":"getting-started/development-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Read Coding Standards</li> <li>Review Testing Guide</li> <li>Check Contributing Guidelines</li> </ul>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>Complete installation guide for LocalPro Super App Backend.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js: v18.x or higher</li> <li>MongoDB: v6.0 or higher</li> <li>npm: v9.x or higher</li> <li>Git: Latest version</li> </ul>"},{"location":"getting-started/installation/#quick-installation","title":"Quick Installation","text":"<pre><code># 1. Clone repository\ngit clone https://github.com/your-org/localpro-super-app.git\ncd localpro-super-app\n\n# 2. Install dependencies\nnpm install\n\n# 3. Configure environment\ncp env.example .env\n# Edit .env with your settings\n\n# 4. Run setup\nnpm run setup\n\n# 5. Start development server\nnpm run dev\n</code></pre>"},{"location":"getting-started/installation/#detailed-steps","title":"Detailed Steps","text":""},{"location":"getting-started/installation/#1-install-nodejs","title":"1. Install Node.js","text":"<p>Download and install Node.js from nodejs.org.</p> <p>Verify installation: <pre><code>node --version  # Should be v18.x or higher\nnpm --version   # Should be v9.x or higher\n</code></pre></p>"},{"location":"getting-started/installation/#2-install-mongodb","title":"2. Install MongoDB","text":""},{"location":"getting-started/installation/#option-a-local-installation","title":"Option A: Local Installation","text":"<p>Download from mongodb.com.</p>"},{"location":"getting-started/installation/#option-b-mongodb-atlas-cloud","title":"Option B: MongoDB Atlas (Cloud)","text":"<ol> <li>Sign up at mongodb.com/cloud/atlas</li> <li>Create a free cluster</li> <li>Get connection string</li> </ol>"},{"location":"getting-started/installation/#3-clone-repository","title":"3. Clone Repository","text":"<pre><code>git clone https://github.com/your-org/localpro-super-app.git\ncd localpro-super-app\n</code></pre>"},{"location":"getting-started/installation/#4-install-dependencies","title":"4. Install Dependencies","text":"<pre><code>npm install\n</code></pre>"},{"location":"getting-started/installation/#5-configure-environment","title":"5. Configure Environment","text":"<pre><code>cp env.example .env\n</code></pre> <p>Edit <code>.env</code> with your configuration:</p> <pre><code># Required\nMONGODB_URI=mongodb://localhost:27017/localpro-super-app\nJWT_SECRET=your-super-secret-jwt-key-here\n\n# Optional (for development)\nNODE_ENV=development\nPORT=5000\n</code></pre>"},{"location":"getting-started/installation/#6-run-setup-script","title":"6. Run Setup Script","text":"<pre><code>npm run setup\n</code></pre> <p>This will: - \u2705 Connect to MongoDB - \u2705 Create database indexes - \u2705 Create default app settings - \u2705 Create admin users - \u2705 Seed sample data</p>"},{"location":"getting-started/installation/#7-start-server","title":"7. Start Server","text":"<pre><code># Development mode (with auto-reload)\nnpm run dev\n\n# Production mode\nnpm start\n</code></pre> <p>Server will start on <code>http://localhost:5000</code></p>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<ol> <li> <p>Check server status: <pre><code>curl http://localhost:5000/health\n</code></pre></p> </li> <li> <p>Test API: <pre><code>curl http://localhost:5000/api/health\n</code></pre></p> </li> <li> <p>Access Swagger docs (if configured): <pre><code>http://localhost:5000/api-docs\n</code></pre></p> </li> </ol>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#mongodb-connection-issues","title":"MongoDB Connection Issues","text":"<pre><code># Check MongoDB is running\nmongosh\n\n# Or check service status\n# Windows\nnet start MongoDB\n\n# Linux/Mac\nsudo systemctl status mongod\n</code></pre>"},{"location":"getting-started/installation/#port-already-in-use","title":"Port Already in Use","text":"<pre><code># Change port in .env\nPORT=5001\n</code></pre>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<pre><code># Linux/Mac: Use sudo if needed\nsudo npm install\n\n# Or fix permissions\nsudo chown -R $USER:$USER .\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide</li> <li>Quick Start</li> <li>Development Setup</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get up and running with LocalPro Super App in 5 minutes.</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+</li> <li>MongoDB 6.0+</li> <li>npm or pnpm</li> </ul>"},{"location":"getting-started/quick-start/#installation","title":"Installation","text":""},{"location":"getting-started/quick-start/#1-clone-and-install","title":"1. Clone and Install","text":"<pre><code>git clone &lt;repository-url&gt;\ncd localpro-super-app\nnpm install\n</code></pre>"},{"location":"getting-started/quick-start/#2-configure-environment","title":"2. Configure Environment","text":"<pre><code>cp env.example .env\n# Edit .env with your configuration\n</code></pre> <p>Minimum required: <pre><code>MONGODB_URI=mongodb://localhost:27017/localpro-super-app\nJWT_SECRET=your-secret-key\n</code></pre></p>"},{"location":"getting-started/quick-start/#3-start-mongodb","title":"3. Start MongoDB","text":"<pre><code># Local MongoDB\nmongod\n\n# Or use MongoDB Atlas (cloud)\n</code></pre>"},{"location":"getting-started/quick-start/#4-start-server","title":"4. Start Server","text":"<pre><code>npm run dev\n</code></pre> <p>Server runs on <code>http://localhost:5000</code></p>"},{"location":"getting-started/quick-start/#first-api-call","title":"First API Call","text":""},{"location":"getting-started/quick-start/#1-send-verification-code","title":"1. Send Verification Code","text":"<pre><code>curl -X POST http://localhost:5000/api/auth/send-code \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"phoneNumber\": \"+1234567890\"}'\n</code></pre>"},{"location":"getting-started/quick-start/#2-verify-code","title":"2. Verify Code","text":"<pre><code>curl -X POST http://localhost:5000/api/auth/verify-code \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"phoneNumber\": \"+1234567890\", \"code\": \"123456\"}'\n</code></pre> <p>Response includes JWT token.</p>"},{"location":"getting-started/quick-start/#3-use-token","title":"3. Use Token","text":"<pre><code>curl -X GET http://localhost:5000/api/auth/me \\\n  -H \"Authorization: Bearer &lt;your-token&gt;\"\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Read Installation Guide</li> <li>Review Configuration</li> <li>Check Development Setup</li> <li>Explore API Documentation</li> </ul>"},{"location":"guides/historical-metrics/","title":"Historical Metrics Guide","text":""},{"location":"guides/historical-metrics/#overview","title":"Overview","text":"<p>This guide covers collecting and analyzing historical metrics for the LocalPro Super App.</p>"},{"location":"guides/historical-metrics/#metrics-collection","title":"Metrics Collection","text":""},{"location":"guides/historical-metrics/#automated-collection","title":"Automated Collection","text":"<p>Metrics are automatically collected: - User registrations - Bookings created - Payments processed - Service views - And more</p>"},{"location":"guides/historical-metrics/#manual-collection","title":"Manual Collection","text":"<pre><code>POST /api/analytics/track\nBody: {\n  eventType: 'custom_event',\n  module: 'marketplace',\n  data: { /* event data */ }\n}\n</code></pre>"},{"location":"guides/historical-metrics/#available-metrics","title":"Available Metrics","text":""},{"location":"guides/historical-metrics/#user-metrics","title":"User Metrics","text":"<ul> <li>New registrations</li> <li>Active users</li> <li>User growth</li> <li>User retention</li> </ul>"},{"location":"guides/historical-metrics/#booking-metrics","title":"Booking Metrics","text":"<ul> <li>Bookings created</li> <li>Booking completion rate</li> <li>Average booking value</li> <li>Booking trends</li> </ul>"},{"location":"guides/historical-metrics/#revenue-metrics","title":"Revenue Metrics","text":"<ul> <li>Total revenue</li> <li>Revenue by source</li> <li>Revenue trends</li> <li>Payment method distribution</li> </ul>"},{"location":"guides/historical-metrics/#service-metrics","title":"Service Metrics","text":"<ul> <li>Services created</li> <li>Service views</li> <li>Service bookings</li> <li>Popular categories</li> </ul>"},{"location":"guides/historical-metrics/#querying-metrics","title":"Querying Metrics","text":""},{"location":"guides/historical-metrics/#time-ranges","title":"Time Ranges","text":"<pre><code>GET /api/analytics/dashboard?timeframe=7d\nGET /api/analytics/users?startDate=2025-01-01&amp;endDate=2025-12-31\n</code></pre>"},{"location":"guides/historical-metrics/#timeframes","title":"Timeframes","text":"<ul> <li><code>1h</code> - Last hour</li> <li><code>24h</code> - Last 24 hours</li> <li><code>7d</code> - Last 7 days</li> <li><code>30d</code> - Last 30 days</li> <li><code>90d</code> - Last 90 days</li> <li><code>1y</code> - Last year</li> </ul>"},{"location":"guides/historical-metrics/#exporting-metrics","title":"Exporting Metrics","text":""},{"location":"guides/historical-metrics/#export-data","title":"Export Data","text":"<pre><code>GET /api/analytics/export?type=users&amp;format=csv&amp;timeframe=30d\n</code></pre>"},{"location":"guides/historical-metrics/#formats","title":"Formats","text":"<ul> <li><code>json</code> - JSON format</li> <li><code>csv</code> - CSV format</li> </ul>"},{"location":"guides/historical-metrics/#historical-data","title":"Historical Data","text":""},{"location":"guides/historical-metrics/#data-retention","title":"Data Retention","text":"<ul> <li>Real-time: Last 24 hours</li> <li>Historical: Last 90 days</li> <li>Archive: Older data archived</li> </ul>"},{"location":"guides/historical-metrics/#data-aggregation","title":"Data Aggregation","text":"<p>Metrics are aggregated: - Hourly aggregations - Daily aggregations - Weekly aggregations - Monthly aggregations</p>"},{"location":"guides/historical-metrics/#custom-metrics","title":"Custom Metrics","text":""},{"location":"guides/historical-metrics/#track-custom-events","title":"Track Custom Events","text":"<pre><code>await trackEvent({\n  eventType: 'service_viewed',\n  module: 'marketplace',\n  data: {\n    serviceId: '123',\n    category: 'cleaning'\n  }\n});\n</code></pre>"},{"location":"guides/historical-metrics/#query-custom-metrics","title":"Query Custom Metrics","text":"<pre><code>GET /api/analytics/custom?eventType=service_viewed&amp;startDate=2025-01-01\n</code></pre>"},{"location":"guides/historical-metrics/#analytics-dashboard","title":"Analytics Dashboard","text":""},{"location":"guides/historical-metrics/#dashboard-metrics","title":"Dashboard Metrics","text":"<ul> <li>Overview statistics</li> <li>Trend charts</li> <li>Top performers</li> <li>Recent activity</li> </ul>"},{"location":"guides/historical-metrics/#real-time-metrics","title":"Real-Time Metrics","text":"<pre><code>GET /api/analytics/realtime\n</code></pre>"},{"location":"guides/historical-metrics/#best-practices","title":"Best Practices","text":"<ol> <li>Track important events - Focus on key metrics</li> <li>Use consistent naming - Standardize event names</li> <li>Include context - Add relevant data</li> <li>Monitor trends - Track over time</li> <li>Export regularly - Keep historical data</li> </ol>"},{"location":"guides/historical-metrics/#tools","title":"Tools","text":"<ul> <li>Analytics API - Query metrics</li> <li>Export API - Export data</li> <li>Dashboard - Visual analytics</li> </ul>"},{"location":"guides/historical-metrics/#next-steps","title":"Next Steps","text":"<ul> <li>Review Analytics Feature</li> <li>Check Monitoring Guide</li> </ul>"},{"location":"guides/payment-integration/","title":"Payment Integration Guide","text":""},{"location":"guides/payment-integration/#overview","title":"Overview","text":"<p>LocalPro Super App supports multiple payment methods: PayPal and PayMaya (via PayMongo).</p>"},{"location":"guides/payment-integration/#paypal-integration","title":"PayPal Integration","text":""},{"location":"guides/payment-integration/#setup","title":"Setup","text":"<ol> <li>Get PayPal Credentials:</li> <li>Create PayPal app in developer dashboard</li> <li>Get Client ID and Secret</li> <li> <p>Choose Sandbox or Live mode</p> </li> <li> <p>Configure Environment:    <pre><code>PAYPAL_CLIENT_ID=your-client-id\nPAYPAL_CLIENT_SECRET=your-secret\nPAYPAL_MODE=sandbox  # or live\n</code></pre></p> </li> </ol>"},{"location":"guides/payment-integration/#create-payment","title":"Create Payment","text":"<pre><code>POST /api/paypal/create-order\nBody: {\n  amount: 100,\n  currency: 'USD',\n  description: 'Service booking'\n}\n</code></pre>"},{"location":"guides/payment-integration/#process-payment","title":"Process Payment","text":"<pre><code>POST /api/paypal/capture-order\nBody: {\n  orderId: 'paypal-order-id'\n}\n</code></pre>"},{"location":"guides/payment-integration/#paymayapaymongo-integration","title":"PayMaya/PayMongo Integration","text":""},{"location":"guides/payment-integration/#setup_1","title":"Setup","text":"<ol> <li>Get PayMongo Credentials:</li> <li>Create PayMongo account</li> <li> <p>Get Secret and Public keys</p> </li> <li> <p>Configure Environment:    <pre><code>PAYMONGO_SECRET_KEY=sk_test_...\nPAYMONGO_PUBLIC_KEY=pk_test_...\n</code></pre></p> </li> </ol>"},{"location":"guides/payment-integration/#create-payment-intent","title":"Create Payment Intent","text":"<pre><code>POST /api/paymongo/payment-intents\nBody: {\n  amount: 10000,  // in cents\n  currency: 'PHP',\n  description: 'Service booking'\n}\n</code></pre>"},{"location":"guides/payment-integration/#webhooks","title":"Webhooks","text":""},{"location":"guides/payment-integration/#paypal-webhook","title":"PayPal Webhook","text":"<pre><code>POST /api/paypal/webhook\nHeaders: {\n  'paypal-transmission-id': '...',\n  'paypal-cert-url': '...',\n  'paypal-auth-algo': '...',\n  'paypal-transmission-sig': '...',\n  'paypal-transmission-time': '...'\n}\n</code></pre>"},{"location":"guides/payment-integration/#paymongo-webhook","title":"PayMongo Webhook","text":"<pre><code>POST /api/paymongo/webhook\nHeaders: {\n  'paymongo-signature': '...'\n}\n</code></pre>"},{"location":"guides/payment-integration/#best-practices","title":"Best Practices","text":"<ol> <li>Always verify webhooks - Check signatures</li> <li>Handle failures - Implement retry logic</li> <li>Store transaction IDs - For reconciliation</li> <li>Test thoroughly - Use sandbox/test mode</li> <li>Monitor transactions - Set up alerts</li> </ol>"},{"location":"guides/payment-integration/#testing","title":"Testing","text":""},{"location":"guides/payment-integration/#paypal-sandbox","title":"PayPal Sandbox","text":"<ul> <li>Use sandbox credentials</li> <li>Test with PayPal test accounts</li> <li>Verify webhook delivery</li> </ul>"},{"location":"guides/payment-integration/#paymongo-test-mode","title":"PayMongo Test Mode","text":"<ul> <li>Use test API keys</li> <li>Test payment intents</li> <li>Verify webhook signatures</li> </ul>"},{"location":"guides/payment-integration/#next-steps","title":"Next Steps","text":"<ul> <li>Review Webhook Setup</li> <li>Check API Documentation</li> </ul>"},{"location":"guides/push-notifications/","title":"Push Notifications Guide","text":""},{"location":"guides/push-notifications/#overview","title":"Overview","text":"<p>This guide covers setting up push notifications using Firebase Cloud Messaging (FCM).</p>"},{"location":"guides/push-notifications/#firebase-setup","title":"Firebase Setup","text":""},{"location":"guides/push-notifications/#1-create-firebase-project","title":"1. Create Firebase Project","text":"<ol> <li>Go to Firebase Console</li> <li>Create new project</li> <li>Enable Cloud Messaging</li> </ol>"},{"location":"guides/push-notifications/#2-get-server-key","title":"2. Get Server Key","text":"<ol> <li>Go to Project Settings</li> <li>Cloud Messaging tab</li> <li>Copy Server Key</li> </ol>"},{"location":"guides/push-notifications/#3-configure-environment","title":"3. Configure Environment","text":"<pre><code>FCM_SERVER_KEY=your-server-key\n</code></pre>"},{"location":"guides/push-notifications/#client-setup","title":"Client Setup","text":""},{"location":"guides/push-notifications/#ios","title":"iOS","text":"<ol> <li>Add Firebase SDK</li> <li>Request notification permission</li> <li>Get FCM token</li> <li>Send token to backend</li> </ol>"},{"location":"guides/push-notifications/#android","title":"Android","text":"<ol> <li>Add Firebase SDK</li> <li>Get FCM token</li> <li>Send token to backend</li> </ol>"},{"location":"guides/push-notifications/#backend-integration","title":"Backend Integration","text":""},{"location":"guides/push-notifications/#store-fcm-tokens","title":"Store FCM Tokens","text":"<pre><code>// User model includes fcmTokens array\n{\n  fcmTokens: [{\n    token: 'fcm-token',\n    deviceId: 'device-id',\n    deviceType: 'ios' | 'android' | 'web'\n  }]\n}\n</code></pre>"},{"location":"guides/push-notifications/#send-notification","title":"Send Notification","text":"<pre><code>POST /api/notifications/send\nBody: {\n  userId: 'user-id',\n  title: 'Notification title',\n  message: 'Notification message',\n  data: { /* custom data */ }\n}\n</code></pre>"},{"location":"guides/push-notifications/#notification-types","title":"Notification Types","text":"<ul> <li><code>booking</code> - Booking notifications</li> <li><code>payment</code> - Payment notifications</li> <li><code>message</code> - Message notifications</li> <li><code>system</code> - System notifications</li> </ul>"},{"location":"guides/push-notifications/#implementation","title":"Implementation","text":""},{"location":"guides/push-notifications/#send-push-notification","title":"Send Push Notification","text":"<pre><code>const admin = require('firebase-admin');\n\nconst message = {\n  notification: {\n    title: 'New Booking',\n    body: 'You have a new booking request'\n  },\n  data: {\n    type: 'booking',\n    bookingId: '123'\n  },\n  token: fcmToken\n};\n\nadmin.messaging().send(message);\n</code></pre>"},{"location":"guides/push-notifications/#user-preferences","title":"User Preferences","text":"<p>Users can configure notification preferences:</p> <pre><code>GET  /api/notifications/settings\nPUT  /api/notifications/settings\nBody: {\n  pushEnabled: true,\n  bookingNotifications: true,\n  paymentNotifications: true\n}\n</code></pre>"},{"location":"guides/push-notifications/#best-practices","title":"Best Practices","text":"<ol> <li>Request permission - Ask user before sending</li> <li>Handle errors - Invalid tokens, etc.</li> <li>Batch notifications - Send multiple at once</li> <li>Personalize - Use user's name, etc.</li> <li>Test thoroughly - Test on real devices</li> </ol>"},{"location":"guides/push-notifications/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/push-notifications/#notifications-not-received","title":"Notifications Not Received","text":"<ol> <li>Check FCM token is valid</li> <li>Verify notification permissions</li> <li>Check device is online</li> <li>Review FCM logs</li> </ol>"},{"location":"guides/push-notifications/#token-expired","title":"Token Expired","text":"<ol> <li>Refresh token periodically</li> <li>Handle token refresh errors</li> <li>Update token in database</li> </ol>"},{"location":"guides/push-notifications/#next-steps","title":"Next Steps","text":"<ul> <li>Review Notifications Feature</li> <li>Check API Documentation</li> </ul>"},{"location":"guides/sms-integration/","title":"SMS Integration Guide","text":""},{"location":"guides/sms-integration/#overview","title":"Overview","text":"<p>This guide covers SMS integration using Twilio for verification codes and notifications.</p>"},{"location":"guides/sms-integration/#twilio-setup","title":"Twilio Setup","text":""},{"location":"guides/sms-integration/#1-create-twilio-account","title":"1. Create Twilio Account","text":"<ol> <li>Sign up at Twilio</li> <li>Verify phone number</li> <li>Get account credentials</li> </ol>"},{"location":"guides/sms-integration/#2-get-credentials","title":"2. Get Credentials","text":"<ul> <li>Account SID</li> <li>Auth Token</li> <li>Phone Number</li> </ul>"},{"location":"guides/sms-integration/#3-configure-environment","title":"3. Configure Environment","text":"<pre><code>TWILIO_ACCOUNT_SID=your-account-sid\nTWILIO_AUTH_TOKEN=your-auth-token\nTWILIO_PHONE_NUMBER=+1234567890\n</code></pre>"},{"location":"guides/sms-integration/#sms-features","title":"SMS Features","text":""},{"location":"guides/sms-integration/#verification-codes","title":"Verification Codes","text":"<p>Used for phone-based authentication:</p> <pre><code>POST /api/auth/send-code\nBody: {\n  phoneNumber: '+1234567890'\n}\n</code></pre>"},{"location":"guides/sms-integration/#notifications","title":"Notifications","text":"<p>Send SMS notifications:</p> <pre><code>POST /api/notifications/sms\nBody: {\n  phoneNumber: '+1234567890',\n  message: 'Your booking is confirmed'\n}\n</code></pre>"},{"location":"guides/sms-integration/#implementation","title":"Implementation","text":""},{"location":"guides/sms-integration/#send-sms","title":"Send SMS","text":"<pre><code>const twilio = require('twilio');\nconst client = twilio(\n  process.env.TWILIO_ACCOUNT_SID,\n  process.env.TWILIO_AUTH_TOKEN\n);\n\nawait client.messages.create({\n  body: 'Your verification code is: 123456',\n  from: process.env.TWILIO_PHONE_NUMBER,\n  to: '+1234567890'\n});\n</code></pre>"},{"location":"guides/sms-integration/#sms-templates","title":"SMS Templates","text":""},{"location":"guides/sms-integration/#verification-code","title":"Verification Code","text":"<pre><code>Your LocalPro verification code is: {code}\nValid for 5 minutes.\n</code></pre>"},{"location":"guides/sms-integration/#booking-confirmation","title":"Booking Confirmation","text":"<pre><code>Your booking is confirmed for {date} at {time}.\nService: {serviceName}\n</code></pre>"},{"location":"guides/sms-integration/#payment-notification","title":"Payment Notification","text":"<pre><code>Payment of {amount} {currency} received.\nTransaction ID: {transactionId}\n</code></pre>"},{"location":"guides/sms-integration/#rate-limiting","title":"Rate Limiting","text":""},{"location":"guides/sms-integration/#verification-codes_1","title":"Verification Codes","text":"<ul> <li>1 code per phone per minute</li> <li>Code expires in 5 minutes</li> <li>Maximum 5 attempts per code</li> </ul>"},{"location":"guides/sms-integration/#notifications_1","title":"Notifications","text":"<ul> <li>Respect user preferences</li> <li>Batch when possible</li> <li>Avoid spam</li> </ul>"},{"location":"guides/sms-integration/#best-practices","title":"Best Practices","text":"<ol> <li>Format phone numbers - Use E.164 format</li> <li>Handle errors - Invalid numbers, etc.</li> <li>Rate limiting - Prevent abuse</li> <li>Cost management - Monitor usage</li> <li>User consent - Get permission for notifications</li> </ol>"},{"location":"guides/sms-integration/#testing","title":"Testing","text":""},{"location":"guides/sms-integration/#twilio-test-credentials","title":"Twilio Test Credentials","text":"<p>Use test credentials for development: - Test Account SID - Test Auth Token</p>"},{"location":"guides/sms-integration/#test-phone-numbers","title":"Test Phone Numbers","text":"<p>Twilio provides test numbers for testing.</p>"},{"location":"guides/sms-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/sms-integration/#sms-not-received","title":"SMS Not Received","text":"<ol> <li>Check phone number format</li> <li>Verify Twilio credentials</li> <li>Check account balance</li> <li>Review Twilio logs</li> </ol>"},{"location":"guides/sms-integration/#invalid-phone-number","title":"Invalid Phone Number","text":"<ol> <li>Validate format (E.164)</li> <li>Check country code</li> <li>Verify number exists</li> </ol>"},{"location":"guides/sms-integration/#cost-management","title":"Cost Management","text":"<ul> <li>Monitor SMS usage</li> <li>Set usage limits</li> <li>Use templates efficiently</li> <li>Consider alternatives for high volume</li> </ul>"},{"location":"guides/sms-integration/#next-steps","title":"Next Steps","text":"<ul> <li>Review Authentication Architecture</li> <li>Check Notifications Feature</li> </ul>"},{"location":"guides/webhook-setup/","title":"Webhook Setup Guide","text":""},{"location":"guides/webhook-setup/#overview","title":"Overview","text":"<p>This guide covers setting up webhooks for payment gateways and external services.</p>"},{"location":"guides/webhook-setup/#paypal-webhooks","title":"PayPal Webhooks","text":""},{"location":"guides/webhook-setup/#1-configure-webhook-url","title":"1. Configure Webhook URL","text":"<p>In PayPal Developer Dashboard: 1. Go to your app 2. Navigate to Webhooks 3. Add webhook URL: <code>https://api.localpro.com/api/paypal/webhook</code></p>"},{"location":"guides/webhook-setup/#2-subscribe-to-events","title":"2. Subscribe to Events","text":"<p>Select events to receive: - <code>PAYMENT.CAPTURE.COMPLETED</code> - <code>PAYMENT.CAPTURE.DENIED</code> - <code>PAYMENT.CAPTURE.REFUNDED</code></p>"},{"location":"guides/webhook-setup/#3-verify-webhook","title":"3. Verify Webhook","text":"<pre><code>// Webhook endpoint automatically verifies signature\nPOST /api/paypal/webhook\nHeaders: {\n  'paypal-transmission-id': '...',\n  'paypal-cert-url': '...',\n  'paypal-auth-algo': '...',\n  'paypal-transmission-sig': '...',\n  'paypal-transmission-time': '...'\n}\n</code></pre>"},{"location":"guides/webhook-setup/#paymongo-webhooks","title":"PayMongo Webhooks","text":""},{"location":"guides/webhook-setup/#1-configure-webhook-url_1","title":"1. Configure Webhook URL","text":"<p>In PayMongo Dashboard: 1. Go to Webhooks 2. Add webhook URL: <code>https://api.localpro.com/api/paymongo/webhook</code></p>"},{"location":"guides/webhook-setup/#2-subscribe-to-events_1","title":"2. Subscribe to Events","text":"<p>Select events: - <code>payment_intent.succeeded</code> - <code>payment_intent.payment_failed</code> - <code>charge.succeeded</code></p>"},{"location":"guides/webhook-setup/#3-get-webhook-secret","title":"3. Get Webhook Secret","text":"<p>Copy webhook secret from dashboard.</p>"},{"location":"guides/webhook-setup/#4-configure-secret","title":"4. Configure Secret","text":"<pre><code>PAYMONGO_WEBHOOK_SECRET=whsec_...\n</code></pre>"},{"location":"guides/webhook-setup/#5-verify-webhook","title":"5. Verify Webhook","text":"<pre><code>// Webhook endpoint verifies signature\nPOST /api/paymongo/webhook\nHeaders: {\n  'paymongo-signature': '...'\n}\n</code></pre>"},{"location":"guides/webhook-setup/#testing-webhooks","title":"Testing Webhooks","text":""},{"location":"guides/webhook-setup/#paypal-sandbox","title":"PayPal Sandbox","text":"<ol> <li>Use PayPal webhook simulator</li> <li>Send test events</li> <li>Verify processing</li> </ol>"},{"location":"guides/webhook-setup/#paymongo-test-mode","title":"PayMongo Test Mode","text":"<ol> <li>Use test webhook secret</li> <li>Send test events</li> <li>Verify processing</li> </ol>"},{"location":"guides/webhook-setup/#local-testing","title":"Local Testing","text":"<p>Use ngrok for local testing:</p> <pre><code># Install ngrok\nnpm install -g ngrok\n\n# Start tunnel\nngrok http 5000\n\n# Use ngrok URL in webhook configuration\nhttps://abc123.ngrok.io/api/paypal/webhook\n</code></pre>"},{"location":"guides/webhook-setup/#webhook-security","title":"Webhook Security","text":""},{"location":"guides/webhook-setup/#signature-verification","title":"Signature Verification","text":"<p>All webhooks verify signatures: - PayPal: Multiple headers - PayMongo: Signature header</p>"},{"location":"guides/webhook-setup/#best-practices","title":"Best Practices","text":"<ol> <li>Always verify signatures - Never trust unverified webhooks</li> <li>Use HTTPS - Encrypt webhook traffic</li> <li>Idempotency - Handle duplicate events</li> <li>Logging - Log all webhook events</li> <li>Error handling - Return appropriate status codes</li> </ol>"},{"location":"guides/webhook-setup/#webhook-events","title":"Webhook Events","text":""},{"location":"guides/webhook-setup/#paypal-events","title":"PayPal Events","text":"<ul> <li><code>PAYMENT.CAPTURE.COMPLETED</code> - Payment successful</li> <li><code>PAYMENT.CAPTURE.DENIED</code> - Payment failed</li> <li><code>PAYMENT.CAPTURE.REFUNDED</code> - Payment refunded</li> </ul>"},{"location":"guides/webhook-setup/#paymongo-events","title":"PayMongo Events","text":"<ul> <li><code>payment_intent.succeeded</code> - Payment successful</li> <li><code>payment_intent.payment_failed</code> - Payment failed</li> <li><code>charge.succeeded</code> - Charge completed</li> </ul>"},{"location":"guides/webhook-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/webhook-setup/#webhook-not-received","title":"Webhook Not Received","text":"<ol> <li>Check webhook URL is correct</li> <li>Verify server is accessible</li> <li>Check firewall settings</li> <li>Review webhook logs</li> </ol>"},{"location":"guides/webhook-setup/#signature-verification-failed","title":"Signature Verification Failed","text":"<ol> <li>Verify webhook secret is correct</li> <li>Check signature algorithm</li> <li>Ensure payload is not modified</li> </ol>"},{"location":"guides/webhook-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Review Payment Integration</li> <li>Check API Webhooks</li> </ul>"},{"location":"reference/api-versioning/","title":"API Versioning","text":""},{"location":"reference/api-versioning/#overview","title":"Overview","text":"<p>This guide covers API versioning strategy for the LocalPro Super App.</p>"},{"location":"reference/api-versioning/#current-version","title":"Current Version","text":"<p>Currently using unversioned API (<code>/api</code>). All endpoints are at the latest version.</p>"},{"location":"reference/api-versioning/#versioning-strategy","title":"Versioning Strategy","text":""},{"location":"reference/api-versioning/#url-versioning-recommended","title":"URL Versioning (Recommended)","text":"<pre><code>/api/v1/services\n/api/v2/services\n</code></pre>"},{"location":"reference/api-versioning/#header-versioning-alternative","title":"Header Versioning (Alternative)","text":"<pre><code>Accept: application/vnd.localpro.v1+json\n</code></pre>"},{"location":"reference/api-versioning/#when-to-version","title":"When to Version","text":"<p>Version the API when: - Breaking changes to existing endpoints - Removing endpoints - Changing response formats - Changing authentication</p> <p>Don't version for: - Adding new endpoints - Adding optional fields - Bug fixes - Performance improvements</p>"},{"location":"reference/api-versioning/#versioning-implementation","title":"Versioning Implementation","text":""},{"location":"reference/api-versioning/#route-versioning","title":"Route Versioning","text":"<pre><code>// v1 routes\napp.use('/api/v1', v1Routes);\n\n// v2 routes\napp.use('/api/v2', v2Routes);\n\n// Latest (defaults to current version)\napp.use('/api', currentRoutes);\n</code></pre>"},{"location":"reference/api-versioning/#backward-compatibility","title":"Backward Compatibility","text":"<p>Maintain backward compatibility: - Keep old versions active - Deprecate before removing - Provide migration guides</p>"},{"location":"reference/api-versioning/#deprecation-process","title":"Deprecation Process","text":""},{"location":"reference/api-versioning/#1-announce-deprecation","title":"1. Announce Deprecation","text":"<pre><code>Deprecation: true\nSunset: 2026-12-31\nLink: &lt;https://docs.localpro.com/migration&gt;\n</code></pre>"},{"location":"reference/api-versioning/#2-deprecation-period","title":"2. Deprecation Period","text":"<ul> <li>Minimum 6 months</li> <li>Provide migration guide</li> <li>Support both versions</li> </ul>"},{"location":"reference/api-versioning/#3-removal","title":"3. Removal","text":"<ul> <li>Remove after deprecation period</li> <li>Notify users in advance</li> <li>Provide alternative endpoints</li> </ul>"},{"location":"reference/api-versioning/#migration-guide","title":"Migration Guide","text":"<p>When migrating between versions:</p> <ol> <li>Review changelog</li> <li>Test in staging</li> <li>Update client code</li> <li>Deploy gradually</li> <li>Monitor for issues</li> </ol>"},{"location":"reference/api-versioning/#best-practices","title":"Best Practices","text":"<ol> <li>Version early - Before breaking changes</li> <li>Document changes - Clear changelog</li> <li>Support multiple versions - During transition</li> <li>Deprecate properly - Give notice</li> <li>Monitor usage - Track version adoption</li> </ol>"},{"location":"reference/api-versioning/#future-plans","title":"Future Plans","text":"<p>API versioning will be implemented when: - Breaking changes are needed - Major refactoring occurs - Significant feature additions</p>"},{"location":"reference/api-versioning/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Design</li> <li>API Overview</li> </ul>"},{"location":"reference/database-schemas/","title":"Database Schemas Reference","text":""},{"location":"reference/database-schemas/#overview","title":"Overview","text":"<p>This document provides reference for all database schemas in the LocalPro Super App.</p>"},{"location":"reference/database-schemas/#core-schemas","title":"Core Schemas","text":""},{"location":"reference/database-schemas/#user","title":"User","text":"<pre><code>{\n  _id: ObjectId,\n  phoneNumber: String (unique, required),\n  email: String (unique, sparse),\n  firstName: String,\n  lastName: String,\n  roles: [String], // client, provider, admin, etc.\n  isVerified: Boolean,\n  profile: {\n    avatar: { url, publicId, thumbnail },\n    bio: String,\n    address: { street, city, coordinates: { lat, lng } }\n  },\n  wallet: ObjectId (ref: UserWallet),\n  isActive: Boolean,\n  createdAt: Date,\n  updatedAt: Date\n}\n</code></pre>"},{"location":"reference/database-schemas/#service","title":"Service","text":"<pre><code>{\n  _id: ObjectId,\n  title: String (required),\n  description: String,\n  category: String,\n  provider: ObjectId (ref: User),\n  pricing: {\n    basePrice: Number,\n    hourlyRate: Number,\n    currency: String\n  },\n  location: {\n    address: String,\n    coordinates: { lat: Number, lng: Number }\n  },\n  images: [{ url, publicId, thumbnail }],\n  rating: { average: Number, count: Number },\n  status: String, // active, inactive, pending\n  createdAt: Date,\n  updatedAt: Date\n}\n</code></pre>"},{"location":"reference/database-schemas/#booking","title":"Booking","text":"<pre><code>{\n  _id: ObjectId,\n  service: ObjectId (ref: Service),\n  client: ObjectId (ref: User),\n  provider: ObjectId (ref: User),\n  status: String, // pending, confirmed, in_progress, completed, cancelled\n  scheduledDate: Date,\n  scheduledTime: String,\n  address: { street, city, coordinates },\n  payment: {\n    method: String,\n    amount: Number,\n    status: String\n  },\n  review: ObjectId (ref: Review),\n  createdAt: Date,\n  updatedAt: Date\n}\n</code></pre>"},{"location":"reference/database-schemas/#financial-schemas","title":"Financial Schemas","text":""},{"location":"reference/database-schemas/#userwallet","title":"UserWallet","text":"<pre><code>{\n  _id: ObjectId,\n  user: ObjectId (ref: User),\n  balance: Number,\n  currency: String,\n  transactions: [ObjectId] (ref: Transaction),\n  createdAt: Date,\n  updatedAt: Date\n}\n</code></pre>"},{"location":"reference/database-schemas/#transaction","title":"Transaction","text":"<pre><code>{\n  _id: ObjectId,\n  user: ObjectId (ref: User),\n  type: String, // credit, debit\n  amount: Number,\n  currency: String,\n  description: String,\n  reference: String,\n  status: String,\n  createdAt: Date\n}\n</code></pre>"},{"location":"reference/database-schemas/#academy-schemas","title":"Academy Schemas","text":""},{"location":"reference/database-schemas/#course","title":"Course","text":"<pre><code>{\n  _id: ObjectId,\n  title: String (required),\n  description: String,\n  category: String,\n  instructor: ObjectId (ref: User),\n  curriculum: {\n    modules: [{\n      title: String,\n      lessons: [{\n        title: String,\n        type: String, // video, text, quiz\n        content: String\n      }]\n    }]\n  },\n  pricing: {\n    regularPrice: Number,\n    discountedPrice: Number,\n    currency: String\n  },\n  enrollment: {\n    current: Number,\n    maxCapacity: Number\n  },\n  rating: { average: Number, count: Number },\n  createdAt: Date,\n  updatedAt: Date\n}\n</code></pre>"},{"location":"reference/database-schemas/#indexes","title":"Indexes","text":""},{"location":"reference/database-schemas/#user-indexes","title":"User Indexes","text":"<pre><code>users.createIndex({ phoneNumber: 1 }, { unique: true });\nusers.createIndex({ email: 1 }, { unique: true, sparse: true });\nusers.createIndex({ 'profile.coordinates': '2dsphere' });\n</code></pre>"},{"location":"reference/database-schemas/#service-indexes","title":"Service Indexes","text":"<pre><code>services.createIndex({ provider: 1 });\nservices.createIndex({ category: 1 });\nservices.createIndex({ location: '2dsphere' });\nservices.createIndex({ title: 'text', description: 'text' });\n</code></pre>"},{"location":"reference/database-schemas/#booking-indexes","title":"Booking Indexes","text":"<pre><code>bookings.createIndex({ client: 1, status: 1 });\nbookings.createIndex({ provider: 1, status: 1 });\nbookings.createIndex({ createdAt: -1 });\n</code></pre>"},{"location":"reference/database-schemas/#relationships","title":"Relationships","text":""},{"location":"reference/database-schemas/#one-to-one","title":"One-to-One","text":"<ul> <li>User \u2192 UserWallet</li> <li>User \u2192 UserSettings</li> </ul>"},{"location":"reference/database-schemas/#one-to-many","title":"One-to-Many","text":"<ul> <li>User \u2192 Services</li> <li>User \u2192 Bookings (as client)</li> <li>User \u2192 Bookings (as provider)</li> </ul>"},{"location":"reference/database-schemas/#many-to-many","title":"Many-to-Many","text":"<ul> <li>Users \u2194 Agencies</li> <li>Courses \u2194 Enrollments</li> </ul>"},{"location":"reference/database-schemas/#schema-validation","title":"Schema Validation","text":"<p>All schemas include: - Required fields - Type validation - Enum validation - Custom validators</p>"},{"location":"reference/database-schemas/#related-documentation","title":"Related Documentation","text":"<ul> <li>Database Architecture</li> <li>Models Directory</li> </ul>"},{"location":"reference/environment-variables/","title":"Environment Variables Reference","text":""},{"location":"reference/environment-variables/#required-variables","title":"Required Variables","text":""},{"location":"reference/environment-variables/#server-configuration","title":"Server Configuration","text":"Variable Description Example <code>NODE_ENV</code> Environment mode <code>production</code>, <code>development</code> <code>PORT</code> Server port <code>5000</code>"},{"location":"reference/environment-variables/#database","title":"Database","text":"Variable Description Example <code>MONGODB_URI</code> MongoDB connection string <code>mongodb://localhost:27017/localpro</code> <code>MONGODB_USER</code> MongoDB username (optional) <code>admin</code> <code>MONGODB_PASSWORD</code> MongoDB password (optional) <code>password</code>"},{"location":"reference/environment-variables/#authentication","title":"Authentication","text":"Variable Description Example <code>JWT_SECRET</code> JWT signing secret <code>your-secret-key</code> <code>JWT_EXPIRE</code> Token expiration <code>24h</code>"},{"location":"reference/environment-variables/#external-services","title":"External Services","text":""},{"location":"reference/environment-variables/#twilio-sms","title":"Twilio (SMS)","text":"Variable Description <code>TWILIO_ACCOUNT_SID</code> Twilio account SID <code>TWILIO_AUTH_TOKEN</code> Twilio auth token <code>TWILIO_PHONE_NUMBER</code> Twilio phone number"},{"location":"reference/environment-variables/#cloudinary-file-storage","title":"Cloudinary (File Storage)","text":"Variable Description <code>CLOUDINARY_CLOUD_NAME</code> Cloudinary cloud name <code>CLOUDINARY_API_KEY</code> Cloudinary API key <code>CLOUDINARY_API_SECRET</code> Cloudinary API secret"},{"location":"reference/environment-variables/#paypal","title":"PayPal","text":"Variable Description <code>PAYPAL_CLIENT_ID</code> PayPal client ID <code>PAYPAL_CLIENT_SECRET</code> PayPal client secret <code>PAYPAL_MODE</code> <code>sandbox</code> or <code>live</code>"},{"location":"reference/environment-variables/#paymayapaymongo","title":"PayMaya/PayMongo","text":"Variable Description <code>PAYMONGO_SECRET_KEY</code> PayMongo secret key <code>PAYMONGO_PUBLIC_KEY</code> PayMongo public key"},{"location":"reference/environment-variables/#optional-variables","title":"Optional Variables","text":""},{"location":"reference/environment-variables/#cors","title":"CORS","text":"Variable Description Default <code>FRONTEND_URL</code> Frontend URL - <code>ADMIN_URL</code> Admin panel URL -"},{"location":"reference/environment-variables/#logging","title":"Logging","text":"Variable Description Default <code>LOG_LEVEL</code> Log level <code>info</code> <code>LOG_DIR</code> Log directory <code>logs</code>"},{"location":"reference/environment-variables/#example-env-file","title":"Example .env File","text":"<pre><code># Server\nNODE_ENV=development\nPORT=5000\n\n# Database\nMONGODB_URI=mongodb://localhost:27017/localpro-super-app\n\n# JWT\nJWT_SECRET=your-secret-key-here\nJWT_EXPIRE=24h\n\n# Twilio\nTWILIO_ACCOUNT_SID=your-account-sid\nTWILIO_AUTH_TOKEN=your-auth-token\nTWILIO_PHONE_NUMBER=+1234567890\n\n# Cloudinary\nCLOUDINARY_CLOUD_NAME=your-cloud-name\nCLOUDINARY_API_KEY=your-api-key\nCLOUDINARY_API_SECRET=your-api-secret\n\n# PayPal\nPAYPAL_CLIENT_ID=your-client-id\nPAYPAL_CLIENT_SECRET=your-client-secret\nPAYPAL_MODE=sandbox\n\n# CORS\nFRONTEND_URL=http://localhost:3000\nADMIN_URL=http://localhost:3001\n</code></pre>"},{"location":"reference/environment-variables/#security-notes","title":"Security Notes","text":"<ol> <li>Never commit .env files to repository</li> <li>Use strong secrets for JWT_SECRET</li> <li>Rotate secrets regularly</li> <li>Use different secrets per environment</li> <li>Store secrets securely in production</li> </ol>"},{"location":"reference/error-codes/","title":"Error Codes Reference","text":""},{"location":"reference/error-codes/#authentication-errors","title":"Authentication Errors","text":"Code Status Description <code>UNAUTHORIZED</code> 401 No token or invalid token <code>TOKEN_EXPIRED</code> 401 Token has expired <code>INVALID_CODE</code> 400 Invalid verification code <code>CODE_EXPIRED</code> 400 Verification code expired"},{"location":"reference/error-codes/#authorization-errors","title":"Authorization Errors","text":"Code Status Description <code>FORBIDDEN</code> 403 Insufficient permissions <code>ROLE_REQUIRED</code> 403 Specific role required"},{"location":"reference/error-codes/#validation-errors","title":"Validation Errors","text":"Code Status Description <code>VALIDATION_ERROR</code> 400 Request validation failed <code>INVALID_INPUT</code> 400 Invalid input data <code>MISSING_FIELD</code> 400 Required field missing"},{"location":"reference/error-codes/#resource-errors","title":"Resource Errors","text":"Code Status Description <code>NOT_FOUND</code> 404 Resource not found <code>ALREADY_EXISTS</code> 409 Resource already exists <code>CONFLICT</code> 409 Resource conflict"},{"location":"reference/error-codes/#rate-limiting","title":"Rate Limiting","text":"Code Status Description <code>RATE_LIMIT_EXCEEDED</code> 429 Too many requests"},{"location":"reference/error-codes/#server-errors","title":"Server Errors","text":"Code Status Description <code>INTERNAL_ERROR</code> 500 Internal server error <code>SERVICE_UNAVAILABLE</code> 503 Service unavailable"},{"location":"reference/error-codes/#example-error-response","title":"Example Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"message\": \"Validation failed\",\n  \"error\": \"Invalid input data\",\n  \"code\": \"VALIDATION_ERROR\",\n  \"details\": {\n    \"title\": \"Title is required\",\n    \"price\": \"Price must be a number\"\n  }\n}\n</code></pre>"},{"location":"troubleshooting/common-issues/","title":"Common Issues &amp; Solutions","text":""},{"location":"troubleshooting/common-issues/#database-connection-issues","title":"Database Connection Issues","text":""},{"location":"troubleshooting/common-issues/#issue-cannot-connect-to-mongodb","title":"Issue: Cannot connect to MongoDB","text":"<p>Symptoms: - <code>MongoNetworkError: connect ECONNREFUSED</code> - <code>MongoServerSelectionError</code></p> <p>Solutions:</p> <ol> <li> <p>Check MongoDB is running:    <pre><code># Local MongoDB\nmongod\n\n# Check status\nmongosh --eval \"db.adminCommand('ping')\"\n</code></pre></p> </li> <li> <p>Verify connection string:    <pre><code>MONGODB_URI=mongodb://localhost:27017/localpro-super-app\n</code></pre></p> </li> <li> <p>Check MongoDB Atlas (if using):</p> </li> <li>Verify IP whitelist</li> <li>Check credentials</li> <li>Verify network access</li> </ol>"},{"location":"troubleshooting/common-issues/#issue-authentication-failed","title":"Issue: Authentication failed","text":"<p>Solutions: - Verify username/password in connection string - Check <code>authSource</code> parameter - Verify user has proper permissions</p>"},{"location":"troubleshooting/common-issues/#authentication-issues","title":"Authentication Issues","text":""},{"location":"troubleshooting/common-issues/#issue-token-invalid-or-expired","title":"Issue: Token invalid or expired","text":"<p>Symptoms: - <code>401 Unauthorized</code> - <code>Token is not valid</code></p> <p>Solutions:</p> <ol> <li> <p>Check token format:    <pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre></p> </li> <li> <p>Verify JWT_SECRET:    <pre><code>JWT_SECRET=your-secret-key\n</code></pre></p> </li> <li> <p>Check token expiration:</p> </li> <li>Tokens expire after 24 hours</li> <li>User must re-authenticate</li> </ol>"},{"location":"troubleshooting/common-issues/#issue-verification-code-not-received","title":"Issue: Verification code not received","text":"<p>Solutions:</p> <ol> <li> <p>Check Twilio configuration:    <pre><code>TWILIO_ACCOUNT_SID=your-sid\nTWILIO_AUTH_TOKEN=your-token\nTWILIO_PHONE_NUMBER=your-number\n</code></pre></p> </li> <li> <p>Verify phone number format:</p> </li> <li> <p>Use E.164 format: <code>+1234567890</code></p> </li> <li> <p>Check rate limiting:</p> </li> <li>1 code per phone per minute</li> </ol>"},{"location":"troubleshooting/common-issues/#file-upload-issues","title":"File Upload Issues","text":""},{"location":"troubleshooting/common-issues/#issue-file-upload-fails","title":"Issue: File upload fails","text":"<p>Symptoms: - <code>413 Request Entity Too Large</code> - <code>Invalid file type</code></p> <p>Solutions:</p> <ol> <li>Check file size:</li> <li>Maximum: 5MB per file</li> <li> <p>Maximum: 5 files per request</p> </li> <li> <p>Verify file type:</p> </li> <li> <p>Allowed: <code>image/jpeg</code>, <code>image/png</code>, <code>image/webp</code></p> </li> <li> <p>Check Cloudinary config:    <pre><code>CLOUDINARY_CLOUD_NAME=your-cloud-name\nCLOUDINARY_API_KEY=your-api-key\nCLOUDINARY_API_SECRET=your-api-secret\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/common-issues/#api-issues","title":"API Issues","text":""},{"location":"troubleshooting/common-issues/#issue-cors-errors","title":"Issue: CORS errors","text":"<p>Symptoms: - <code>Access-Control-Allow-Origin</code> errors - Requests blocked by browser</p> <p>Solutions:</p> <ol> <li> <p>Add origin to CORS config:    <pre><code>// In server.js or config\nconst allowedOrigins = [\n  'http://localhost:3000',\n  'https://yourdomain.com'\n];\n</code></pre></p> </li> <li> <p>Check CORS middleware:</p> </li> <li>Ensure CORS is enabled</li> <li>Verify credentials setting</li> </ol>"},{"location":"troubleshooting/common-issues/#issue-rate-limit-exceeded","title":"Issue: Rate limit exceeded","text":"<p>Symptoms: - <code>429 Too Many Requests</code> - <code>X-RateLimit-Remaining: 0</code></p> <p>Solutions:</p> <ol> <li>Wait for reset:</li> <li>Check <code>X-RateLimit-Reset</code> header</li> <li> <p>Wait until reset time</p> </li> <li> <p>Reduce request frequency:</p> </li> <li>Implement request batching</li> <li> <p>Use caching</p> </li> <li> <p>Adjust rate limits (development only):    <pre><code>// Temporarily increase limits for testing\nmax: 1000\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/common-issues/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/common-issues/#issue-slow-queries","title":"Issue: Slow queries","text":"<p>Symptoms: - Requests taking &gt; 1 second - Database timeouts</p> <p>Solutions:</p> <ol> <li> <p>Add indexes:    <pre><code>// Add indexes for frequently queried fields\nModel.createIndex({ field: 1 });\n</code></pre></p> </li> <li> <p>Optimize queries:</p> </li> <li>Use projections to limit fields</li> <li>Implement pagination</li> <li> <p>Add query filters</p> </li> <li> <p>Check slow query logs:</p> </li> <li>Review logs for slow queries</li> <li>Optimize based on logs</li> </ol>"},{"location":"troubleshooting/common-issues/#issue-memory-leaks","title":"Issue: Memory leaks","text":"<p>Symptoms: - Increasing memory usage - Server crashes</p> <p>Solutions:</p> <ol> <li>Check for unclosed connections:</li> <li>Ensure database connections are closed</li> <li> <p>Close file streams</p> </li> <li> <p>Monitor memory usage:    <pre><code>node --inspect src/server.js\n</code></pre></p> </li> <li> <p>Review middleware:</p> </li> <li>Check for memory-intensive operations</li> <li>Optimize data processing</li> </ol>"},{"location":"troubleshooting/common-issues/#environment-issues","title":"Environment Issues","text":""},{"location":"troubleshooting/common-issues/#issue-environment-variables-not-loading","title":"Issue: Environment variables not loading","text":"<p>Symptoms: - <code>undefined</code> values - Configuration errors</p> <p>Solutions:</p> <ol> <li>Check .env file:</li> <li>Ensure file exists</li> <li> <p>Verify variable names</p> </li> <li> <p>Restart server:    <pre><code># Stop and restart\nnpm run dev\n</code></pre></p> </li> <li> <p>Verify dotenv:    <pre><code>require('dotenv').config();\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/common-issues/#payment-issues","title":"Payment Issues","text":""},{"location":"troubleshooting/common-issues/#issue-paypal-integration-fails","title":"Issue: PayPal integration fails","text":"<p>Solutions:</p> <ol> <li> <p>Check credentials:    <pre><code>PAYPAL_CLIENT_ID=your-client-id\nPAYPAL_CLIENT_SECRET=your-secret\nPAYPAL_MODE=sandbox  # or live\n</code></pre></p> </li> <li> <p>Verify webhook URL:</p> </li> <li>Check webhook endpoint</li> <li>Verify signature validation</li> </ol>"},{"location":"troubleshooting/common-issues/#issue-paymaya-integration-fails","title":"Issue: PayMaya integration fails","text":"<p>Solutions:</p> <ol> <li> <p>Check API keys:    <pre><code>PAYMONGO_SECRET_KEY=your-secret-key\nPAYMONGO_PUBLIC_KEY=your-public-key\n</code></pre></p> </li> <li> <p>Verify webhook configuration:</p> </li> <li>Check webhook URL</li> <li>Verify event handling</li> </ol>"},{"location":"troubleshooting/common-issues/#getting-help","title":"Getting Help","text":""},{"location":"troubleshooting/common-issues/#check-logs","title":"Check Logs","text":"<pre><code># Application logs\ntail -f logs/combined.log\n\n# Error logs\ntail -f logs/error.log\n</code></pre>"},{"location":"troubleshooting/common-issues/#debug-mode","title":"Debug Mode","text":"<pre><code># Enable debug logging\nDEBUG=* npm run dev\n</code></pre>"},{"location":"troubleshooting/common-issues/#support","title":"Support","text":"<ul> <li>Check FAQ</li> <li>Review Debugging Guide</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"troubleshooting/debugging/","title":"Debugging Guide","text":""},{"location":"troubleshooting/debugging/#overview","title":"Overview","text":"<p>This guide covers debugging techniques for troubleshooting issues in the LocalPro Super App.</p>"},{"location":"troubleshooting/debugging/#debugging-tools","title":"Debugging Tools","text":""},{"location":"troubleshooting/debugging/#vs-code-debugger","title":"VS Code Debugger","text":"<p>See Development Debugging Guide for VS Code setup.</p>"},{"location":"troubleshooting/debugging/#node-inspector","title":"Node Inspector","text":"<pre><code>node --inspect src/server.js\n</code></pre>"},{"location":"troubleshooting/debugging/#console-logging","title":"Console Logging","text":"<pre><code>console.log('Debug info:', { data });\nconsole.error('Error:', error);\n</code></pre>"},{"location":"troubleshooting/debugging/#common-debugging-scenarios","title":"Common Debugging Scenarios","text":""},{"location":"troubleshooting/debugging/#database-issues","title":"Database Issues","text":""},{"location":"troubleshooting/debugging/#connection-problems","title":"Connection Problems","text":"<pre><code>// Check connection status\nconst mongoose = require('mongoose');\nconsole.log('MongoDB state:', mongoose.connection.readyState);\n</code></pre>"},{"location":"troubleshooting/debugging/#query-issues","title":"Query Issues","text":"<pre><code>// Log queries\nmongoose.set('debug', true);\n\n// Explain query\nconst explain = await User.find({}).explain();\nconsole.log('Query plan:', explain);\n</code></pre>"},{"location":"troubleshooting/debugging/#authentication-issues","title":"Authentication Issues","text":""},{"location":"troubleshooting/debugging/#token-problems","title":"Token Problems","text":"<pre><code>// Verify token\nconst jwt = require('jsonwebtoken');\ntry {\n  const decoded = jwt.verify(token, process.env.JWT_SECRET);\n  console.log('Token valid:', decoded);\n} catch (error) {\n  console.error('Token error:', error.message);\n}\n</code></pre>"},{"location":"troubleshooting/debugging/#user-not-found","title":"User Not Found","text":"<pre><code>// Check user exists\nconst user = await User.findById(userId);\nconsole.log('User found:', !!user);\n</code></pre>"},{"location":"troubleshooting/debugging/#api-issues","title":"API Issues","text":""},{"location":"troubleshooting/debugging/#request-not-received","title":"Request Not Received","text":"<pre><code>// Log all requests\napp.use((req, res, next) =&gt; {\n  console.log(`${req.method} ${req.path}`, {\n    headers: req.headers,\n    body: req.body\n  });\n  next();\n});\n</code></pre>"},{"location":"troubleshooting/debugging/#response-issues","title":"Response Issues","text":"<pre><code>// Log responses\nres.on('finish', () =&gt; {\n  console.log('Response:', {\n    status: res.statusCode,\n    headers: res.getHeaders()\n  });\n});\n</code></pre>"},{"location":"troubleshooting/debugging/#performance-debugging","title":"Performance Debugging","text":""},{"location":"troubleshooting/debugging/#slow-queries","title":"Slow Queries","text":"<pre><code>// Enable slow query logging\n// Automatically logs queries &gt; 1000ms\n</code></pre>"},{"location":"troubleshooting/debugging/#memory-issues","title":"Memory Issues","text":"<pre><code># Check memory usage\nnode --inspect --expose-gc src/server.js\n</code></pre>"},{"location":"troubleshooting/debugging/#cpu-issues","title":"CPU Issues","text":"<pre><code># Profile CPU\nnode --prof src/server.js\nnode --prof-process isolate-*.log\n</code></pre>"},{"location":"troubleshooting/debugging/#error-debugging","title":"Error Debugging","text":""},{"location":"troubleshooting/debugging/#error-logs","title":"Error Logs","text":"<pre><code># View error logs\ntail -f logs/error.log\n\n# Search errors\ngrep \"ERROR\" logs/error.log\n</code></pre>"},{"location":"troubleshooting/debugging/#error-context","title":"Error Context","text":"<pre><code>try {\n  // Code\n} catch (error) {\n  logger.error('Error with context', {\n    error: error.message,\n    stack: error.stack,\n    userId: req.user?.id,\n    path: req.path\n  });\n}\n</code></pre>"},{"location":"troubleshooting/debugging/#network-debugging","title":"Network Debugging","text":""},{"location":"troubleshooting/debugging/#api-calls","title":"API Calls","text":"<pre><code>// Log external API calls\naxios.interceptors.request.use(request =&gt; {\n  console.log('API Request:', request.url);\n  return request;\n});\n</code></pre>"},{"location":"troubleshooting/debugging/#webhooks","title":"Webhooks","text":"<pre><code>// Log webhook events\napp.post('/webhook', (req, res) =&gt; {\n  console.log('Webhook received:', {\n    headers: req.headers,\n    body: req.body\n  });\n});\n</code></pre>"},{"location":"troubleshooting/debugging/#database-debugging","title":"Database Debugging","text":""},{"location":"troubleshooting/debugging/#query-performance","title":"Query Performance","text":"<pre><code>// Check index usage\nconst explain = await User.find({ phoneNumber }).explain();\nconsole.log('Index used:', explain.executionStats.executionStages.indexName);\n</code></pre>"},{"location":"troubleshooting/debugging/#connection-pool","title":"Connection Pool","text":"<pre><code>// Monitor connection pool\nmongoose.connection.on('connected', () =&gt; {\n  console.log('MongoDB connected', {\n    poolSize: mongoose.connection.poolSize\n  });\n});\n</code></pre>"},{"location":"troubleshooting/debugging/#best-practices","title":"Best Practices","text":"<ol> <li>Use structured logging - Include context</li> <li>Log at appropriate levels - Don't log everything</li> <li>Remove debug logs - Before production</li> <li>Use error tracking - For production</li> <li>Document issues - For future reference</li> </ol>"},{"location":"troubleshooting/debugging/#tools","title":"Tools","text":"<ul> <li>VS Code Debugger - Step-through debugging</li> <li>Chrome DevTools - Node.js debugging</li> <li>Winston - Logging</li> <li>MongoDB Compass - Database inspection</li> <li>Postman - API testing</li> </ul>"},{"location":"troubleshooting/debugging/#next-steps","title":"Next Steps","text":"<ul> <li>Review Common Issues</li> <li>Check Development Debugging</li> <li>Read Monitoring Guide</li> </ul>"},{"location":"troubleshooting/faq/","title":"Frequently Asked Questions","text":""},{"location":"troubleshooting/faq/#general","title":"General","text":""},{"location":"troubleshooting/faq/#q-what-is-localpro-super-app","title":"Q: What is LocalPro Super App?","text":"<p>A: LocalPro is a comprehensive platform connecting local service providers with customers. It includes marketplace, bookings, academy, supplies, rentals, jobs, and more.</p>"},{"location":"troubleshooting/faq/#q-what-technologies-does-it-use","title":"Q: What technologies does it use?","text":"<p>A: Node.js, Express.js, MongoDB, JWT authentication, Cloudinary for file storage, and various payment integrations (PayPal, PayMaya).</p>"},{"location":"troubleshooting/faq/#authentication","title":"Authentication","text":""},{"location":"troubleshooting/faq/#q-how-does-authentication-work","title":"Q: How does authentication work?","text":"<p>A: Phone-based authentication with SMS verification codes. No passwords required. Users receive a 6-digit code via SMS and use it to get a JWT token.</p>"},{"location":"troubleshooting/faq/#q-how-long-do-tokens-last","title":"Q: How long do tokens last?","text":"<p>A: JWT tokens are valid for 24 hours. Users need to re-authenticate after expiration.</p>"},{"location":"troubleshooting/faq/#q-can-i-use-emailpassword-authentication","title":"Q: Can I use email/password authentication?","text":"<p>A: Currently, only phone-based authentication is supported. Email/password may be added in the future.</p>"},{"location":"troubleshooting/faq/#api","title":"API","text":""},{"location":"troubleshooting/faq/#q-what-is-the-base-url","title":"Q: What is the base URL?","text":"<p>A:  - Production: <code>https://api.localpro.com/api</code> - Development: <code>http://localhost:5000/api</code></p>"},{"location":"troubleshooting/faq/#q-how-do-i-authenticate-api-requests","title":"Q: How do I authenticate API requests?","text":"<p>A: Include JWT token in Authorization header: <pre><code>Authorization: Bearer &lt;your-token&gt;\n</code></pre></p>"},{"location":"troubleshooting/faq/#q-what-is-the-rate-limit","title":"Q: What is the rate limit?","text":"<p>A:  - General: 100 requests per 15 minutes - Authentication: 5 requests per 15 minutes</p>"},{"location":"troubleshooting/faq/#development","title":"Development","text":""},{"location":"troubleshooting/faq/#q-how-do-i-set-up-the-development-environment","title":"Q: How do I set up the development environment?","text":"<p>A: See Development Setup guide.</p>"},{"location":"troubleshooting/faq/#q-how-do-i-run-tests","title":"Q: How do I run tests?","text":"<p>A:  <pre><code>npm test\n</code></pre></p>"},{"location":"troubleshooting/faq/#q-how-do-i-seed-the-database","title":"Q: How do I seed the database?","text":"<p>A: <pre><code>npm run seed:categories\nnpm run seed:job-categories\n</code></pre></p>"},{"location":"troubleshooting/faq/#database","title":"Database","text":""},{"location":"troubleshooting/faq/#q-what-database-does-it-use","title":"Q: What database does it use?","text":"<p>A: MongoDB (version 6.0+)</p>"},{"location":"troubleshooting/faq/#q-can-i-use-a-different-database","title":"Q: Can I use a different database?","text":"<p>A: The application is designed for MongoDB. Switching would require significant changes.</p>"},{"location":"troubleshooting/faq/#q-how-do-i-backup-the-database","title":"Q: How do I backup the database?","text":"<p>A: Use MongoDB backup tools: <pre><code>mongodump --uri=\"mongodb://localhost:27017/localpro-super-app\"\n</code></pre></p>"},{"location":"troubleshooting/faq/#payments","title":"Payments","text":""},{"location":"troubleshooting/faq/#q-what-payment-methods-are-supported","title":"Q: What payment methods are supported?","text":"<p>A: PayPal and PayMaya (for Philippines market)</p>"},{"location":"troubleshooting/faq/#q-how-do-i-test-payments","title":"Q: How do I test payments?","text":"<p>A: Use sandbox/test credentials for PayPal and PayMaya test mode.</p>"},{"location":"troubleshooting/faq/#q-are-payments-secure","title":"Q: Are payments secure?","text":"<p>A: Yes, all payment processing is handled through secure payment gateways with proper encryption.</p>"},{"location":"troubleshooting/faq/#file-uploads","title":"File Uploads","text":""},{"location":"troubleshooting/faq/#q-what-file-types-are-supported","title":"Q: What file types are supported?","text":"<p>A: Images: JPEG, PNG, WebP. Maximum 5MB per file.</p>"},{"location":"troubleshooting/faq/#q-where-are-files-stored","title":"Q: Where are files stored?","text":"<p>A: Files are stored on Cloudinary CDN.</p>"},{"location":"troubleshooting/faq/#q-how-many-files-can-i-upload","title":"Q: How many files can I upload?","text":"<p>A: Up to 5 files per request for most endpoints.</p>"},{"location":"troubleshooting/faq/#features","title":"Features","text":""},{"location":"troubleshooting/faq/#q-what-features-are-available","title":"Q: What features are available?","text":"<p>A: Marketplace, Bookings, Academy, Supplies, Rentals, Jobs, Finance, Subscriptions, and more. See Features.</p>"},{"location":"troubleshooting/faq/#q-how-do-i-enabledisable-features","title":"Q: How do I enable/disable features?","text":"<p>A: Use admin settings endpoint: <pre><code>POST /api/settings/app/features/toggle\n</code></pre></p>"},{"location":"troubleshooting/faq/#deployment","title":"Deployment","text":""},{"location":"troubleshooting/faq/#q-how-do-i-deploy-to-production","title":"Q: How do I deploy to production?","text":"<p>A: See Deployment Guide.</p>"},{"location":"troubleshooting/faq/#q-what-environment-variables-are-required","title":"Q: What environment variables are required?","text":"<p>A: See Environment Variables Reference.</p>"},{"location":"troubleshooting/faq/#support","title":"Support","text":""},{"location":"troubleshooting/faq/#q-where-can-i-get-help","title":"Q: Where can I get help?","text":"<p>A:  - Check documentation - Review Common Issues - Open an issue on GitHub</p>"},{"location":"troubleshooting/faq/#q-how-do-i-report-a-bug","title":"Q: How do I report a bug?","text":"<p>A: Open an issue on GitHub with: - Description of the bug - Steps to reproduce - Expected vs actual behavior - Environment details</p>"}]}