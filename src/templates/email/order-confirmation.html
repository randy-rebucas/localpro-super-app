<h1 style="color: #667eea; margin-bottom: 20px;">Order Confirmed! 📦</h1>

<p>Hi <strong>{{customerName}}</strong>,</p>

<p>Thank you for your order! We've received your request and are preparing your items for shipment. Here are the details of your order:</p>

<div class="content-box">
    <h3 style="color: #667eea; margin-top: 0;">📋 Order Summary</h3>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td style="padding: 8px 0; font-weight: bold; width: 40%;">Order Number:</td>
            <td style="padding: 8px 0; font-family: monospace; font-weight: bold;">#{{orderNumber}}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Order Date:</td>
            <td style="padding: 8px 0;">{{orderDate}}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Order Type:</td>
            <td style="padding: 8px 0;">
                {{#if isSubscription}}
                <span style="background: #d1ecf1; color: #0c5460; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                    📅 Subscription Order
                </span>
                {{else}}
                <span style="background: #d4edda; color: #155724; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                    🛒 One-time Order
                </span>
                {{/if}}
            </td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Status:</td>
            <td style="padding: 8px 0;">
                <span style="background: #d4edda; color: #155724; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                    {{status}}
                </span>
            </td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Total Amount:</td>
            <td style="padding: 8px 0; font-size: 18px; font-weight: bold; color: #667eea;">${{totalAmount}}</td>
        </tr>
    </table>
</div>

<div class="content-box">
    <h3 style="color: #667eea; margin-top: 0;">📦 Order Items</h3>
    {{#each items}}
    <div style="display: flex; align-items: center; gap: 15px; padding: 15px 0; border-bottom: 1px solid #e9ecef;">
        <div style="width: 60px; height: 60px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
            {{#if productImage}}
            <img src="{{productImage}}" alt="{{productName}}" style="width: 100%; height: 100%; object-fit: cover;">
            {{else}}
            <span style="color: #6c757d; font-size: 24px;">📦</span>
            {{/if}}
        </div>
        <div style="flex: 1;">
            <h4 style="margin: 0 0 5px 0; color: #333;">{{productName}}</h4>
            <p style="margin: 0; color: #666; font-size: 14px;">Quantity: {{quantity}}</p>
            <p style="margin: 5px 0 0 0; color: #667eea; font-weight: bold;">${{itemTotal}}</p>
        </div>
    </div>
    {{/each}}
</div>

{{#if subscriptionDetails}}
<div class="content-box">
    <h3 style="color: #667eea; margin-top: 0;">📅 Subscription Details</h3>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td style="padding: 8px 0; font-weight: bold; width: 40%;">Kit Name:</td>
            <td style="padding: 8px 0;">{{subscriptionKit.name}}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Frequency:</td>
            <td style="padding: 8px 0;">{{subscriptionDetails.frequency}}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Next Delivery:</td>
            <td style="padding: 8px 0;">{{subscriptionDetails.nextDelivery}}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; font-weight: bold;">Status:</td>
            <td style="padding: 8px 0;">
                {{#if subscriptionDetails.isActive}}
                <span style="background: #d4edda; color: #155724; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                    ✅ Active
                </span>
                {{else}}
                <span style="background: #f8d7da; color: #721c24; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                    ⏸️ Paused
                </span>
                {{/if}}
            </td>
        </tr>
    </table>
</div>
{{/if}}

<div class="content-box">
    <h3 style="color: #667eea; margin-top: 0;">🚚 Shipping Information</h3>
    <p style="margin: 0;">
        <strong>{{shippingAddress.name}}</strong><br>
        {{shippingAddress.street}}<br>
        {{shippingAddress.city}}, {{shippingAddress.state}} {{shippingAddress.zipCode}}<br>
        {{shippingAddress.country}}
    </p>
    {{#if estimatedDelivery}}
    <div style="margin-top: 15px; padding: 10px; background: #d1ecf1; border-left: 4px solid #17a2b8; border-radius: 0 4px 4px 0;">
        <strong>Estimated Delivery:</strong> {{estimatedDelivery}}
    </div>
    {{/if}}
</div>

<div class="highlight info">
    <h4 style="margin-top: 0; color: #0c5460;">📱 Track Your Order</h4>
    <p style="margin-bottom: 0;">
        You can track your order status and receive real-time updates through the LocalPro app. 
        We'll also send you email notifications when your order ships and is delivered.
    </p>
</div>

<div style="text-align: center; margin: 30px 0;">
    <a href="{{app_url}}/orders/{{orderId}}" class="btn">Track Order</a>
    <a href="{{app_url}}/orders" class="btn btn-secondary">View All Orders</a>
</div>

<div class="divider"></div>

<h3 style="color: #667eea;">💡 What Happens Next?</h3>

<div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0;">
    <div style="flex: 1; min-width: 250px; background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
        <h4 style="color: #667eea; margin-top: 0;">📦 Processing</h4>
        <p style="margin-bottom: 0;">We're preparing your items and will ship them within 1-2 business days.</p>
    </div>
    <div style="flex: 1; min-width: 250px; background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
        <h4 style="color: #667eea; margin-top: 0;">🚚 Shipping</h4>
        <p style="margin-bottom: 0;">You'll receive a tracking number once your order ships.</p>
    </div>
    <div style="flex: 1; min-width: 250px; background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
        <h4 style="color: #667eea; margin-top: 0;">✅ Delivery</h4>
        <p style="margin-bottom: 0;">Your order will be delivered to your specified address.</p>
    </div>
</div>

{{#if isSubscription}}
<div class="highlight success">
    <h4 style="margin-top: 0; color: #155724;">🔄 Subscription Benefits</h4>
    <ul style="margin-bottom: 0; padding-left: 20px;">
        <li>Automatic reordering based on your selected frequency</li>
        <li>10% discount on all subscription items</li>
        <li>Free shipping on all subscription orders</li>
        <li>Easy pause, skip, or cancel anytime</li>
    </ul>
</div>
{{/if}}

<div class="highlight warning">
    <h4 style="margin-top: 0; color: #856404;">📞 Need Help?</h4>
    <p style="margin-bottom: 0;">
        If you have any questions about your order or need to make changes, please contact our support team. 
        We're here to help ensure you have a great experience with LocalPro.
    </p>
</div>

<p>Thank you for choosing LocalPro for your supply needs. We appreciate your business and look forward to serving you again!</p>

<p>Best regards,<br>
<strong>The LocalPro Team</strong></p>
